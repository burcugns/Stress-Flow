function xS(r,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function NS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Nm={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function OS(){if(Y_)return Yl;Y_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Yl.Fragment=e,Yl.jsx=n,Yl.jsxs=n,Yl}var K_;function DS(){return K_||(K_=1,Nm.exports=OS()),Nm.exports}var G=DS(),Om={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function MS(){if(Q_)return Ce;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,H={};function U(M,te,ue){this.props=M,this.context=te,this.refs=H,this.updater=ue||O}U.prototype.isReactComponent={},U.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function F(){}F.prototype=U.prototype;function Q(M,te,ue){this.props=M,this.context=te,this.refs=H,this.updater=ue||O}var Y=Q.prototype=new F;Y.constructor=Q,V(Y,U.prototype),Y.isPureReactComponent=!0;var ie=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function x(M,te,ue,J,pe,Se){return ue=Se.ref,{$$typeof:r,type:M,key:te,ref:ue!==void 0?ue:null,props:Se}}function R(M,te){return x(M.type,te,void 0,void 0,void 0,M.props)}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function D(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ue){return te[ue]})}var k=/\/+/g;function L(M,te){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):te.toString(36)}function I(){}function et(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function He(M,te,ue,J,pe){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var be=!1;if(M===null)be=!0;else switch(Se){case"bigint":case"string":case"number":be=!0;break;case"object":switch(M.$$typeof){case r:case e:be=!0;break;case E:return be=M._init,He(be(M._payload),te,ue,J,pe)}}if(be)return pe=pe(M),be=J===""?"."+L(M,0):J,ie(pe)?(ue="",be!=null&&(ue=be.replace(k,"$&/")+"/"),He(pe,te,ue,"",function(Gt){return Gt})):pe!=null&&(C(pe)&&(pe=R(pe,ue+(pe.key==null||M&&M.key===pe.key?"":(""+pe.key).replace(k,"$&/")+"/")+be)),te.push(pe)),1;be=0;var ct=J===""?".":J+":";if(ie(M))for(var qe=0;qe<M.length;qe++)J=M[qe],Se=ct+L(J,qe),be+=He(J,te,ue,Se,pe);else if(qe=S(M),typeof qe=="function")for(M=qe.call(M),qe=0;!(J=M.next()).done;)J=J.value,Se=ct+L(J,qe++),be+=He(J,te,ue,Se,pe);else if(Se==="object"){if(typeof M.then=="function")return He(et(M),te,ue,J,pe);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(M,te,ue){if(M==null)return M;var J=[],pe=0;return He(M,J,"","",function(Se){return te.call(ue,Se,pe++)}),J}function ae(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(ue){(M._status===0||M._status===-1)&&(M._status=1,M._result=ue)},function(ue){(M._status===0||M._status===-1)&&(M._status=2,M._result=ue)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var he=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function xe(){}return Ce.Children={map:W,forEach:function(M,te,ue){W(M,function(){te.apply(this,arguments)},ue)},count:function(M){var te=0;return W(M,function(){te++}),te},toArray:function(M){return W(M,function(te){return te})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=U,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=Q,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(M){return se.H.useMemoCache(M)}},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cloneElement=function(M,te,ue){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var J=V({},M.props),pe=M.key,Se=void 0;if(te!=null)for(be in te.ref!==void 0&&(Se=void 0),te.key!==void 0&&(pe=""+te.key),te)!fe.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(J[be]=te[be]);var be=arguments.length-2;if(be===1)J.children=ue;else if(1<be){for(var ct=Array(be),qe=0;qe<be;qe++)ct[qe]=arguments[qe+2];J.children=ct}return x(M.type,pe,void 0,void 0,Se,J)},Ce.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,te,ue){var J,pe={},Se=null;if(te!=null)for(J in te.key!==void 0&&(Se=""+te.key),te)fe.call(te,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(pe[J]=te[J]);var be=arguments.length-2;if(be===1)pe.children=ue;else if(1<be){for(var ct=Array(be),qe=0;qe<be;qe++)ct[qe]=arguments[qe+2];pe.children=ct}if(M&&M.defaultProps)for(J in be=M.defaultProps,be)pe[J]===void 0&&(pe[J]=be[J]);return x(M,Se,void 0,void 0,null,pe)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:m,render:M}},Ce.isValidElement=C,Ce.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ae}},Ce.memo=function(M,te){return{$$typeof:g,type:M,compare:te===void 0?null:te}},Ce.startTransition=function(M){var te=se.T,ue={};se.T=ue;try{var J=M(),pe=se.S;pe!==null&&pe(ue,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(xe,he)}catch(Se){he(Se)}finally{se.T=te}},Ce.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ce.use=function(M){return se.H.use(M)},Ce.useActionState=function(M,te,ue){return se.H.useActionState(M,te,ue)},Ce.useCallback=function(M,te){return se.H.useCallback(M,te)},Ce.useContext=function(M){return se.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,te){return se.H.useDeferredValue(M,te)},Ce.useEffect=function(M,te,ue){var J=se.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(M,te)},Ce.useId=function(){return se.H.useId()},Ce.useImperativeHandle=function(M,te,ue){return se.H.useImperativeHandle(M,te,ue)},Ce.useInsertionEffect=function(M,te){return se.H.useInsertionEffect(M,te)},Ce.useLayoutEffect=function(M,te){return se.H.useLayoutEffect(M,te)},Ce.useMemo=function(M,te){return se.H.useMemo(M,te)},Ce.useOptimistic=function(M,te){return se.H.useOptimistic(M,te)},Ce.useReducer=function(M,te,ue){return se.H.useReducer(M,te,ue)},Ce.useRef=function(M){return se.H.useRef(M)},Ce.useState=function(M){return se.H.useState(M)},Ce.useSyncExternalStore=function(M,te,ue){return se.H.useSyncExternalStore(M,te,ue)},Ce.useTransition=function(){return se.H.useTransition()},Ce.version="19.1.0",Ce}var X_;function Jf(){return X_||(X_=1,Om.exports=MS()),Om.exports}var A=Jf();const ce=NS(A),W_=xS({__proto__:null,default:ce},[A]);var Dm={exports:{}},Kl={},Mm={exports:{}},km={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function kS(){return Z_||(Z_=1,function(r){function e(W,ae){var he=W.length;W.push(ae);e:for(;0<he;){var xe=he-1>>>1,M=W[xe];if(0<o(M,ae))W[xe]=ae,W[he]=M,he=xe;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],he=W.pop();if(he!==ae){W[0]=he;e:for(var xe=0,M=W.length,te=M>>>1;xe<te;){var ue=2*(xe+1)-1,J=W[ue],pe=ue+1,Se=W[pe];if(0>o(J,he))pe<M&&0>o(Se,J)?(W[xe]=Se,W[pe]=he,xe=pe):(W[xe]=J,W[ue]=he,xe=ue);else if(pe<M&&0>o(Se,he))W[xe]=Se,W[pe]=he,xe=pe;else break e}}return ae}function o(W,ae){var he=W.sortIndex-ae.sortIndex;return he!==0?he:W.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,w=null,S=3,O=!1,V=!1,H=!1,U=!1,F=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ie(W){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=W)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function se(W){if(H=!1,ie(W),!V)if(n(p)!==null)V=!0,fe||(fe=!0,L());else{var ae=n(g);ae!==null&&He(se,ae.startTime-W)}}var fe=!1,x=-1,R=5,C=-1;function D(){return U?!0:!(r.unstable_now()-C<R)}function k(){if(U=!1,fe){var W=r.unstable_now();C=W;var ae=!0;try{e:{V=!1,H&&(H=!1,Q(x),x=-1),O=!0;var he=S;try{t:{for(ie(W),w=n(p);w!==null&&!(w.expirationTime>W&&D());){var xe=w.callback;if(typeof xe=="function"){w.callback=null,S=w.priorityLevel;var M=xe(w.expirationTime<=W);if(W=r.unstable_now(),typeof M=="function"){w.callback=M,ie(W),ae=!0;break t}w===n(p)&&s(p),ie(W)}else s(p);w=n(p)}if(w!==null)ae=!0;else{var te=n(g);te!==null&&He(se,te.startTime-W),ae=!1}}break e}finally{w=null,S=he,O=!1}ae=void 0}}finally{ae?L():fe=!1}}}var L;if(typeof Y=="function")L=function(){Y(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,et=I.port2;I.port1.onmessage=k,L=function(){et.postMessage(null)}}else L=function(){F(k,0)};function He(W,ae){x=F(function(){W(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(W){W.callback=null},r.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<W?Math.floor(1e3/W):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var he=S;S=ae;try{return W()}finally{S=he}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var he=S;S=W;try{return ae()}finally{S=he}},r.unstable_scheduleCallback=function(W,ae,he){var xe=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?xe+he:xe):he=xe,W){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=he+M,W={id:E++,callback:ae,priorityLevel:W,startTime:he,expirationTime:M,sortIndex:-1},he>xe?(W.sortIndex=he,e(g,W),n(p)===null&&W===n(g)&&(H?(Q(x),x=-1):H=!0,He(se,he-xe))):(W.sortIndex=M,e(p,W),V||O||(V=!0,fe||(fe=!0,L()))),W},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(W){var ae=S;return function(){var he=S;S=ae;try{return W.apply(this,arguments)}finally{S=he}}}}(km)),km}var J_;function PS(){return J_||(J_=1,Mm.exports=kS()),Mm.exports}var Pm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function VS(){if(e0)return Qt;e0=1;var r=Jf();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var t0;function eT(){if(t0)return Pm.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Pm.exports=VS(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function LS(){if(n0)return Kl;n0=1;var r=PS(),e=Jf(),n=eT();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,l=d;break}if(T===l){_=!0,l=f,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=f;break}if(T===l){_=!0,l=d,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function et(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case U:return"Profiler";case H:return"StrictMode";case se:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case Q:return(t._context.displayName||"Context")+".Consumer";case ie:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:et(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return et(t(i))}catch{}}return null}var He=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},xe=[],M=-1;function te(t){return{current:t}}function ue(t){0>M||(t.current=xe[M],xe[M]=null,M--)}function J(t,i){M++,xe[M]=t.current,t.current=i}var pe=te(null),Se=te(null),be=te(null),ct=te(null);function qe(t,i){switch(J(be,i),J(Se,t),J(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?T_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=T_(i),t=b_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(pe),J(pe,t)}function Gt(){ue(pe),ue(Se),ue(be)}function di(t){t.memoizedState!==null&&J(ct,t);var i=pe.current,a=b_(i,t.type);i!==a&&(J(Se,t),J(pe,a))}function Ar(t){Se.current===t&&(ue(pe),ue(Se)),ct.current===t&&(ue(ct),Hl._currentValue=he)}var ms=Object.prototype.hasOwnProperty,ps=r.unstable_scheduleCallback,gs=r.unstable_cancelCallback,zo=r.unstable_shouldYield,ju=r.unstable_requestPaint,wn=r.unstable_now,Nh=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,ga=r.unstable_UserBlockingPriority,ys=r.unstable_NormalPriority,Oh=r.unstable_LowPriority,ya=r.unstable_IdlePriority,Bo=r.log,Bu=r.unstable_setDisableYieldValue,ft=null,Ye=null;function dn(t){if(typeof Bo=="function"&&Bu(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ft,t)}catch{}}var Yt=Math.clz32?Math.clz32:vs,Hu=Math.log,Dh=Math.LN2;function vs(t){return t>>>=0,t===0?32:31-(Hu(t)/Dh|0)|0}var _s=256,Es=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function va(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=jn(l):(_&=T,_!==0?f=jn(_):a||(a=T&~t,a!==0&&(f=jn(a))))):(T=l&~d,T!==0?f=jn(T):_!==0?f=jn(_):a||(a=l&~t,a!==0&&(f=jn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function Ts(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ho(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qo(){var t=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),t}function Fo(){var t=Es;return Es<<=1,(Es&62914560)===0&&(Es=4194304),t}function Rr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Cr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $o(t,i,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-Yt(a),ne=1<<Z;T[Z]=0,N[Z]=-1;var $=q[Z];if($!==null)for(q[Z]=null,Z=0;Z<$.length;Z++){var K=$[Z];K!==null&&(K.lane&=-536870913)}a&=~ne}l!==0&&Wn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Wn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Go(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Yt(a),f=1<<l;f&i|t[l]&i&&(t[l]|=i),a&=~f}}function mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function _a(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function pi(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:B_(t.type))}function qu(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var it=Math.random().toString(36).slice(2),Rt="__reactFiber$"+it,_t="__reactProps$"+it,Sn="__reactContainer$"+it,Yo="__reactEvents$"+it,Mh="__reactListeners$"+it,gi="__reactHandles$"+it,Fu="__reactResources$"+it,bs="__reactMarker$"+it;function yi(t){delete t[Rt],delete t[_t],delete t[Yo],delete t[Mh],delete t[gi]}function Ir(t){var i=t[Rt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Sn]||a[Rt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=R_(t);t!==null;){if(a=t[Rt])return a;t=R_(t)}return i}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[Rt]||t[Sn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Jn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function tn(t){var i=t[Fu];return i||(i=t[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[bs]=!0}var Ko=new Set,Ea={};function Bn(t,i){xr(t,i),xr(t+"Capture",i)}function xr(t,i){for(Ea[t]=i,t=0;t<i.length;t++)Ko.add(i[t])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},ws={};function Yu(t){return ms.call(ws,t)?!0:ms.call(Gu,t)?!1:$u.test(t)?ws[t]=!0:(Gu[t]=!0,!1)}function vi(t,i,a){if(Yu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function er(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function zt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Ss,Ku;function Nr(t){if(Ss===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ss=i&&i[1]||"",Ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+Ku}var Ta=!1;function ba(t,i){if(!t||Ta)return"";Ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var $=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){$=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){$=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var N=_.split(`
`),q=T.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===q.length)for(l=N.length-1,f=q.length-1;1<=l&&0<=f&&N[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==q[f]){var Z=`
`+N[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{Ta=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Nr(a):""}function Qo(t){switch(t.tag){case 26:case 27:case 5:return Nr(t.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return ba(t.type,!1);case 11:return ba(t.type.render,!1);case 1:return ba(t.type,!0);case 31:return Nr("Activity");default:return""}}function wa(t){try{var i="";do i+=Qo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kh(t){var i=Xo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Sa(t){t._valueTracker||(t._valueTracker=kh(t))}function Wo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Xo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function As(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ph=/[\n"\\]/g;function Et(t){return t.replace(Ph,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function mn(t,i,a,l,f,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+nn(i)):t.value!==""+nn(i)&&(t.value=""+nn(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?_i(t,_,nn(i)):a!=null?_i(t,_,nn(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+nn(T):t.removeAttribute("name")}function Rs(t,i,a,l,f,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+nn(a):"",i=i!=null?""+nn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function _i(t,i,a){i==="number"&&As(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Or(t,i,a,l){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Xe(t,i,a){if(i!=null&&(i=""+nn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+nn(a):""}function Cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(He(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=nn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Is.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Zo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Qu(t,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Qu(t,d,i[d])}function Jo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Lh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Dr=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mr=null,kr=null;function el(t){var i=Zn(t);if(i&&(t=i.stateNode)){var a=t[_t]||null;e:switch(t=i.stateNode,i.type){case"input":if(mn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var f=l[_t]||null;if(!f)throw Error(s(90));mn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Wo(l)}break e;case"textarea":Xe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Or(t,!!a.multiple,i,!1)}}}var tr=!1;function Xu(t,i,a){if(tr)return t(i,a);tr=!0;try{var l=t(i);return l}finally{if(tr=!1,(Mr!==null||kr!==null)&&(qc(),Mr&&(i=Mr,t=kr,kr=Mr=null,el(i),t)))for(i=0;i<t.length;i++)el(t[i])}}function xs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Hn)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Cn=!1}var nr=null,Ei=null,Pr=null;function tl(){if(Pr)return Pr;var t,i=Ei,a=i.length,l,f="value"in nr?nr.value:nr.textContent,d=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Pr=f.slice(t,1<l?1-l:void 0)}function rr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ir(){return!0}function nl(){return!1}function Mt(t){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ir:nl,this.isPropagationStopped=nl,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=Mt(Ge),Os=E({},Ge,{view:0,detail:0}),Wu=Mt(Os),Ca,Ia,sr,Ds=E({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==sr&&(sr&&t.type==="mousemove"?(Ca=t.screenX-sr.screenX,Ia=t.screenY-sr.screenY):Ia=Ca=0,sr=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),In=Mt(Ds),Zu=E({},Ds,{dataTransfer:0}),Uh=Mt(Zu),Ms=E({},Os,{relatedTarget:0}),xa=Mt(Ms),rl=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Mt(rl),Ju=E({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=Mt(Ju),zh=E({},Ge,{data:0}),il=Mt(zh),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ec={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=tc[t])?!!i[t]:!1}function Ps(){return sl}var nc=E({},Os,{key:function(t){if(t.key){var i=ks[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=rr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ec[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?rr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Da=Mt(nc),rc=E({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),al=Mt(rc),Vr=E({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),ic=Mt(Vr),sc=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),ac=Mt(sc),oc=E({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Mt(oc),rn=E({},Ge,{newState:0,oldState:0}),lc=Mt(rn),uc=[9,13,27,32],ar=Hn&&"CompositionEvent"in window,c=null;Hn&&"documentMode"in document&&(c=document.documentMode);var y=Hn&&"TextEvent"in window&&!c,v=Hn&&(!ar||c&&8<c&&11>=c),b=" ",j=!1;function X(t,i){switch(t){case"keyup":return uc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pe=!1;function Ct(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(j=!0,b);case"textInput":return t=i.data,t===b&&j?null:t;default:return null}}function Ve(t,i){if(Pe)return t==="compositionend"||!ar&&X(t,i)?(t=tl(),Pr=Ei=nr=null,Pe=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Lr(t,i,a,l){Mr?kr?kr.push(l):kr=[l]:Mr=l,i=Qc(i,"onChange"),0<i.length&&(a=new Ra("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var jt=null,or=null;function ol(t){g_(t,0)}function cc(t){var i=Jn(t);if(Wo(i))return t}function Lg(t,i){if(t==="change")return i}var Ug=!1;if(Hn){var jh;if(Hn){var Bh="oninput"in document;if(!Bh){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Bh=typeof zg.oninput=="function"}jh=Bh}else jh=!1;Ug=jh&&(!document.documentMode||9<document.documentMode)}function jg(){jt&&(jt.detachEvent("onpropertychange",Bg),or=jt=null)}function Bg(t){if(t.propertyName==="value"&&cc(or)){var i=[];Lr(i,or,t,Rn(t)),Xu(ol,i)}}function sw(t,i,a){t==="focusin"?(jg(),jt=i,or=a,jt.attachEvent("onpropertychange",Bg)):t==="focusout"&&jg()}function aw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cc(or)}function ow(t,i){if(t==="click")return cc(i)}function lw(t,i){if(t==="input"||t==="change")return cc(i)}function uw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:uw;function ll(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ms.call(i,f)||!pn(t[f],i[f]))return!1}return!0}function Hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qg(t,i){var a=Hg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hg(a)}}function Fg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Fg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $g(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=As(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=As(t.document)}return i}function Hh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var cw=Hn&&"documentMode"in document&&11>=document.documentMode,ka=null,qh=null,ul=null,Fh=!1;function Gg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fh||ka==null||ka!==As(l)||(l=ka,"selectionStart"in l&&Hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ll(ul,l)||(ul=l,l=Qc(qh,"onSelect"),0<l.length&&(i=new Ra("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ka)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Pa={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},$h={},Yg={};Hn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function Ls(t){if($h[t])return $h[t];if(!Pa[t])return t;var i=Pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Yg)return $h[t]=i[a];return t}var Kg=Ls("animationend"),Qg=Ls("animationiteration"),Xg=Ls("animationstart"),fw=Ls("transitionrun"),hw=Ls("transitionstart"),dw=Ls("transitioncancel"),Wg=Ls("transitionend"),Zg=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function qn(t,i){Zg.set(t,i),Bn(i,[t])}var Jg=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Jg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:wa(i)},Jg.set(t,i),i)}return{value:t,source:i,stack:wa(i)}}var Nn=[],Va=0,Yh=0;function fc(){for(var t=Va,i=Yh=Va=0;i<t;){var a=Nn[i];Nn[i++]=null;var l=Nn[i];Nn[i++]=null;var f=Nn[i];Nn[i++]=null;var d=Nn[i];if(Nn[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&ey(a,f,d)}}function hc(t,i,a,l){Nn[Va++]=t,Nn[Va++]=i,Nn[Va++]=a,Nn[Va++]=l,Yh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Kh(t,i,a,l){return hc(t,i,a,l),dc(t)}function La(t,i){return hc(t,null,null,i),dc(t)}function ey(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&i!==null&&(f=31-Yt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function dc(t){if(50<kl)throw kl=0,em=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ua={};function mw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,l){return new mw(t,i,a,l)}function Qh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ur(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ty(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function mc(t,i,a,l,f,d){var _=0;if(l=t,typeof t=="function")Qh(t)&&(_=1);else if(typeof t=="string")_=gS(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=gn(31,a,i,f),t.elementType=C,t.lanes=d,t;case V:return Us(a.children,f,d,i);case H:_=8,f|=24;break;case U:return t=gn(12,a,i,f|2),t.elementType=U,t.lanes=d,t;case se:return t=gn(13,a,i,f),t.elementType=se,t.lanes=d,t;case fe:return t=gn(19,a,i,f),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case Y:_=10;break e;case Q:_=9;break e;case ie:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=gn(_,a,i,f),i.elementType=t,i.type=l,i.lanes=d,i}function Us(t,i,a,l){return t=gn(7,t,l,i),t.lanes=a,t}function Xh(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function Wh(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var za=[],ja=0,pc=null,gc=0,On=[],Dn=0,zs=null,zr=1,jr="";function js(t,i){za[ja++]=gc,za[ja++]=pc,pc=t,gc=i}function ny(t,i,a){On[Dn++]=zr,On[Dn++]=jr,On[Dn++]=zs,zs=t;var l=zr;t=jr;var f=32-Yt(l)-1;l&=~(1<<f),a+=1;var d=32-Yt(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,zr=1<<32-Yt(i)+f|a<<f|l,jr=d+t}else zr=1<<d|a<<f|l,jr=t}function Zh(t){t.return!==null&&(js(t,1),ny(t,1,0))}function Jh(t){for(;t===pc;)pc=za[--ja],za[ja]=null,gc=za[--ja],za[ja]=null;for(;t===zs;)zs=On[--Dn],On[Dn]=null,jr=On[--Dn],On[Dn]=null,zr=On[--Dn],On[Dn]=null}var sn=null,ht=null,Fe=!1,Bs=null,lr=!1,ed=Error(s(519));function Hs(t){var i=Error(s(418,""));throw hl(xn(i,t)),ed}function ry(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Rt]=t,i[_t]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Vl.length;a++)De(Vl[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Rs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),Cs(i,l.value,l.defaultValue,l.children),Sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||E_(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=Xc),i=!0):i=!1,i||Hs(t)}function iy(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:lr=!1;return;case 27:case 3:lr=!0;return;default:sn=sn.return}}function cl(t){if(t!==sn)return!1;if(!Fe)return iy(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gm(t.type,t.memoizedProps)),a=!a),a&&ht&&Hs(t),iy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=$n(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,Vi(t.type)?(t=Em,Em=null,ht=t):ht=i):ht=sn?$n(t.stateNode.nextSibling):null;return!0}function fl(){ht=sn=null,Fe=!1}function sy(){var t=Bs;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Bs=null),t}function hl(t){Bs===null?Bs=[t]:Bs.push(t)}var td=te(null),qs=null,Br=null;function Ti(t,i,a){J(td,i._currentValue),i._currentValue=a}function Hr(t){t._currentValue=td.current,ue(td)}function nd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function rd(t,i,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=f;for(var N=0;N<i.length;N++)if(T.context===i[N]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),nd(d.return,a,t),l||(_=null);break e}d=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),nd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function dl(t,i,a,l){t=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;pn(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===ct.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}f=f.return}t!==null&&rd(i,t,a,l),i.flags|=262144}function yc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fs(t){qs=t,Br=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return ay(qs,t)}function vc(t,i){return qs===null&&Fs(t),ay(t,i)}function ay(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Br===null){if(t===null)throw Error(s(308));Br=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Br=Br.next=i;return a}var pw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},gw=r.unstable_scheduleCallback,yw=r.unstable_NormalPriority,xt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new pw,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&gw(yw,function(){t.controller.abort()})}var pl=null,sd=0,Ba=0,Ha=null;function vw(t,i){if(pl===null){var a=pl=[];sd=0,Ba=om(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sd++,i.then(oy,oy),i}function oy(){if(--sd===0&&pl!==null){Ha!==null&&(Ha.status="fulfilled");var t=pl;pl=null,Ba=0,Ha=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _w(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ly=W.S;W.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vw(t,i),ly!==null&&ly(t,i)};var $s=te(null);function ad(){var t=$s.current;return t!==null?t:rt.pooledCache}function _c(t,i){i===null?J($s,$s.current):J($s,i.pool)}function uy(){var t=ad();return t===null?null:{parent:xt._currentValue,pool:t}}var gl=Error(s(460)),cy=Error(s(474)),Ec=Error(s(542)),od={then:function(){}};function fy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tc(){}function hy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Tc,Tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,my(t),t;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,my(t),t}throw yl=i,gl}}var yl=null;function dy(){if(yl===null)throw Error(s(459));var t=yl;return yl=null,t}function my(t){if(t===gl||t===Ec)throw Error(s(483))}var bi=!1;function ld(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Si(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=dc(t),ey(t,null,a),i}return hc(t,l,i,a),dc(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Go(t,a)}}function cd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var fd=!1;function _l(){if(fd){var t=Ha;if(t!==null)throw t}}function El(t,i,a,l){fd=!1;var f=t.updateQueue;bi=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var N=T,q=N.next;N.next=null,_===null?d=q:_.next=q,_=N;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=q:T.next=q,Z.lastBaseUpdate=N))}if(d!==null){var ne=f.baseState;_=0,Z=q=N=null,T=d;do{var $=T.lane&-536870913,K=$!==T.lane;if(K?(Le&$)===$:(l&$)===$){$!==0&&$===Ba&&(fd=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var we=t,ve=T;$=i;var Je=a;switch(ve.tag){case 1:if(we=ve.payload,typeof we=="function"){ne=we.call(Je,ne,$);break e}ne=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ve.payload,$=typeof we=="function"?we.call(Je,ne,$):we,$==null)break e;ne=E({},ne,$);break e;case 2:bi=!0}}$=T.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[$]:K.push($))}else K={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(q=Z=K,N=ne):Z=Z.next=K,_|=$;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;K=T,T=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Z===null&&(N=ne),f.baseState=N,f.firstBaseUpdate=q,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Di|=_,t.lanes=_,t.memoizedState=ne}}function py(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function gy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)py(a[t],i)}var qa=te(null),bc=te(0);function yy(t,i){t=Qr,J(bc,t),J(qa,i),Qr=t|i.baseLanes}function hd(){J(bc,Qr),J(qa,qa.current)}function dd(){Qr=bc.current,ue(qa),ue(bc)}var Ai=0,Ie=null,We=null,Tt=null,wc=!1,Fa=!1,Gs=!1,Sc=0,Tl=0,$a=null,Ew=0;function pt(){throw Error(s(321))}function md(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function pd(t,i,a,l,f,d){return Ai=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,W.H=t===null||t.memoizedState===null?ev:tv,Gs=!1,d=a(l,f),Gs=!1,Fa&&(d=_y(i,a,l,f)),vy(t),d}function vy(t){W.H=Nc;var i=We!==null&&We.next!==null;if(Ai=0,Tt=We=Ie=null,wc=!1,Tl=0,$a=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&yc(t)&&(Pt=!0))}function _y(t,i,a,l){Ie=t;var f=0;do{if(Fa&&($a=null),Tl=0,Fa=!1,25<=f)throw Error(s(301));if(f+=1,Tt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=Cw,d=i(a,l)}while(Fa);return d}function Tw(){var t=W.H,i=t.useState()[0];return i=typeof i.then=="function"?bl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ie.flags|=1024),i}function gd(){var t=Sc!==0;return Sc=0,t}function yd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function vd(t){if(wc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}wc=!1}Ai=0,Tt=We=Ie=null,Fa=!1,Tl=Sc=0,$a=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ie.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function bt(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Tt===null?Ie.memoizedState:Tt.next;if(i!==null)Tt=i,We=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Tt===null?Ie.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function _d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bl(t){var i=Tl;return Tl+=1,$a===null&&($a=[]),t=hy($a,t,i),i=Ie,(Tt===null?i.memoizedState:Tt.next)===null&&(i=i.alternate,W.H=i===null||i.memoizedState===null?ev:tv),t}function Ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bl(t);if(t.$$typeof===Y)return Kt(t)}throw Error(s(438,String(t)))}function Ed(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_d(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=D;return i.index++,a}function qr(t,i){return typeof i=="function"?i(t):i}function Rc(t){var i=bt();return Td(i,We,t)}function Td(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{i=f.next;var T=_=null,N=null,q=i,Z=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(Le&ne)===ne:(Ai&ne)===ne){var $=q.revertLane;if($===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===Ba&&(Z=!0);else if((Ai&$)===$){q=q.next,$===Ba&&(Z=!0);continue}else ne={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=ne,_=d):N=N.next=ne,Ie.lanes|=$,Di|=$;ne=q.action,Gs&&a(d,ne),d=q.hasEagerState?q.eagerState:a(d,ne)}else $={lane:ne,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},N===null?(T=N=$,_=d):N=N.next=$,Ie.lanes|=ne,Di|=ne;q=q.next}while(q!==null&&q!==i);if(N===null?_=d:N.next=T,!pn(d,t.memoizedState)&&(Pt=!0,Z&&(a=Ha,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bd(t){var i=bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);pn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ey(t,i,a){var l=Ie,f=bt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn((We||f).memoizedState,a);_&&(f.memoizedState=a,Pt=!0),f=f.queue;var T=wy.bind(null,l,f,t);if(wl(2048,8,T,[t]),f.getSnapshot!==i||_||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Cc(),by.bind(null,l,f,a,i),null),rt===null)throw Error(s(349));d||(Ai&124)!==0||Ty(l,i,a)}return a}function Ty(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=_d(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function by(t,i,a,l){i.value=a,i.getSnapshot=l,Sy(i)&&Ay(t)}function wy(t,i,a){return a(function(){Sy(i)&&Ay(t)})}function Sy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function Ay(t){var i=La(t,2);i!==null&&Tn(i,t,2)}function wd(t){var i=ln();if(typeof t=="function"){var a=t;if(t=a(),Gs){dn(!0);try{a()}finally{dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:t},i}function Ry(t,i,a,l){return t.baseState=a,Td(t,We,typeof l=="function"?l:qr)}function bw(t,i,a,l,f){if(xc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Cy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Cy(t,i){var a=i.action,l=i.payload,f=t.state;if(i.isTransition){var d=W.T,_={};W.T=_;try{var T=a(f,l),N=W.S;N!==null&&N(_,T),Iy(t,i,T)}catch(q){Sd(t,i,q)}finally{W.T=d}}else try{d=a(f,l),Iy(t,i,d)}catch(q){Sd(t,i,q)}}function Iy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xy(t,i,l)},function(l){return Sd(t,i,l)}):xy(t,i,a)}function xy(t,i,a){i.status="fulfilled",i.value=a,Ny(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Cy(t,a)))}function Sd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ny(i),i=i.next;while(i!==l)}t.action=null}function Ny(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Oy(t,i){return i}function Dy(t,i){if(Fe){var a=rt.formState;if(a!==null){e:{var l=Ie;if(Fe){if(ht){t:{for(var f=ht,d=lr;f.nodeType!==8;){if(!d){f=null;break t}if(f=$n(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ht=$n(f.nextSibling),l=f.data==="F!";break e}}Hs(l)}l=!1}l&&(i=a[0])}}return a=ln(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:i},a.queue=l,a=Wy.bind(null,Ie,l),l.dispatch=a,l=wd(!1),d=xd.bind(null,Ie,!1,l.queue),l=ln(),f={state:i,dispatch:null,action:t,pending:null},l.queue=f,a=bw.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[i,a,!1]}function My(t){var i=bt();return ky(i,We,t)}function ky(t,i,a){if(i=Td(t,i,Oy)[0],t=Rc(qr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=bl(i)}catch(_){throw _===gl?Ec:_}else l=i;i=bt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ga(9,Cc(),ww.bind(null,f,a),null)),[l,d,t]}function ww(t,i){t.action=i}function Py(t){var i=bt(),a=We;if(a!==null)return ky(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=_d(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Cc(){return{destroy:void 0,resource:void 0}}function Vy(){return bt().memoizedState}function Ic(t,i,a,l){var f=ln();l=l===void 0?null:l,Ie.flags|=t,f.memoizedState=Ga(1|i,Cc(),a,l)}function wl(t,i,a,l){var f=bt();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&md(l,We.memoizedState.deps)?f.memoizedState=Ga(i,d,a,l):(Ie.flags|=t,f.memoizedState=Ga(1|i,d,a,l))}function Ly(t,i){Ic(8390656,8,t,i)}function Uy(t,i){wl(2048,8,t,i)}function zy(t,i){return wl(4,2,t,i)}function jy(t,i){return wl(4,4,t,i)}function By(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hy(t,i,a){a=a!=null?a.concat([t]):null,wl(4,4,By.bind(null,i,t),a)}function Ad(){}function qy(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&md(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Fy(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&md(i,l[1]))return l[0];if(l=t(),Gs){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,i],l}function Rd(t,i,a){return a===void 0||(Ai&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Yv(),Ie.lanes|=t,Di|=t,a)}function $y(t,i,a,l){return pn(a,i)?a:qa.current!==null?(t=Rd(t,a,l),pn(t,i)||(Pt=!0),t):(Ai&42)===0?(Pt=!0,t.memoizedState=a):(t=Yv(),Ie.lanes|=t,Di|=t,i)}function Gy(t,i,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=W.T,T={};W.T=T,xd(t,!1,i,a);try{var N=f(),q=W.S;if(q!==null&&q(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=_w(N,l);Sl(t,i,Z,En(t))}else Sl(t,i,l,En(t))}catch(ne){Sl(t,i,{then:function(){},status:"rejected",reason:ne},En())}finally{ae.p=d,W.T=_}}function Sw(){}function Cd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var f=Yy(t).queue;Gy(t,f,i,he,a===null?Sw:function(){return Ky(t),a(l)})}function Yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:he},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ky(t){var i=Yy(t).next.queue;Sl(t,i,{},En())}function Id(){return Kt(Hl)}function Qy(){return bt().memoizedState}function Xy(){return bt().memoizedState}function Aw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=En();t=wi(a);var l=Si(i,t,a);l!==null&&(Tn(l,i,a),vl(l,i,a)),i={cache:id()},t.payload=i;return}i=i.return}}function Rw(t,i,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},xc(t)?Zy(i,a):(a=Kh(t,i,a,l),a!==null&&(Tn(a,t,l),Jy(a,i,l)))}function Wy(t,i,a){var l=En();Sl(t,i,a,l)}function Sl(t,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(xc(t))Zy(i,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(f.hasEagerState=!0,f.eagerState=T,pn(T,_))return hc(t,i,f,0),rt===null&&fc(),!1}catch{}finally{}if(a=Kh(t,i,f,l),a!==null)return Tn(a,t,l),Jy(a,i,l),!0}return!1}function xd(t,i,a,l){if(l={lane:2,revertLane:om(),action:l,hasEagerState:!1,eagerState:null,next:null},xc(t)){if(i)throw Error(s(479))}else i=Kh(t,a,l,2),i!==null&&Tn(i,t,2)}function xc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Zy(t,i){Fa=wc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Jy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Go(t,a)}}var Nc={readContext:Kt,use:Ac,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},ev={readContext:Kt,use:Ac,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,By.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ic(4194308,4,t,i)},useInsertionEffect:function(t,i){Ic(4,2,t,i)},useMemo:function(t,i){var a=ln();i=i===void 0?null:i;var l=t();if(Gs){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=ln();if(a!==void 0){var f=a(i);if(Gs){dn(!0);try{a(i)}finally{dn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Rw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=wd(t);var i=t.queue,a=Wy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ad,useDeferredValue:function(t,i){var a=ln();return Rd(a,t,i)},useTransition:function(){var t=wd(!1);return t=Gy.bind(null,Ie,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,f=ln();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(Le&124)!==0||Ty(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Ly(wy.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,Cc(),by.bind(null,l,d,a,i),null),a},useId:function(){var t=ln(),i=rt.identifierPrefix;if(Fe){var a=jr,l=zr;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Sc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Ew++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Id,useFormState:Dy,useActionState:Dy,useOptimistic:function(t){var i=ln();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ed,useCacheRefresh:function(){return ln().memoizedState=Aw.bind(null,Ie)}},tv={readContext:Kt,use:Ac,useCallback:qy,useContext:Kt,useEffect:Uy,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:Rc,useRef:Vy,useState:function(){return Rc(qr)},useDebugValue:Ad,useDeferredValue:function(t,i){var a=bt();return $y(a,We.memoizedState,t,i)},useTransition:function(){var t=Rc(qr)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Ey,useId:Qy,useHostTransitionStatus:Id,useFormState:My,useActionState:My,useOptimistic:function(t,i){var a=bt();return Ry(a,We,t,i)},useMemoCache:Ed,useCacheRefresh:Xy},Cw={readContext:Kt,use:Ac,useCallback:qy,useContext:Kt,useEffect:Uy,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:jy,useMemo:Fy,useReducer:bd,useRef:Vy,useState:function(){return bd(qr)},useDebugValue:Ad,useDeferredValue:function(t,i){var a=bt();return We===null?Rd(a,t,i):$y(a,We.memoizedState,t,i)},useTransition:function(){var t=bd(qr)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:bl(t),i]},useSyncExternalStore:Ey,useId:Qy,useHostTransitionStatus:Id,useFormState:Py,useActionState:Py,useOptimistic:function(t,i){var a=bt();return We!==null?Ry(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ed,useCacheRefresh:Xy},Ya=null,Al=0;function Oc(t){var i=Al;return Al+=1,Ya===null&&(Ya=[]),hy(Ya,t,i)}function Rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Dc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function nv(t){var i=t._init;return i(t._payload)}function rv(t){function i(z,P){if(t){var B=z.deletions;B===null?(z.deletions=[P],z.flags|=16):B.push(P)}}function a(z,P){if(!t)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function f(z,P){return z=Ur(z,P),z.index=0,z.sibling=null,z}function d(z,P,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<P?(z.flags|=67108866,P):B):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,P,B,ee){return P===null||P.tag!==6?(P=Xh(B,z.mode,ee),P.return=z,P):(P=f(P,B),P.return=z,P)}function N(z,P,B,ee){var me=B.type;return me===V?Z(z,P,B.props.children,ee,B.key):P!==null&&(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&nv(me)===P.type)?(P=f(P,B.props),Rl(P,B),P.return=z,P):(P=mc(B.type,B.key,B.props,null,z.mode,ee),Rl(P,B),P.return=z,P)}function q(z,P,B,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==B.containerInfo||P.stateNode.implementation!==B.implementation?(P=Wh(B,z.mode,ee),P.return=z,P):(P=f(P,B.children||[]),P.return=z,P)}function Z(z,P,B,ee,me){return P===null||P.tag!==7?(P=Us(B,z.mode,ee,me),P.return=z,P):(P=f(P,B),P.return=z,P)}function ne(z,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Xh(""+P,z.mode,B),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return B=mc(P.type,P.key,P.props,null,z.mode,B),Rl(B,P),B.return=z,B;case O:return P=Wh(P,z.mode,B),P.return=z,P;case R:var ee=P._init;return P=ee(P._payload),ne(z,P,B)}if(He(P)||L(P))return P=Us(P,z.mode,B,null),P.return=z,P;if(typeof P.then=="function")return ne(z,Oc(P),B);if(P.$$typeof===Y)return ne(z,vc(z,P),B);Dc(z,P)}return null}function $(z,P,B,ee){var me=P!==null?P.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return me!==null?null:T(z,P,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===me?N(z,P,B,ee):null;case O:return B.key===me?q(z,P,B,ee):null;case R:return me=B._init,B=me(B._payload),$(z,P,B,ee)}if(He(B)||L(B))return me!==null?null:Z(z,P,B,ee,null);if(typeof B.then=="function")return $(z,P,Oc(B),ee);if(B.$$typeof===Y)return $(z,P,vc(z,B),ee);Dc(z,B)}return null}function K(z,P,B,ee,me){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(B)||null,T(P,z,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return z=z.get(ee.key===null?B:ee.key)||null,N(P,z,ee,me);case O:return z=z.get(ee.key===null?B:ee.key)||null,q(P,z,ee,me);case R:var Ne=ee._init;return ee=Ne(ee._payload),K(z,P,B,ee,me)}if(He(ee)||L(ee))return z=z.get(B)||null,Z(P,z,ee,me,null);if(typeof ee.then=="function")return K(z,P,B,Oc(ee),me);if(ee.$$typeof===Y)return K(z,P,B,vc(P,ee),me);Dc(P,ee)}return null}function we(z,P,B,ee){for(var me=null,Ne=null,ge=P,_e=P=0,Lt=null;ge!==null&&_e<B.length;_e++){ge.index>_e?(Lt=ge,ge=null):Lt=ge.sibling;var Be=$(z,ge,B[_e],ee);if(Be===null){ge===null&&(ge=Lt);break}t&&ge&&Be.alternate===null&&i(z,ge),P=d(Be,P,_e),Ne===null?me=Be:Ne.sibling=Be,Ne=Be,ge=Lt}if(_e===B.length)return a(z,ge),Fe&&js(z,_e),me;if(ge===null){for(;_e<B.length;_e++)ge=ne(z,B[_e],ee),ge!==null&&(P=d(ge,P,_e),Ne===null?me=ge:Ne.sibling=ge,Ne=ge);return Fe&&js(z,_e),me}for(ge=l(ge);_e<B.length;_e++)Lt=K(ge,z,_e,B[_e],ee),Lt!==null&&(t&&Lt.alternate!==null&&ge.delete(Lt.key===null?_e:Lt.key),P=d(Lt,P,_e),Ne===null?me=Lt:Ne.sibling=Lt,Ne=Lt);return t&&ge.forEach(function(Bi){return i(z,Bi)}),Fe&&js(z,_e),me}function ve(z,P,B,ee){if(B==null)throw Error(s(151));for(var me=null,Ne=null,ge=P,_e=P=0,Lt=null,Be=B.next();ge!==null&&!Be.done;_e++,Be=B.next()){ge.index>_e?(Lt=ge,ge=null):Lt=ge.sibling;var Bi=$(z,ge,Be.value,ee);if(Bi===null){ge===null&&(ge=Lt);break}t&&ge&&Bi.alternate===null&&i(z,ge),P=d(Bi,P,_e),Ne===null?me=Bi:Ne.sibling=Bi,Ne=Bi,ge=Lt}if(Be.done)return a(z,ge),Fe&&js(z,_e),me;if(ge===null){for(;!Be.done;_e++,Be=B.next())Be=ne(z,Be.value,ee),Be!==null&&(P=d(Be,P,_e),Ne===null?me=Be:Ne.sibling=Be,Ne=Be);return Fe&&js(z,_e),me}for(ge=l(ge);!Be.done;_e++,Be=B.next())Be=K(ge,z,_e,Be.value,ee),Be!==null&&(t&&Be.alternate!==null&&ge.delete(Be.key===null?_e:Be.key),P=d(Be,P,_e),Ne===null?me=Be:Ne.sibling=Be,Ne=Be);return t&&ge.forEach(function(IS){return i(z,IS)}),Fe&&js(z,_e),me}function Je(z,P,B,ee){if(typeof B=="object"&&B!==null&&B.type===V&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:e:{for(var me=B.key;P!==null;){if(P.key===me){if(me=B.type,me===V){if(P.tag===7){a(z,P.sibling),ee=f(P,B.props.children),ee.return=z,z=ee;break e}}else if(P.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&nv(me)===P.type){a(z,P.sibling),ee=f(P,B.props),Rl(ee,B),ee.return=z,z=ee;break e}a(z,P);break}else i(z,P);P=P.sibling}B.type===V?(ee=Us(B.props.children,z.mode,ee,B.key),ee.return=z,z=ee):(ee=mc(B.type,B.key,B.props,null,z.mode,ee),Rl(ee,B),ee.return=z,z=ee)}return _(z);case O:e:{for(me=B.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===B.containerInfo&&P.stateNode.implementation===B.implementation){a(z,P.sibling),ee=f(P,B.children||[]),ee.return=z,z=ee;break e}else{a(z,P);break}else i(z,P);P=P.sibling}ee=Wh(B,z.mode,ee),ee.return=z,z=ee}return _(z);case R:return me=B._init,B=me(B._payload),Je(z,P,B,ee)}if(He(B))return we(z,P,B,ee);if(L(B)){if(me=L(B),typeof me!="function")throw Error(s(150));return B=me.call(B),ve(z,P,B,ee)}if(typeof B.then=="function")return Je(z,P,Oc(B),ee);if(B.$$typeof===Y)return Je(z,P,vc(z,B),ee);Dc(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,P!==null&&P.tag===6?(a(z,P.sibling),ee=f(P,B),ee.return=z,z=ee):(a(z,P),ee=Xh(B,z.mode,ee),ee.return=z,z=ee),_(z)):a(z,P)}return function(z,P,B,ee){try{Al=0;var me=Je(z,P,B,ee);return Ya=null,me}catch(ge){if(ge===gl||ge===Ec)throw ge;var Ne=gn(29,ge,null,z.mode);return Ne.lanes=ee,Ne.return=z,Ne}finally{}}}var Ka=rv(!0),iv=rv(!1),Mn=te(null),ur=null;function Ri(t){var i=t.alternate;J(Nt,Nt.current&1),J(Mn,t),ur===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(ur=t)}function sv(t){if(t.tag===22){if(J(Nt,Nt.current),J(Mn,t),ur===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ur=t)}}else Ci()}function Ci(){J(Nt,Nt.current),J(Mn,Mn.current)}function Fr(t){ue(Mn),ur===t&&(ur=null),ue(Nt)}var Nt=te(0);function Mc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_m(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Nd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=En(),f=wi(l);f.payload=i,a!=null&&(f.callback=a),i=Si(t,f,l),i!==null&&(Tn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=En(),f=wi(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Si(t,f,l),i!==null&&(Tn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=En(),l=wi(a);l.tag=2,i!=null&&(l.callback=i),i=Si(t,l,a),i!==null&&(Tn(i,t,a),vl(i,t,a))}};function av(t,i,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ll(a,l)||!ll(f,d):!0}function ov(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Od.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var kc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function lv(t){kc(t)}function uv(t){console.error(t)}function cv(t){kc(t)}function Pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function fv(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Dd(t,i,a){return a=wi(a),a.tag=3,a.payload={element:null},a.callback=function(){Pc(t,i)},a}function hv(t){return t=wi(t),t.tag=3,t}function dv(t,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){fv(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){fv(i,a,l),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Iw(t,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dl(i,a,f,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return ur===null?nm():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===od?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),im(t,l,f)),!1;case 22:return a.flags|=65536,l===od?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),im(t,l,f)),!1}throw Error(s(435,a.tag))}return im(t,l,f),nm(),!1}if(Fe)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==ed&&(t=Error(s(422),{cause:l}),hl(xn(t,a)))):(l!==ed&&(i=Error(s(423),{cause:l}),hl(xn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=xn(l,a),f=Dd(t.stateNode,l,f),cd(t,f),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Ml===null?Ml=[d]:Ml.push(d),dt!==4&&(dt=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Dd(a.stateNode,l,t),cd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Mi===null||!Mi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=hv(f),dv(f,t,a,l),cd(a,f),!1}a=a.return}while(a!==null);return!1}var mv=Error(s(461)),Pt=!1;function Bt(t,i,a,l){i.child=t===null?iv(i,null,a,l):Ka(i,t.child,a,l)}function pv(t,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Fs(i),l=pd(t,i,a,_,d,f),T=gd(),t!==null&&!Pt?(yd(t,i,f),$r(t,i,f)):(Fe&&T&&Zh(i),i.flags|=1,Bt(t,i,l,f),i.child)}function gv(t,i,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Qh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,yv(t,i,d,l,f)):(t=mc(a.type,null,l,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!jd(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ll,a(_,l)&&t.ref===i.ref)return $r(t,i,f)}return i.flags|=1,t=Ur(d,l),t.ref=i.ref,t.return=i,i.child=t}function yv(t,i,a,l,f){if(t!==null){var d=t.memoizedProps;if(ll(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,jd(t,f))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,$r(t,i,f)}return Md(t,i,a,l,f)}function vv(t,i,a){var l=i.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=i.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return _v(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_c(i,d!==null?d.cachePool:null),d!==null?yy(i,d):hd(),sv(i);else return i.lanes=i.childLanes=536870912,_v(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(_c(i,d.cachePool),yy(i,d),Ci(),i.memoizedState=null):(t!==null&&_c(i,null),hd(),Ci());return Bt(t,i,f,a),i.child}function _v(t,i,a,l){var f=ad();return f=f===null?null:{parent:xt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&_c(i,null),hd(),sv(i),t!==null&&dl(t,i,l,!0),null}function Vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Md(t,i,a,l,f){return Fs(i),a=pd(t,i,a,l,void 0,f),l=gd(),t!==null&&!Pt?(yd(t,i,f),$r(t,i,f)):(Fe&&l&&Zh(i),i.flags|=1,Bt(t,i,a,f),i.child)}function Ev(t,i,a,l,f,d){return Fs(i),i.updateQueue=null,a=_y(i,l,a,f),vy(t),l=gd(),t!==null&&!Pt?(yd(t,i,d),$r(t,i,d)):(Fe&&l&&Zh(i),i.flags|=1,Bt(t,i,a,d),i.child)}function Tv(t,i,a,l,f){if(Fs(i),i.stateNode===null){var d=Ua,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Od,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ld(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):Ua,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Nd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Od.enqueueReplaceState(d,d.state,null),El(i,l,d,f),_l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,N=Ys(a,T);d.props=N;var q=d.context,Z=a.contextType;_=Ua,typeof Z=="object"&&Z!==null&&(_=Kt(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==_)&&ov(i,d,l,_),bi=!1;var $=i.memoizedState;d.state=$,El(i,l,d,f),_l(),q=i.memoizedState,T||$!==q||bi?(typeof ne=="function"&&(Nd(i,a,ne,l),q=i.memoizedState),(N=bi||av(i,a,N,l,$,q,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ud(t,i),_=i.memoizedProps,Z=Ys(a,_),d.props=Z,ne=i.pendingProps,$=d.context,q=a.contextType,N=Ua,typeof q=="object"&&q!==null&&(N=Kt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||$!==N)&&ov(i,d,l,N),bi=!1,$=i.memoizedState,d.state=$,El(i,l,d,f),_l();var K=i.memoizedState;_!==ne||$!==K||bi||t!==null&&t.dependencies!==null&&yc(t.dependencies)?(typeof T=="function"&&(Nd(i,a,T,l),K=i.memoizedState),(Z=bi||av(i,a,Z,l,$,K,N)||t!==null&&t.dependencies!==null&&yc(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=N,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ka(i,t.child,null,f),i.child=Ka(i,null,a,f)):Bt(t,i,a,f),i.memoizedState=d.state,t=i.child):t=$r(t,i,f),t}function bv(t,i,a,l){return fl(),i.flags|=256,Bt(t,i,a,l),i.child}var kd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(t){return{baseLanes:t,cachePool:uy()}}function Vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=kn),t}function wv(t,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(f?Ri(i):Ci(),Fe){var T=ht,N;if(N=T){e:{for(N=T,T=lr;N.nodeType!==8;){if(!T){T=null;break e}if(N=$n(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(i.memoizedState={dehydrated:T,treeContext:zs!==null?{id:zr,overflow:jr}:null,retryLane:536870912,hydrationErrors:null},N=gn(18,null,null,0),N.stateNode=T,N.return=i,i.child=N,sn=i,ht=null,N=!0):N=!1}N||Hs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return _m(T)?i.lanes=32:i.lanes=536870912,null;Fr(i)}return T=l.children,l=l.fallback,f?(Ci(),f=i.mode,T=Lc({mode:"hidden",children:T},f),l=Us(l,f,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,f=i.child,f.memoizedState=Pd(a),f.childLanes=Vd(t,_,a),i.memoizedState=kd,l):(Ri(i),Ld(i,T))}if(N=t.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(d)i.flags&256?(Ri(i),i.flags&=-257,i=Ud(t,i,a)):i.memoizedState!==null?(Ci(),i.child=t.child,i.flags|=128,i=null):(Ci(),f=l.fallback,T=i.mode,l=Lc({mode:"visible",children:l.children},T),f=Us(f,T,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ka(i,t.child,null,a),l=i.child,l.memoizedState=Pd(a),l.childLanes=Vd(t,_,a),i.memoizedState=kd,i=f);else if(Ri(i),_m(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),i=Ud(t,i,a)}else if(Pt||dl(t,i,a,!1),_=(a&t.childLanes)!==0,Pt||_){if(_=rt,_!==null&&(l=a&-a,l=(l&42)!==0?1:mi(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,La(t,l),Tn(_,t,l),mv;T.data==="$?"||nm(),i=Ud(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,ht=$n(T.nextSibling),sn=i,Fe=!0,Bs=null,lr=!1,t!==null&&(On[Dn++]=zr,On[Dn++]=jr,On[Dn++]=zs,zr=t.id,jr=t.overflow,zs=i),i=Ld(i,l.children),i.flags|=4096);return i}return f?(Ci(),f=l.fallback,T=i.mode,N=t.child,q=N.sibling,l=Ur(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,q!==null?f=Ur(q,f):(f=Us(f,T,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,T=t.child.memoizedState,T===null?T=Pd(a):(N=T.cachePool,N!==null?(q=xt._currentValue,N=N.parent!==q?{parent:q,pool:q}:N):N=uy(),T={baseLanes:T.baseLanes|a,cachePool:N}),f.memoizedState=T,f.childLanes=Vd(t,_,a),i.memoizedState=kd,l):(Ri(i),a=t.child,t=a.sibling,a=Ur(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ld(t,i){return i=Lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Lc(t,i){return t=gn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ud(t,i,a){return Ka(i,t.child,null,a),t=Ld(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Sv(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),nd(t.return,i,a)}function zd(t,i,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Av(t,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(Bt(t,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,a,i);else if(t.tag===19)Sv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Nt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&Mc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),zd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&Mc(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}zd(i,!0,a,null,d);break;case"together":zd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function $r(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Di|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(dl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ur(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ur(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function jd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&yc(t)))}function xw(t,i,a){switch(i.tag){case 3:qe(i,i.stateNode.containerInfo),Ti(i,xt,t.memoizedState.cache),fl();break;case 27:case 5:di(i);break;case 4:qe(i,i.stateNode.containerInfo);break;case 10:Ti(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ri(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wv(t,i,a):(Ri(i),t=$r(t,i,a),t!==null?t.sibling:null);Ri(i);break;case 19:var f=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dl(t,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Av(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,vv(t,i,a);case 24:Ti(i,xt,t.memoizedState.cache)}return $r(t,i,a)}function Rv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!jd(t,a)&&(i.flags&128)===0)return Pt=!1,xw(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,Fe&&(i.flags&1048576)!==0&&ny(i,gc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Qh(l)?(t=Ys(l,t),i.tag=1,i=Tv(null,i,l,t,a)):(i.tag=0,i=Md(null,i,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===ie){i.tag=11,i=pv(null,i,l,t,a);break e}else if(f===x){i.tag=14,i=gv(null,i,l,t,a);break e}}throw i=et(l)||l,Error(s(306,i,""))}}return i;case 0:return Md(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Ys(l,i.pendingProps),Tv(t,i,l,f,a);case 3:e:{if(qe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,ud(t,i),El(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ti(i,xt,l),l!==d.cache&&rd(i,[xt],a,!0),_l(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=bv(t,i,l,a);break e}else if(l!==f){f=xn(Error(s(424)),i),hl(f),i=bv(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=$n(t.firstChild),sn=i,Fe=!0,Bs=null,lr=!0,a=iv(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fl(),l===f){i=$r(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return Vc(t,i),t===null?(a=N_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Wc(be.current).createElement(a),l[Rt]=i,l[_t]=t,qt(l,a,t),mt(l),i.stateNode=l):i.memoizedState=N_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return di(i),t===null&&Fe&&(l=i.stateNode=C_(i.type,i.pendingProps,be.current),sn=i,lr=!0,f=ht,Vi(i.type)?(Em=f,ht=$n(l.firstChild)):ht=f),Bt(t,i,i.pendingProps.children,a),Vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((f=l=ht)&&(l=rS(l,i.type,i.pendingProps,lr),l!==null?(i.stateNode=l,sn=i,ht=$n(l.firstChild),lr=!1,f=!0):f=!1),f||Hs(i)),di(i),f=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,gm(f,d)?l=null:_!==null&&gm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=pd(t,i,Tw,null,null,a),Hl._currentValue=f),Vc(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ht)&&(a=iS(a,i.pendingProps,lr),a!==null?(i.stateNode=a,sn=i,ht=null,t=!0):t=!1),t||Hs(i)),null;case 13:return wv(t,i,a);case 4:return qe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ka(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return pv(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ti(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Fs(i),f=Kt(f),l=l(f),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return gv(t,i,i.type,i.pendingProps,a);case 15:return yv(t,i,i.type,i.pendingProps,a);case 19:return Av(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Lc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ur(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return vv(t,i,a);case 24:return Fs(i),l=Kt(xt),t===null?(f=ad(),f===null&&(f=rt,d=id(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},ld(i),Ti(i,xt,f)):((t.lanes&a)!==0&&(ud(t,i),El(i,null,null,a),_l()),f=t.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ti(i,xt,l)):(l=d.cache,Ti(i,xt,l),l!==f.cache&&rd(i,[xt],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Gr(t){t.flags|=4}function Cv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!P_(i)){if(i=Mn.current,i!==null&&((Le&4194048)===Le?ur!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ur))throw yl=od,cy;t.flags|=8192}}function Uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fo():536870912,t.lanes|=i,Za|=i)}function Cl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Nw(t,i,a){var l=i.pendingProps;switch(Jh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hr(xt),Gt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(cl(i)?Gr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,sy())),ot(i),null;case 26:return a=i.memoizedState,t===null?(Gr(i),a!==null?(ot(i),Cv(i,a)):(ot(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Gr(i),ot(i),Cv(i,a)):(ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Gr(i),ot(i),i.flags&=-16777217),null;case 27:Ar(i),a=be.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=pe.current,cl(i)?ry(i):(t=C_(f,l,a),i.stateNode=t,Gr(i))}return ot(i),null;case 5:if(Ar(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(t=pe.current,cl(i))ry(i);else{switch(f=Wc(be.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[Rt]=i,t[_t]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Gr(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Gr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,cl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,f=sn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||E_(t.nodeValue,a)),t||Hs(i)}else t=Wc(t).createTextNode(l),t[Rt]=i,i.stateNode=t}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=cl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=i}else fl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),f=!1}else f=sy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Fr(i),i):(Fr(i),null)}if(Fr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Uc(i,i.updateQueue),ot(i),null;case 4:return Gt(),t===null&&fm(i.stateNode.containerInfo),ot(i),null;case 10:return Hr(i.type),ot(i),null;case 19:if(ue(Nt),f=i.memoizedState,f===null)return ot(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)Cl(f,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Mc(t),d!==null){for(i.flags|=128,Cl(f,!1),t=d.updateQueue,i.updateQueue=t,Uc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ty(a,t),a=a.sibling;return J(Nt,Nt.current&1|2),i.child}t=t.sibling}f.tail!==null&&wn()>Bc&&(i.flags|=128,l=!0,Cl(f,!1),i.lanes=4194304)}else{if(!l)if(t=Mc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Uc(i,t),Cl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Fe)return ot(i),null}else 2*wn()-f.renderingStartTime>Bc&&a!==536870912&&(i.flags|=128,l=!0,Cl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(t=f.last,t!==null?t.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=wn(),i.sibling=null,t=Nt.current,J(Nt,l?t&1|2:t&1),i):(ot(i),null);case 22:case 23:return Fr(i),dd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&Uc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ue($s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hr(xt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Ow(t,i){switch(Jh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hr(xt),Gt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ar(i),null;case 13:if(Fr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));fl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ue(Nt),null;case 4:return Gt(),null;case 10:return Hr(i.type),null;case 22:case 23:return Fr(i),dd(),t!==null&&ue($s),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hr(xt),null;case 25:return null;default:return null}}function Iv(t,i){switch(Jh(i),i.tag){case 3:Hr(xt),Gt();break;case 26:case 27:case 5:Ar(i);break;case 4:Gt();break;case 13:Fr(i);break;case 19:ue(Nt);break;case 10:Hr(i.type);break;case 22:case 23:Fr(i),dd(),t!==null&&ue($s);break;case 24:Hr(xt)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(T){tt(i,i.return,T)}}function Ii(t,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=i;var N=a,q=T;try{q()}catch(Z){tt(f,N,Z)}}}l=l.next}while(l!==d)}}catch(Z){tt(i,i.return,Z)}}function xv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{gy(i,a)}catch(l){tt(t,t.return,l)}}}function Nv(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function xl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){tt(t,i,f)}}function cr(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(t,i,f)}else a.current=null}function Ov(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(t,t.return,f)}}function Bd(t,i,a){try{var l=t.stateNode;Zw(l,t.type,a,i),l[_t]=i}catch(f){tt(t,t.return,f)}}function Dv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vi(t.type)||t.tag===4}function Hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Xc));else if(l!==4&&(l===27&&Vi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(qd(t,i,a),t=t.sibling;t!==null;)qd(t,i,a),t=t.sibling}function zc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Vi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zc(t,i,a),t=t.sibling;t!==null;)zc(t,i,a),t=t.sibling}function Mv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);qt(i,l,a),i[Rt]=t,i[_t]=a}catch(d){tt(t,t.return,d)}}var Yr=!1,gt=!1,Fd=!1,kv=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function Dw(t,i){if(t=t.containerInfo,mm=rf,t=$g(t),Hh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,N=-1,q=0,Z=0,ne=t,$=null;t:for(;;){for(var K;ne!==a||f!==0&&ne.nodeType!==3||(T=_+f),ne!==d||l!==0&&ne.nodeType!==3||(N=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(K=ne.firstChild)!==null;)$=ne,ne=K;for(;;){if(ne===t)break t;if($===a&&++q===f&&(T=_),$===d&&++Z===l&&(N=_),(K=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=K}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(pm={focusedElem:t,selectionRange:a},rf=!1,Vt=i;Vt!==null;)if(i=Vt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Vt=t;else for(;Vt!==null;){switch(i=Vt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Ys(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){tt(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Vt=t;break}Vt=i.return}}function Pv(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xi(t,a),l&4&&Il(5,a);break;case 1:if(xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){tt(a,a.return,_)}else{var f=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}l&64&&xv(a),l&512&&xl(a,a.return);break;case 3:if(xi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gy(t,i)}catch(_){tt(a,a.return,_)}}break;case 27:i===null&&l&4&&Mv(a);case 26:case 5:xi(t,a),i===null&&l&4&&Ov(a),l&512&&xl(a,a.return);break;case 12:xi(t,a);break;case 13:xi(t,a),l&4&&Uv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Bw.bind(null,a),sS(t,a))));break;case 22:if(l=a.memoizedState!==null||Yr,!l){i=i!==null&&i.memoizedState!==null||gt,f=Yr;var d=gt;Yr=l,(gt=i)&&!d?Ni(t,a,(a.subtreeFlags&8772)!==0):xi(t,a),Yr=f,gt=d}break;case 30:break;default:xi(t,a)}}function Vv(t){var i=t.alternate;i!==null&&(t.alternate=null,Vv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&yi(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,un=!1;function Kr(t,i,a){for(a=a.child;a!==null;)Lv(t,i,a),a=a.sibling}function Lv(t,i,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:gt||cr(a,i),Kr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||cr(a,i);var l=st,f=un;Vi(a.type)&&(st=a.stateNode,un=!1),Kr(t,i,a),Ul(a.stateNode),st=l,un=f;break;case 5:gt||cr(a,i);case 6:if(l=st,f=un,st=null,Kr(t,i,a),st=l,un=f,st!==null)if(un)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){tt(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){tt(a,i,d)}break;case 18:st!==null&&(un?(t=st,A_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Gl(t)):A_(st,a.stateNode));break;case 4:l=st,f=un,st=a.stateNode.containerInfo,un=!0,Kr(t,i,a),st=l,un=f;break;case 0:case 11:case 14:case 15:gt||Ii(2,a,i),gt||Ii(4,a,i),Kr(t,i,a);break;case 1:gt||(cr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Nv(a,i,l)),Kr(t,i,a);break;case 21:Kr(t,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,Kr(t,i,a),gt=l;break;default:Kr(t,i,a)}}function Uv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(a){tt(i,i.return,a)}}function Mw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new kv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new kv),i;default:throw Error(s(435,t.tag))}}function $d(t,i){var a=Mw(t);i.forEach(function(l){var f=Hw.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function yn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Vi(T.type)){st=T.stateNode,un=!1;break e}break;case 5:st=T.stateNode,un=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(st===null)throw Error(s(160));Lv(d,_,f),st=null,un=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)zv(i,t),i=i.sibling}var Fn=null;function zv(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(i,t),vn(t),l&4&&(Ii(3,t,t.return),Il(3,t),Ii(5,t,t.return));break;case 1:yn(i,t),vn(t),l&512&&(gt||a===null||cr(a,a.return)),l&64&&Yr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Fn;if(yn(i,t),vn(t),l&512&&(gt||a===null||cr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[bs]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),qt(d,l,a),d[Rt]=t,mt(d),l=d;break e;case"link":var _=M_("link","href",f).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;case"meta":if(_=M_("meta","content",f).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=f.createElement(l),qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,mt(d),l=d}t.stateNode=l}else k_(f,t.type,t.stateNode);else t.stateNode=D_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?k_(f,t.type,t.stateNode):D_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Bd(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(i,t),vn(t),l&512&&(gt||a===null||cr(a,a.return)),a!==null&&l&4&&Bd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(i,t),vn(t),l&512&&(gt||a===null||cr(a,a.return)),t.flags&32){f=t.stateNode;try{An(f,"")}catch(K){tt(t,t.return,K)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Bd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Fd=!0);break;case 6:if(yn(i,t),vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){tt(t,t.return,K)}}break;case 3:if(ef=null,f=Fn,Fn=Zc(i.containerInfo),yn(i,t),Fn=f,vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(i.containerInfo)}catch(K){tt(t,t.return,K)}Fd&&(Fd=!1,jv(t));break;case 4:l=Fn,Fn=Zc(t.stateNode.containerInfo),yn(i,t),vn(t),Fn=l;break;case 12:yn(i,t),vn(t);break;case 13:yn(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Wd=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$d(t,l)));break;case 22:f=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,q=Yr,Z=gt;if(Yr=q||f,gt=Z||N,yn(i,t),gt=Z,Yr=q,vn(t),l&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||N||Yr||gt||Ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=N.stateNode;var ne=N.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){tt(N,N.return,K)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(K){tt(N,N.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$d(t,a))));break;case 19:yn(i,t),vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,$d(t,l)));break;case 30:break;case 21:break;default:yn(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Dv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Hd(t);zc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(An(_,""),a.flags&=-33);var T=Hd(t);zc(t,T,_);break;case 3:case 4:var N=a.stateNode.containerInfo,q=Hd(t);qd(t,q,N);break;default:throw Error(s(161))}}catch(Z){tt(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;jv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Pv(t,i.alternate,i),i=i.sibling}function Ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ii(4,i,i.return),Ks(i);break;case 1:cr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Nv(i,i.return,a),Ks(i);break;case 27:Ul(i.stateNode);case 26:case 5:cr(i,i.return),Ks(i);break;case 22:i.memoizedState===null&&Ks(i);break;case 30:Ks(i);break;default:Ks(i)}t=t.sibling}}function Ni(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Ni(f,d,a),Il(4,d);break;case 1:if(Ni(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){tt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)py(N[f],T)}catch(q){tt(l,l.return,q)}}a&&_&64&&xv(d),xl(d,d.return);break;case 27:Mv(d);case 26:case 5:Ni(f,d,a),a&&l===null&&_&4&&Ov(d),xl(d,d.return);break;case 12:Ni(f,d,a);break;case 13:Ni(f,d,a),a&&_&4&&Uv(f,d);break;case 22:d.memoizedState===null&&Ni(f,d,a),xl(d,d.return);break;case 30:break;default:Ni(f,d,a)}i=i.sibling}}function Gd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function Yd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t))}function fr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Bv(t,i,a,l),i=i.sibling}function Bv(t,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:fr(t,i,a,l),f&2048&&Il(9,i);break;case 1:fr(t,i,a,l);break;case 3:fr(t,i,a,l),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ml(t)));break;case 12:if(f&2048){fr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){tt(i,i.return,N)}}else fr(t,i,a,l);break;case 13:fr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?fr(t,i,a,l):Nl(t,i):d._visibility&2?fr(t,i,a,l):(d._visibility|=2,Qa(t,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Gd(_,i);break;case 24:fr(t,i,a,l),f&2048&&Yd(i.alternate,i);break;default:fr(t,i,a,l)}}function Qa(t,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,N=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(d,_,T,N,f),Il(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Qa(d,_,T,N,f):Nl(d,_):(Z._visibility|=2,Qa(d,_,T,N,f)),f&&q&2048&&Gd(_.alternate,_);break;case 24:Qa(d,_,T,N,f),f&&q&2048&&Yd(_.alternate,_);break;default:Qa(d,_,T,N,f)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,f=l.flags;switch(l.tag){case 22:Nl(a,l),f&2048&&Gd(l.alternate,l);break;case 24:Nl(a,l),f&2048&&Yd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Ol=8192;function Xa(t){if(t.subtreeFlags&Ol)for(t=t.child;t!==null;)Hv(t),t=t.sibling}function Hv(t){switch(t.tag){case 26:Xa(t),t.flags&Ol&&t.memoizedState!==null&&vS(Fn,t.memoizedState,t.memoizedProps);break;case 5:Xa(t);break;case 3:case 4:var i=Fn;Fn=Zc(t.stateNode.containerInfo),Xa(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Ol,Ol=16777216,Xa(t),Ol=i):Xa(t));break;default:Xa(t)}}function qv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Dl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,$v(l,t)}qv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fv(t),t=t.sibling}function Fv(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&Ii(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,jc(t)):Dl(t);break;default:Dl(t)}}function jc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Vt=l,$v(l,t)}qv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ii(8,i,i.return),jc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,jc(i));break;default:jc(i)}t=t.sibling}}function $v(t,i){for(;Vt!==null;){var a=Vt;switch(a.tag){case 0:case 11:case 15:Ii(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Vt=l;else e:for(a=t;Vt!==null;){l=Vt;var f=l.sibling,d=l.return;if(Vv(l),l===a){Vt=null;break e}if(f!==null){f.return=d,Vt=f;break e}Vt=d}}}var kw={getCacheForType:function(t){var i=Kt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Pw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,rt=null,Oe=null,Le=0,Qe=0,_n=null,Oi=!1,Wa=!1,Kd=!1,Qr=0,dt=0,Di=0,Qs=0,Qd=0,kn=0,Za=0,Ml=null,cn=null,Xd=!1,Wd=0,Bc=1/0,Hc=null,Mi=null,Ht=0,ki=null,Ja=null,eo=0,Zd=0,Jd=null,Gv=null,kl=0,em=null;function En(){if((Ke&2)!==0&&Le!==0)return Le&-Le;if(W.T!==null){var t=Ba;return t!==0?t:om()}return pi()}function Yv(){kn===0&&(kn=(Le&536870912)===0||Fe?qo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),kn}function Tn(t,i,a){(t===rt&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(to(t,0),Pi(t,Le,kn,!1)),Cr(t,a),((Ke&2)===0||t!==rt)&&(t===rt&&((Ke&2)===0&&(Qs|=a),dt===4&&Pi(t,Le,kn,!1)),hr(t))}function Kv(t,i,a){if((Ke&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ts(t,i),f=l?Uw(t,i):rm(t,i,!0),d=l;do{if(f===0){Wa&&!l&&Pi(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Vw(a)){f=rm(t,i,!1),d=!1;continue}if(f===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;f=Ml;var N=T.current.memoizedState.isDehydrated;if(N&&(to(T,_).flags|=256),_=rm(T,_,!1),_!==2){if(Kd&&!N){T.errorRecoveryDisabledLanes|=d,Qs|=d,f=4;break e}d=cn,cn=f,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){to(t,0),Pi(t,i,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pi(l,i,kn,!Oi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Wd+300-wn(),10<f)){if(Pi(l,i,kn,!Oi),va(l,0,!0)!==0)break e;l.timeoutHandle=w_(Qv.bind(null,l,a,cn,Hc,Xd,i,kn,Qs,Za,Oi,d,2,-0,0),f);break e}Qv(l,a,cn,Hc,Xd,i,kn,Qs,Za,Oi,d,0,-0,0)}}break}while(!0);hr(t)}function Qv(t,i,a,l,f,d,_,T,N,q,Z,ne,$,K){if(t.timeoutHandle=-1,ne=i.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Bl={stylesheets:null,count:0,unsuspend:yS},Hv(i),ne=_S(),ne!==null)){t.cancelPendingCommit=ne(n_.bind(null,t,i,d,a,l,f,_,T,N,Z,1,$,K)),Pi(t,d,_,!q);return}n_(t,i,d,a,l,f,_,T,N)}function Vw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!pn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pi(t,i,a,l){i&=~Qd,i&=~Qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var f=i;0<f;){var d=31-Yt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Wn(t,a,i)}function qc(){return(Ke&6)===0?(Pl(0),!1):!0}function tm(){if(Oe!==null){if(Qe===0)var t=Oe.return;else t=Oe,Br=qs=null,vd(t),Ya=null,Al=0,t=Oe;for(;t!==null;)Iv(t.alternate,t),t=t.return;Oe=null}}function to(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tm(),rt=t,Oe=a=Ur(t.current,null),Le=i,Qe=0,_n=null,Oi=!1,Wa=Ts(t,i),Kd=!1,Za=kn=Qd=Qs=Di=dt=0,cn=Ml=null,Xd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var f=31-Yt(l),d=1<<f;i|=t[f],l&=~d}return Qr=i,fc(),a}function Xv(t,i){Ie=null,W.H=Nc,i===gl||i===Ec?(i=dy(),Qe=3):i===cy?(i=dy(),Qe=4):Qe=i===mv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,Oe===null&&(dt=1,Pc(t,xn(i,t.current)))}function Wv(){var t=W.H;return W.H=Nc,t===null?Nc:t}function Zv(){var t=W.A;return W.A=kw,t}function nm(){dt=4,Oi||(Le&4194048)!==Le&&Mn.current!==null||(Wa=!0),(Di&134217727)===0&&(Qs&134217727)===0||rt===null||Pi(rt,Le,kn,!1)}function rm(t,i,a){var l=Ke;Ke|=2;var f=Wv(),d=Zv();(rt!==t||Le!==i)&&(Hc=null,to(t,i)),i=!1;var _=dt;e:do try{if(Qe!==0&&Oe!==null){var T=Oe,N=_n;switch(Qe){case 8:tm(),_=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var q=Qe;if(Qe=0,_n=null,no(t,T,N,q),a&&Wa){_=0;break e}break;default:q=Qe,Qe=0,_n=null,no(t,T,N,q)}}Lw(),_=dt;break}catch(Z){Xv(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Br=qs=null,Ke=l,W.H=f,W.A=d,Oe===null&&(rt=null,Le=0,fc()),_}function Lw(){for(;Oe!==null;)Jv(Oe)}function Uw(t,i){var a=Ke;Ke|=2;var l=Wv(),f=Zv();rt!==t||Le!==i?(Hc=null,Bc=wn()+500,to(t,i)):Wa=Ts(t,i);e:do try{if(Qe!==0&&Oe!==null){i=Oe;var d=_n;t:switch(Qe){case 1:Qe=0,_n=null,no(t,i,d,1);break;case 2:case 9:if(fy(d)){Qe=0,_n=null,e_(i);break}i=function(){Qe!==2&&Qe!==9||rt!==t||(Qe=7),hr(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:fy(d)?(Qe=0,_n=null,e_(i)):(Qe=0,_n=null,no(t,i,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var T=Oe;if(!_||P_(_)){Qe=0,_n=null;var N=T.sibling;if(N!==null)Oe=N;else{var q=T.return;q!==null?(Oe=q,Fc(q)):Oe=null}break t}}Qe=0,_n=null,no(t,i,d,5);break;case 6:Qe=0,_n=null,no(t,i,d,6);break;case 8:tm(),dt=6;break e;default:throw Error(s(462))}}zw();break}catch(Z){Xv(t,Z)}while(!0);return Br=qs=null,W.H=l,W.A=f,Ke=a,Oe!==null?0:(rt=null,Le=0,fc(),dt)}function zw(){for(;Oe!==null&&!zo();)Jv(Oe)}function Jv(t){var i=Rv(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,i===null?Fc(t):Oe=i}function e_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ev(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=Ev(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:vd(i);default:Iv(a,i),i=Oe=ty(i,Qr),i=Rv(a,i,Qr)}t.memoizedProps=t.pendingProps,i===null?Fc(t):Oe=i}function no(t,i,a,l){Br=qs=null,vd(i),Ya=null,Al=0;var f=i.return;try{if(Iw(t,f,i,a,Le)){dt=1,Pc(t,xn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;dt=1,Pc(t,xn(a,t.current)),Oe=null;return}i.flags&32768?(Fe||l===1?t=!0:Wa||(Le&536870912)!==0?t=!1:(Oi=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(i,t)):Fc(i)}function Fc(t){var i=t;do{if((i.flags&32768)!==0){t_(i,Oi);return}t=i.return;var a=Nw(i.alternate,i,Qr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);dt===0&&(dt=5)}function t_(t,i){do{var a=Ow(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);dt=6,Oe=null}function n_(t,i,a,l,f,d,_,T,N){t.cancelPendingCommit=null;do $c();while(Ht!==0);if((Ke&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Yh,$o(t,a,d,_,T,N),t===rt&&(Oe=rt=null,Le=0),Ja=i,ki=t,eo=a,Zd=d,Jd=f,Gv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qw(ys,function(){return o_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ae.p,ae.p=2,_=Ke,Ke|=4;try{Dw(t,i,a)}finally{Ke=_,ae.p=f,W.T=l}}Ht=1,r_(),i_(),s_()}}function r_(){if(Ht===1){Ht=0;var t=ki,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Ke;Ke|=4;try{zv(i,t);var d=pm,_=$g(t.containerInfo),T=d.focusedElem,N=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Fg(T.ownerDocument.documentElement,T)){if(N!==null&&Hh(T)){var q=N.start,Z=N.end;if(Z===void 0&&(Z=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(Z,T.value.length);else{var ne=T.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var K=$.getSelection(),we=T.textContent.length,ve=Math.min(N.start,we),Je=N.end===void 0?ve:Math.min(N.end,we);!K.extend&&ve>Je&&(_=Je,Je=ve,ve=_);var z=qg(T,ve),P=qg(T,Je);if(z&&P&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var B=ne.createRange();B.setStart(z.node,z.offset),K.removeAllRanges(),ve>Je?(K.addRange(B),K.extend(P.node,P.offset)):(B.setEnd(P.node,P.offset),K.addRange(B))}}}}for(ne=[],K=T;K=K.parentNode;)K.nodeType===1&&ne.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var ee=ne[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}rf=!!mm,pm=mm=null}finally{Ke=f,ae.p=l,W.T=a}}t.current=i,Ht=2}}function i_(){if(Ht===2){Ht=0;var t=ki,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Ke;Ke|=4;try{Pv(t,i.alternate,i)}finally{Ke=f,ae.p=l,W.T=a}}Ht=3}}function s_(){if(Ht===4||Ht===3){Ht=0,ju();var t=ki,i=Ja,a=eo,l=Gv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,Ja=ki=null,a_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Mi=null),_a(a),i=i.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{W.T=i,ae.p=f}}(eo&3)!==0&&$c(),hr(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===em?kl++:(kl=0,em=t):kl=0,Pl(0)}}function a_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ml(i)))}function $c(t){return r_(),i_(),s_(),o_()}function o_(){if(Ht!==5)return!1;var t=ki,i=Zd;Zd=0;var a=_a(eo),l=W.T,f=ae.p;try{ae.p=32>a?32:a,W.T=null,a=Jd,Jd=null;var d=ki,_=eo;if(Ht=0,Ja=ki=null,eo=0,(Ke&6)!==0)throw Error(s(331));var T=Ke;if(Ke|=4,Fv(d.current),Bv(d,d.current,_,a),Ke=T,Pl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{ae.p=f,W.T=l,a_(t,i)}}function l_(t,i,a){i=xn(a,i),i=Dd(t.stateNode,i,2),t=Si(t,i,2),t!==null&&(Cr(t,2),hr(t))}function tt(t,i,a){if(t.tag===3)l_(t,t,a);else for(;i!==null;){if(i.tag===3){l_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Mi===null||!Mi.has(l))){t=xn(a,t),a=hv(2),l=Si(i,a,2),l!==null&&(dv(a,l,i,t),Cr(l,2),hr(l));break}}i=i.return}}function im(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Pw;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Kd=!0,f.add(a),t=jw.bind(null,t,i,a),i.then(t,t))}function jw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Le&a)===a&&(dt===4||dt===3&&(Le&62914560)===Le&&300>wn()-Wd?(Ke&2)===0&&to(t,0):Qd|=a,Za===Le&&(Za=0)),hr(t)}function u_(t,i){i===0&&(i=Fo()),t=La(t,i),t!==null&&(Cr(t,i),hr(t))}function Bw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),u_(t,a)}function Hw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),u_(t,a)}function qw(t,i){return ps(t,i)}var Gc=null,ro=null,sm=!1,Yc=!1,am=!1,Xs=0;function hr(t){t!==ro&&t.next===null&&(ro===null?Gc=ro=t:ro=ro.next=t),Yc=!0,sm||(sm=!0,$w())}function Pl(t,i){if(!am&&Yc){am=!0;do for(var a=!1,l=Gc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Yt(42|t)+1)-1,d&=f&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,d_(l,d))}else d=Le,d=va(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ts(l,d)||(a=!0,d_(l,d));l=l.next}while(a);am=!1}}function Fw(){c_()}function c_(){Yc=sm=!1;var t=0;Xs!==0&&(Jw()&&(t=Xs),Xs=0);for(var i=wn(),a=null,l=Gc;l!==null;){var f=l.next,d=f_(l,i);d===0?(l.next=null,a===null?Gc=f:a.next=f,f===null&&(ro=a)):(a=l,(t!==0||(d&3)!==0)&&(Yc=!0)),l=f}Pl(t)}function f_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Yt(d),T=1<<_,N=f[_];N===-1?((T&a)===0||(T&l)!==0)&&(f[_]=Ho(T,i)):N<=i&&(t.expiredLanes|=T),d&=~T}if(i=rt,a=Le,a=va(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ts(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gs(l),_a(a)){case 2:case 8:a=ga;break;case 32:a=ys;break;case 268435456:a=ya;break;default:a=ys}return l=h_.bind(null,t),a=ps(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gs(l),t.callbackPriority=2,t.callbackNode=null,2}function h_(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=Le;return l=va(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Kv(t,l,i),f_(t,wn()),t.callbackNode!=null&&t.callbackNode===a?h_.bind(null,t):null)}function d_(t,i){if($c())return null;Kv(t,i,!0)}function $w(){tS(function(){(Ke&6)!==0?ps(jo,Fw):c_()})}function om(){return Xs===0&&(Xs=qo()),Xs}function m_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function p_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Gw(t,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=m_((f[_t]||null).action),_=l.submitter;_&&(i=(i=_[_t]||null)?m_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ra("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var N=_?p_(f,_):new FormData(f);Cd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(T.preventDefault(),N=_?p_(f,_):new FormData(f),Cd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var lm=0;lm<Gh.length;lm++){var um=Gh[lm],Yw=um.toLowerCase(),Kw=um[0].toUpperCase()+um.slice(1);qn(Yw,"on"+Kw)}qn(Kg,"onAnimationEnd"),qn(Qg,"onAnimationIteration"),qn(Xg,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(fw,"onTransitionRun"),qn(hw,"onTransitionStart"),qn(dw,"onTransitionCancel"),qn(Wg,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function g_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],N=T.instance,q=T.currentTarget;if(T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(Z){kc(Z)}f.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(T=l[_],N=T.instance,q=T.currentTarget,T=T.listener,N!==d&&f.isPropagationStopped())break e;d=T,f.currentTarget=q;try{d(f)}catch(Z){kc(Z)}f.currentTarget=null,d=N}}}}function De(t,i){var a=i[Yo];a===void 0&&(a=i[Yo]=new Set);var l=t+"__bubble";a.has(l)||(y_(i,t,2,!1),a.add(l))}function cm(t,i,a){var l=0;i&&(l|=4),y_(a,t,l,i)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function fm(t){if(!t[Kc]){t[Kc]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(Qw.has(a)||cm(a,!1,t),cm(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Kc]||(i[Kc]=!0,cm("selectionchange",!1,i))}}function y_(t,i,a,l){switch(B_(i)){case 2:var f=bS;break;case 8:f=wS;break;default:f=Am}a=f.bind(null,i,a,t),f=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function hm(t,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=Ir(T),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Xu(function(){var q=d,Z=Rn(a),ne=[];e:{var $=Zg.get(t);if($!==void 0){var K=Ra,we=t;switch(t){case"keypress":if(rr(a)===0)break e;case"keydown":case"keyup":K=Da;break;case"focusin":we="focus",K=xa;break;case"focusout":we="blur",K=xa;break;case"beforeblur":case"afterblur":K=xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=ic;break;case Kg:case Qg:case Xg:K=Na;break;case Wg:K=ac;break;case"scroll":case"scrollend":K=Wu;break;case"wheel":K=Ma;break;case"copy":case"cut":case"paste":K=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=al;break;case"toggle":case"beforetoggle":K=lc}var ve=(i&4)!==0,Je=!ve&&(t==="scroll"||t==="scrollend"),z=ve?$!==null?$+"Capture":null:$;ve=[];for(var P=q,B;P!==null;){var ee=P;if(B=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||B===null||z===null||(ee=xs(P,z),ee!=null&&ve.push(Ll(P,ee,B))),Je)break;P=P.return}0<ve.length&&($=new K($,we,null,a,Z),ne.push({event:$,listeners:ve}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&a!==Dr&&(we=a.relatedTarget||a.fromElement)&&(Ir(we)||we[Sn]))break e;if((K||$)&&($=Z.window===Z?Z:($=Z.ownerDocument)?$.defaultView||$.parentWindow:window,K?(we=a.relatedTarget||a.toElement,K=q,we=we?Ir(we):null,we!==null&&(Je=u(we),ve=we.tag,we!==Je||ve!==5&&ve!==27&&ve!==6)&&(we=null)):(K=null,we=q),K!==we)){if(ve=In,ee="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ve=al,ee="onPointerLeave",z="onPointerEnter",P="pointer"),Je=K==null?$:Jn(K),B=we==null?$:Jn(we),$=new ve(ee,P+"leave",K,a,Z),$.target=Je,$.relatedTarget=B,ee=null,Ir(Z)===q&&(ve=new ve(z,P+"enter",we,a,Z),ve.target=B,ve.relatedTarget=Je,ee=ve),Je=ee,K&&we)t:{for(ve=K,z=we,P=0,B=ve;B;B=io(B))P++;for(B=0,ee=z;ee;ee=io(ee))B++;for(;0<P-B;)ve=io(ve),P--;for(;0<B-P;)z=io(z),B--;for(;P--;){if(ve===z||z!==null&&ve===z.alternate)break t;ve=io(ve),z=io(z)}ve=null}else ve=null;K!==null&&v_(ne,$,K,ve,!1),we!==null&&Je!==null&&v_(ne,Je,we,ve,!0)}}e:{if($=q?Jn(q):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var me=Lg;else if(It($))if(Ug)me=lw;else{me=aw;var Ne=sw}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&Jo(q.elementType)&&(me=Lg):me=ow;if(me&&(me=me(t,q))){Lr(ne,me,a,Z);break e}Ne&&Ne(t,$,q),t==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&_i($,"number",$.value)}switch(Ne=q?Jn(q):window,t){case"focusin":(It(Ne)||Ne.contentEditable==="true")&&(ka=Ne,qh=q,ul=null);break;case"focusout":ul=qh=ka=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,Gg(ne,a,Z);break;case"selectionchange":if(cw)break;case"keydown":case"keyup":Gg(ne,a,Z)}var ge;if(ar)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Pe?X(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Pe||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Pe&&(ge=tl()):(nr=Z,Ei="value"in nr?nr.value:nr.textContent,Pe=!0)),Ne=Qc(q,_e),0<Ne.length&&(_e=new il(_e,t,null,a,Z),ne.push({event:_e,listeners:Ne}),ge?_e.data=ge:(ge=oe(a),ge!==null&&(_e.data=ge)))),(ge=y?Ct(t,a):Ve(t,a))&&(_e=Qc(q,"onBeforeInput"),0<_e.length&&(Ne=new il("onBeforeInput","beforeinput",null,a,Z),ne.push({event:Ne,listeners:_e}),Ne.data=ge)),Gw(ne,t,q,a,Z)}g_(ne,i)})}function Ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=xs(t,a),f!=null&&l.unshift(Ll(t,f,d)),f=xs(t,i),f!=null&&l.push(Ll(t,f,d))),t.tag===3)return l;t=t.return}return[]}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function v_(t,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,N=T.alternate,q=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||q===null||(N=q,f?(q=xs(a,d),q!=null&&_.unshift(Ll(a,q,N))):f||(q=xs(a,d),q!=null&&_.push(Ll(a,q,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Xw=/\r\n?/g,Ww=/\u0000|\uFFFD/g;function __(t){return(typeof t=="string"?t:""+t).replace(Xw,`
`).replace(Ww,"")}function E_(t,i){return i=__(i),__(t)===i}function Xc(){}function Ze(t,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":er(t,"class",l);break;case"tabIndex":er(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":er(t,a,l);break;case"style":Zo(t,l,d);break;case"data":if(i!=="object"){er(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",f.name,f,null),Ze(t,i,"formEncType",f.formEncType,f,null),Ze(t,i,"formMethod",f.formMethod,f,null),Ze(t,i,"formTarget",f.formTarget,f,null)):(Ze(t,i,"encType",f.encType,f,null),Ze(t,i,"method",f.method,f,null),Ze(t,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Xc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),vi(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vh.get(a)||a,vi(t,a,l))}}function dm(t,i,a,l,f,d){switch(a){case"style":Zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):vi(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}f&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var T=d=_=f=null,N=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":N=Z;break;case"defaultChecked":q=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Z,a,null)}}Rs(t,d,T,N,q,_,f,!1),Sa(t);return;case"select":De("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Ze(t,i,f,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Or(t,!!l,i,!1):a!=null&&Or(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,i,_,T,a,null)}Cs(t,l,f,d),Sa(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)De(Vl[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,q,l,a,null)}return;default:if(Jo(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&dm(t,i,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,i,T,l,a,null))}function Zw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,T=null,N=null,q=null,Z=null;for(K in a){var ne=a[K];if(a.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=ne;default:l.hasOwnProperty(K)||Ze(t,i,K,null,l,ne)}}for(var $ in l){var K=l[$];if(ne=a[$],l.hasOwnProperty($)&&(K!=null||ne!=null))switch($){case"type":d=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ne&&Ze(t,i,$,K,l,ne)}}mn(t,_,T,N,q,Z,d,f);return;case"select":K=_=T=$=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":K=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":$=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,f,d,l,N)}i=T,a=_,l=K,$!=null?Or(t,!!a,$,!1):!!l!=!!a&&(i!=null?Or(t,!!a,i,!0):Or(t,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,i,T,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":$=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,i,_,f,l,d)}Xe(t,$,K);return;case"option":for(var we in a)if($=a[we],a.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:Ze(t,i,we,null,l,$)}for(N in l)if($=l[N],K=a[N],l.hasOwnProperty(N)&&$!==K&&($!=null||K!=null))switch(N){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ze(t,i,N,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)$=a[ve],a.hasOwnProperty(ve)&&$!=null&&!l.hasOwnProperty(ve)&&Ze(t,i,ve,null,l,$);for(q in l)if($=l[q],K=a[q],l.hasOwnProperty(q)&&$!==K&&($!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Ze(t,i,q,$,l,K)}return;default:if(Jo(i)){for(var Je in a)$=a[Je],a.hasOwnProperty(Je)&&$!==void 0&&!l.hasOwnProperty(Je)&&dm(t,i,Je,void 0,l,$);for(Z in l)$=l[Z],K=a[Z],!l.hasOwnProperty(Z)||$===K||$===void 0&&K===void 0||dm(t,i,Z,$,l,K);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&Ze(t,i,z,null,l,$);for(ne in l)$=l[ne],K=a[ne],!l.hasOwnProperty(ne)||$===K||$==null&&K==null||Ze(t,i,ne,$,l,K)}var mm=null,pm=null;function Wc(t){return t.nodeType===9?t:t.ownerDocument}function T_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function gm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ym=null;function Jw(){var t=window.event;return t&&t.type==="popstate"?t===ym?!1:(ym=t,!0):(ym=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,eS=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,tS=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(nS)}:w_;function nS(t){setTimeout(function(){throw t})}function Vi(t){return t==="head"}function A_(t,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&Ul(_.documentElement),a&2&&Ul(_.body),a&4)for(a=_.head,Ul(a),_=a.firstChild;_;){var T=_.nextSibling,N=_.nodeName;_[bs]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(f===0){t.removeChild(d),Gl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Gl(i)}function vm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vm(a),yi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function rS(t,i,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[bs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function iS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sS(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Em=null;function R_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function C_(t,i,a){switch(i=Wc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);yi(t)}var Pn=new Map,I_=new Set;function Zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Xr=ae.d;ae.d={f:aS,r:oS,D:lS,C:uS,L:cS,m:fS,X:dS,S:hS,M:mS};function aS(){var t=Xr.f(),i=qc();return t||i}function oS(t){var i=Zn(t);i!==null&&i.tag===5&&i.type==="form"?Ky(i):Xr.r(t)}var so=typeof document>"u"?null:document;function x_(t,i,a){var l=so;if(l&&typeof i=="string"&&i){var f=Et(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),I_.has(f)||(I_.add(f),t={rel:t,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),qt(i,"link",t),mt(i),l.head.appendChild(i)))}}function lS(t){Xr.D(t),x_("dns-prefetch",t,null)}function uS(t,i){Xr.C(t,i),x_("preconnect",t,i)}function cS(t,i,a){Xr.L(t,i,a);var l=so;if(l&&t&&i){var f='link[rel="preload"][as="'+Et(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(t)+'"]';var d=f;switch(i){case"style":d=ao(t);break;case"script":d=oo(t)}Pn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),l.querySelector(f)!==null||i==="style"&&l.querySelector(zl(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),qt(i,"link",t),mt(i),l.head.appendChild(i)))}}function fS(t,i){Xr.m(t,i);var a=so;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!Pn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),qt(l,"link",t),mt(l),a.head.appendChild(l)}}}function hS(t,i,a){Xr.S(t,i,a);var l=so;if(l&&t){var f=tn(l).hoistableStyles,d=ao(t);i=i||"default";var _=f.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(zl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&Tm(t,a);var N=_=l.createElement("link");mt(N),qt(N,"link",t),N._p=new Promise(function(q,Z){N.onload=q,N.onerror=Z}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Jc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(d,_)}}}function dS(t,i){Xr.X(t,i);var a=so;if(a&&t){var l=tn(a).hoistableScripts,f=oo(t),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(t=E({src:t,async:!0},i),(i=Pn.get(f))&&bm(t,i),d=a.createElement("script"),mt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function mS(t,i){Xr.M(t,i);var a=so;if(a&&t){var l=tn(a).hoistableScripts,f=oo(t),d=l.get(f);d||(d=a.querySelector(jl(f)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Pn.get(f))&&bm(t,i),d=a.createElement("script"),mt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function N_(t,i,a,l){var f=(f=be.current)?Zc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=tn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=tn(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(zl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||pS(f,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=tn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+Et(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function O_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function pS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),mt(i),t.head.appendChild(i))}function oo(t){return'[src="'+Et(t)+'"]'}function jl(t){return"script[async]"+t}function D_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),qt(l,"style",f),Jc(l,a.precedence,t),i.instance=l;case"stylesheet":f=ao(a.href);var d=t.querySelector(zl(f));if(d)return i.state.loading|=4,i.instance=d,mt(d),d;l=O_(a),(f=Pn.get(f))&&Tm(l,f),d=(t.ownerDocument||t).createElement("link"),mt(d);var _=d;return _._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),qt(d,"link",l),i.state.loading|=4,Jc(d,a.precedence,t),i.instance=d;case"script":return d=oo(a.src),(f=t.querySelector(jl(d)))?(i.instance=f,mt(f),f):(l=a,(f=Pn.get(d))&&(l=E({},a),bm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),mt(f),qt(f,"link",l),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Jc(l,a.precedence,t));return i.instance}function Jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ef=null;function M_(t,i,a){if(ef===null){var l=new Map,f=ef=new Map;f.set(a,l)}else f=ef,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[bs]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function k_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function gS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function P_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bl=null;function yS(){}function vS(t,i,a){if(Bl===null)throw Error(s(475));var l=Bl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ao(a.href),d=t.querySelector(zl(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=tf.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,mt(d);return}d=t.ownerDocument||t,a=O_(a),(f=Pn.get(f))&&Tm(a,f),d=d.createElement("link"),mt(d);var _=d;_._p=new Promise(function(T,N){_.onload=T,_.onerror=N}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=tf.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function _S(){if(Bl===null)throw Error(s(475));var t=Bl;return t.stylesheets&&t.count===0&&wm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&wm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function tf(){if(this.count--,this.count===0){if(this.stylesheets)wm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var nf=null;function wm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,nf=new Map,i.forEach(ES,t),nf=null,tf.call(t))}function ES(t,i){if(!(i.state.loading&4)){var a=nf.get(t);if(a)var l=a.get(null);else{a=new Map,nf.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=tf.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Hl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function TS(t,i,a,l,f,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function V_(t,i,a,l,f,d,_,T,N,q,Z,ne){return t=new TS(t,i,a,_,T,N,q,ne),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=id(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ld(d),t}function L_(t){return t?(t=Ua,t):Ua}function U_(t,i,a,l,f,d){f=L_(f),l.context===null?l.context=f:l.pendingContext=f,l=wi(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Si(t,l,i),a!==null&&(Tn(a,t,i),vl(a,t,i))}function z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Sm(t,i){z_(t,i),(t=t.alternate)&&z_(t,i)}function j_(t){if(t.tag===13){var i=La(t,67108864);i!==null&&Tn(i,t,67108864),Sm(t,67108864)}}var rf=!0;function bS(t,i,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=2,Am(t,i,a,l)}finally{ae.p=d,W.T=f}}function wS(t,i,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=8,Am(t,i,a,l)}finally{ae.p=d,W.T=f}}function Am(t,i,a,l){if(rf){var f=Rm(l);if(f===null)hm(t,i,l,sf,a),H_(t,l);else if(AS(f,t,i,a,l))l.stopPropagation();else if(H_(t,l),i&4&&-1<SS.indexOf(t)){for(;f!==null;){var d=Zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=jn(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var N=1<<31-Yt(_);T.entanglements[1]|=N,_&=~N}hr(d),(Ke&6)===0&&(Bc=wn()+500,Pl(0))}}break;case 13:T=La(d,2),T!==null&&Tn(T,d,2),qc(),Sm(d,2)}if(d=Rm(l),d===null&&hm(t,i,l,sf,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else hm(t,i,l,null,a)}}function Rm(t){return t=Rn(t),Cm(t)}var sf=null;function Cm(t){if(sf=null,t=Ir(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return sf=t,null}function B_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nh()){case jo:return 2;case ga:return 8;case ys:case Oh:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Im=!1,Li=null,Ui=null,zi=null,ql=new Map,Fl=new Map,ji=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(t,i){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(i.pointerId)}}function $l(t,i,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Zn(i),i!==null&&j_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function AS(t,i,a,l,f){switch(i){case"focusin":return Li=$l(Li,t,i,a,l,f),!0;case"dragenter":return Ui=$l(Ui,t,i,a,l,f),!0;case"mouseover":return zi=$l(zi,t,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return ql.set(d,$l(ql.get(d)||null,t,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Fl.set(d,$l(Fl.get(d)||null,t,i,a,l,f)),!0}return!1}function q_(t){var i=Ir(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,qu(t.priority,function(){if(a.tag===13){var l=En();l=mi(l);var f=La(a,l);f!==null&&Tn(f,a,l),Sm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function af(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Dr=l,a.target.dispatchEvent(l),Dr=null}else return i=Zn(a),i!==null&&j_(i),t.blockedOn=a,!1;i.shift()}return!0}function F_(t,i,a){af(t)&&a.delete(i)}function RS(){Im=!1,Li!==null&&af(Li)&&(Li=null),Ui!==null&&af(Ui)&&(Ui=null),zi!==null&&af(zi)&&(zi=null),ql.forEach(F_),Fl.forEach(F_)}function of(t,i){t.blockedOn===i&&(t.blockedOn=null,Im||(Im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RS)))}var lf=null;function $_(t){lf!==t&&(lf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lf===t&&(lf=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],f=t[i+2];if(typeof l!="function"){if(Cm(l||a)===null)continue;break}var d=Zn(a);d!==null&&(t.splice(i,3),i-=3,Cd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Gl(t){function i(N){return of(N,t)}Li!==null&&of(Li,t),Ui!==null&&of(Ui,t),zi!==null&&of(zi,t),ql.forEach(i),Fl.forEach(i);for(var a=0;a<ji.length;a++){var l=ji[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ji.length&&(a=ji[0],a.blockedOn===null);)q_(a),a.blockedOn===null&&ji.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[_t]||null;if(typeof d=="function")_||$_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[_t]||null)T=_.formAction;else if(Cm(f)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),$_(a)}}}function xm(t){this._internalRoot=t}uf.prototype.render=xm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=En();U_(a,l,t,i,null,null)},uf.prototype.unmount=xm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;U_(t.current,2,null,t,null,null),qc(),i[Sn]=null}};function uf(t){this._internalRoot=t}uf.prototype.unstable_scheduleHydration=function(t){if(t){var i=pi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ji.length&&i!==0&&i<ji[a].priority;a++);ji.splice(a,0,t),a===0&&q_(t)}};var G_=e.version;if(G_!=="19.1.0")throw Error(s(527,G_,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var CS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cf.isDisabled&&cf.supportsFiber)try{ft=cf.inject(CS),Ye=cf}catch{}}return Kl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",f=lv,d=uv,_=cv,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=V_(t,1,!1,null,null,a,l,f,d,_,T,null),t[Sn]=i.current,fm(t),new xm(i)},Kl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=lv,_=uv,T=cv,N=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=V_(t,1,!0,i,a??null,l,f,d,_,T,N,q),i.context=L_(null),a=i.current,l=En(),l=mi(l),f=wi(l),f.callback=null,Si(a,f,l),a=l,i.current.lanes=a,Cr(i,a),hr(i),t[Sn]=i.current,fm(t),new uf(i)},Kl.version="19.1.0",Kl}var r0;function US(){if(r0)return Dm.exports;r0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dm.exports=LS(),Dm.exports}var zS=US();/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var i0="popstate";function jS(r={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return ip("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:hu(o)}return HS(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BS(){return Math.random().toString(36).substring(2,10)}function s0(r,e){return{usr:r.state,key:r.key,idx:e}}function ip(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:n,key:e&&e.key||s||BS()}}function hu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function xo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function HS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function w(){m="POP";let U=E(),F=U==null?null:U-g;g=U,p&&p({action:m,location:H.location,delta:F})}function S(U,F){m="PUSH";let Q=ip(H.location,U,F);g=E()+1;let Y=s0(Q,g),ie=H.createHref(Q);try{h.pushState(Y,"",ie)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ie)}u&&p&&p({action:m,location:H.location,delta:1})}function O(U,F){m="REPLACE";let Q=ip(H.location,U,F);g=E();let Y=s0(Q,g),ie=H.createHref(Q);h.replaceState(Y,"",ie),u&&p&&p({action:m,location:H.location,delta:0})}function V(U){return qS(U)}let H={get action(){return m},get location(){return r(o,h)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(i0,w),p=U,()=>{o.removeEventListener(i0,w),p=null}},createHref(U){return e(o,U)},createURL:V,encodeLocation(U){let F=V(U);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:S,replace:O,go(U){return h.go(U)}};return H}function qS(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),at(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:hu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function tT(r,e,n="/"){return FS(r,e,n,!1)}function FS(r,e,n,s){let o=typeof e=="string"?xo(e):e,u=si(o.pathname||"/",n);if(u==null)return null;let h=nT(r);$S(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=nA(u);m=eA(h[p],g,s)}return m}function nT(r,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ni([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),nT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:ZS(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of rT(u.path))o(u,h,m)}),e}function rT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=rT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function $S(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:JS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var GS=/^:[\w-]+$/,YS=3,KS=2,QS=1,XS=10,WS=-2,a0=r=>r==="*";function ZS(r,e){let n=r.split("/"),s=n.length;return n.some(a0)&&(s+=WS),e&&(s+=KS),n.filter(o=>!a0(o)).reduce((o,u)=>o+(GS.test(u)?YS:u===""?QS:XS),s)}function JS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function eA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=Df({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=Df({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:ni([u,w.pathname]),pathnameBase:aA(ni([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=ni([u,w.pathnameBase]))}return h}function Df(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},S)=>{if(E==="*"){let V=m[S]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const O=m[S];return w&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function tA(r,e=!1,n=!0){Qn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function si(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function rA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?xo(r):r;return{pathname:n?n.startsWith("/")?n:iA(n,e):e,search:oA(s),hash:lA(o)}}function iA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Fp(r){let e=sA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function $p(r,e,n,s=!1){let o;typeof r=="string"?o=xo(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let w=e.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),w-=1;o.pathname=S.join("/")}m=w>=0?e[w]:"/"}let p=rA(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var ni=r=>r.join("/").replace(/\/\/+/g,"/"),aA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var iT=["POST","PUT","PATCH","DELETE"];new Set(iT);var cA=["GET",...iT];new Set(cA);var No=A.createContext(null);No.displayName="DataRouter";var eh=A.createContext(null);eh.displayName="DataRouterState";A.createContext(!1);var sT=A.createContext({isTransitioning:!1});sT.displayName="ViewTransition";var fA=A.createContext(new Map);fA.displayName="Fetchers";var hA=A.createContext(null);hA.displayName="Await";var Xn=A.createContext(null);Xn.displayName="Navigation";var bu=A.createContext(null);bu.displayName="Location";var br=A.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Gp=A.createContext(null);Gp.displayName="RouteError";function dA(r,{relative:e}={}){at(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=A.useContext(Xn),{hash:o,pathname:u,search:h}=Su(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ni([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Oo(){return A.useContext(bu)!=null}function cs(){return at(Oo(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(bu).location}var aT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oT(r){A.useContext(Xn).static||A.useLayoutEffect(r)}function wu(){let{isDataRoute:r}=A.useContext(br);return r?RA():mA()}function mA(){at(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=A.useContext(No),{basename:e,navigator:n}=A.useContext(Xn),{matches:s}=A.useContext(br),{pathname:o}=cs(),u=JSON.stringify(Fp(s)),h=A.useRef(!1);return oT(()=>{h.current=!0}),A.useCallback((p,g={})=>{if(Qn(h.current,aT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=$p(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ni([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}A.createContext(null);function Su(r,{relative:e}={}){let{matches:n}=A.useContext(br),{pathname:s}=cs(),o=JSON.stringify(Fp(n));return A.useMemo(()=>$p(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pA(r,e){return lT(r,e)}function lT(r,e,n,s){at(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=A.useContext(Xn),{matches:u}=A.useContext(br),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let F=E&&E.path||"";uT(p,!E||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let w=cs(),S;if(e){let F=typeof e=="string"?xo(e):e;at(g==="/"||F.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),S=F}else S=w;let O=S.pathname||"/",V=O;if(g!=="/"){let F=g.replace(/^\//,"").split("/");V="/"+O.replace(/^\//,"").split("/").slice(F.length).join("/")}let H=tT(r,{pathname:V});Qn(E||H!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Qn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=EA(H&&H.map(F=>Object.assign({},F,{params:Object.assign({},m,F.params),pathname:ni([g,o.encodeLocation?o.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:ni([g,o.encodeLocation?o.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,s);return e&&U?A.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},U):U}function gA(){let r=AA(),e=uA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:u},"ErrorBoundary")," or"," ",A.createElement("code",{style:u},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:o},n):null,h)}var yA=A.createElement(gA,null),vA=class extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?A.createElement(br.Provider,{value:this.props.routeContext},A.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _A({routeContext:r,match:e,children:n}){let s=A.useContext(No);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(br.Provider,{value:r},n)}function EA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,S=!1,O=null,V=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||yA,h&&(m<0&&E===0?(uT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,V=null):m===E&&(S=!0,V=g.route.hydrateFallbackElement||null)));let H=e.concat(o.slice(0,E+1)),U=()=>{let F;return w?F=O:S?F=V:g.route.Component?F=A.createElement(g.route.Component,null):g.route.element?F=g.route.element:F=p,A.createElement(_A,{match:g,routeContext:{outlet:p,matches:H,isDataRoute:n!=null},children:F})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?A.createElement(vA,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:U(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):U()},null)}function Yp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(r){let e=A.useContext(No);return at(e,Yp(r)),e}function bA(r){let e=A.useContext(eh);return at(e,Yp(r)),e}function wA(r){let e=A.useContext(br);return at(e,Yp(r)),e}function Kp(r){let e=wA(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function SA(){return Kp("useRouteId")}function AA(){let r=A.useContext(Gp),e=bA("useRouteError"),n=Kp("useRouteError");return r!==void 0?r:e.errors?.[n]}function RA(){let{router:r}=TA("useNavigate"),e=Kp("useNavigate"),n=A.useRef(!1);return oT(()=>{n.current=!0}),A.useCallback(async(o,u={})=>{Qn(n.current,aT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var o0={};function uT(r,e,n){!e&&!o0[r]&&(o0[r]=!0,Qn(!1,n))}A.memo(CA);function CA({routes:r,future:e,state:n}){return lT(r,void 0,n,e)}function IA({to:r,replace:e,state:n,relative:s}){at(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=A.useContext(Xn);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=A.useContext(br),{pathname:h}=cs(),m=wu(),p=$p(r,Fp(u),h,s==="path"),g=JSON.stringify(p);return A.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Ws(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=A.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=xo(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:S="default"}=n,O=A.useMemo(()=>{let V=si(p,h);return V==null?null:{location:{pathname:V,search:g,hash:E,state:w,key:S},navigationType:s}},[h,p,g,E,w,S,s]);return Qn(O!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:A.createElement(Xn.Provider,{value:m},A.createElement(bu.Provider,{children:e,value:O}))}function NA({children:r,location:e}){return pA(sp(r),e)}function sp(r,e=[]){let n=[];return A.Children.forEach(r,(s,o)=>{if(!A.isValidElement(s))return;let u=[...e,o];if(s.type===A.Fragment){n.push.apply(n,sp(s.props.children,u));return}at(s.type===Ws,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=sp(s.props.children,u)),n.push(h)}),n}var Tf="get",bf="application/x-www-form-urlencoded";function th(r){return r!=null&&typeof r.tagName=="string"}function OA(r){return th(r)&&r.tagName.toLowerCase()==="button"}function DA(r){return th(r)&&r.tagName.toLowerCase()==="form"}function MA(r){return th(r)&&r.tagName.toLowerCase()==="input"}function kA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function PA(r,e){return r.button===0&&(!e||e==="_self")&&!kA(r)}var ff=null;function VA(){if(ff===null)try{new FormData(document.createElement("form"),0),ff=!1}catch{ff=!0}return ff}var LA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(r){return r!=null&&!LA.has(r)?(Qn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bf}"`),null):r}function UA(r,e){let n,s,o,u,h;if(DA(r)){let m=r.getAttribute("action");s=m?si(m,e):null,n=r.getAttribute("method")||Tf,o=Lm(r.getAttribute("enctype"))||bf,u=new FormData(r)}else if(OA(r)||MA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?si(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Tf,o=Lm(r.getAttribute("formenctype"))||Lm(m.getAttribute("enctype"))||bf,u=new FormData(m,r),!VA()){let{name:g,type:E,value:w}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,w)}}else{if(th(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Tf,s=null,o=bf,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zA(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&si(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function HA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await jA(u,n);return h.links?h.links():[]}return[]}));return GA(s.flat(1).filter(BA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function l0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function qA(r,e,{includeHydrateFallback:n}={}){return FA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function FA(r){return[...new Set(r)]}function $A(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function GA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify($A(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function cT(){let r=A.useContext(No);return Qp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function YA(){let r=A.useContext(eh);return Qp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Xp=A.createContext(void 0);Xp.displayName="FrameworkContext";function fT(){let r=A.useContext(Xp);return Qp(r,"You must render this element inside a <HydratedRouter> element"),r}function KA(r,e){let n=A.useContext(Xp),[s,o]=A.useState(!1),[u,h]=A.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,S=A.useRef(null);A.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let H=F=>{F.forEach(Q=>{h(Q.isIntersecting)})},U=new IntersectionObserver(H,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[r]),A.useEffect(()=>{if(s){let H=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(H)}}},[s]);let O=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Ql(m,O),onBlur:Ql(p,V),onMouseEnter:Ql(g,O),onMouseLeave:Ql(E,V),onTouchStart:Ql(w,O)}]:[!1,S,{}]}function Ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function QA({page:r,...e}){let{router:n}=cT(),s=A.useMemo(()=>tT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?A.createElement(WA,{page:r,matches:s,...e}):null}function XA(r){let{manifest:e,routeModules:n}=fT(),[s,o]=A.useState([]);return A.useEffect(()=>{let u=!1;return HA(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function WA({page:r,matches:e,...n}){let s=cs(),{manifest:o,routeModules:u}=fT(),{basename:h}=cT(),{loaderData:m,matches:p}=YA(),g=A.useMemo(()=>l0(r,e,p,o,s,"data"),[r,e,p,o,s]),E=A.useMemo(()=>l0(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=A.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,H=!1;if(e.forEach(F=>{let Q=o.routes[F.route.id];!Q||!Q.hasLoader||(!g.some(Y=>Y.route.id===F.route.id)&&F.route.id in m&&u[F.route.id]?.shouldRevalidate||Q.hasClientLoader?H=!0:V.add(F.route.id))}),V.size===0)return[];let U=zA(r,h,"data");return H&&V.size>0&&U.searchParams.set("_routes",e.filter(F=>V.has(F.route.id)).map(F=>F.route.id).join(",")),[U.pathname+U.search]},[h,m,s,o,g,e,r,u]),S=A.useMemo(()=>qA(E,o),[E,o]),O=XA(E);return A.createElement(A.Fragment,null,w.map(V=>A.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),S.map(V=>A.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),O.map(({key:V,link:H})=>A.createElement("link",{key:V,...H})))}function ZA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var hT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hT&&(window.__reactRouterVersion="7.7.0")}catch{}function JA({basename:r,children:e,window:n}){let s=A.useRef();s.current==null&&(s.current=jS({window:n,v5Compat:!0}));let o=s.current,[u,h]=A.useState({action:o.action,location:o.location}),m=A.useCallback(p=>{A.startTransition(()=>h(p))},[h]);return A.useLayoutEffect(()=>o.listen(m),[o,m]),A.createElement(xA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wr=A.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...S},O){let{basename:V}=A.useContext(Xn),H=typeof g=="string"&&dT.test(g),U,F=!1;if(typeof g=="string"&&H&&(U=g,hT))try{let C=new URL(window.location.href),D=g.startsWith("//")?new URL(C.protocol+g):new URL(g),k=si(D.pathname,V);D.origin===C.origin&&k!=null?g=k+D.search+D.hash:F=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=dA(g,{relative:o}),[Y,ie,se]=KA(s,S),fe=r2(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function x(C){e&&e(C),C.defaultPrevented||fe(C)}let R=A.createElement("a",{...S,...se,href:U||Q,onClick:F||u?e:x,ref:ZA(O,ie),target:p,"data-discover":!H&&n==="render"?"true":void 0});return Y&&!H?A.createElement(A.Fragment,null,R,A.createElement(QA,{page:Q})):R});Wr.displayName="Link";var e2=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let w=Su(h,{relative:g.relative}),S=cs(),O=A.useContext(eh),{navigator:V,basename:H}=A.useContext(Xn),U=O!=null&&l2(w)&&m===!0,F=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,Q=S.pathname,Y=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),Y=Y?Y.toLowerCase():null,F=F.toLowerCase()),Y&&H&&(Y=si(Y,H)||Y);const ie=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let se=Q===F||!o&&Q.startsWith(F)&&Q.charAt(ie)==="/",fe=Y!=null&&(Y===F||!o&&Y.startsWith(F)&&Y.charAt(F.length)==="/"),x={isActive:se,isPending:fe,isTransitioning:U},R=se?e:void 0,C;typeof s=="function"?C=s(x):C=[s,se?"active":null,fe?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(x):u;return A.createElement(Wr,{...g,"aria-current":R,className:C,ref:E,style:D,to:h,viewTransition:m},typeof p=="function"?p(x):p)});e2.displayName="NavLink";var t2=A.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=Tf,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...S},O)=>{let V=a2(),H=o2(m,{relative:g}),U=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&dT.test(m),Q=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ie=Y.nativeEvent.submitter,se=ie?.getAttribute("formmethod")||h;V(ie||Y.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return A.createElement("form",{ref:O,method:U,action:H,onSubmit:s?p:Q,...S,"data-discover":!F&&r==="render"?"true":void 0})});t2.displayName="Form";function n2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mT(r){let e=A.useContext(No);return at(e,n2(r)),e}function r2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=wu(),p=cs(),g=Su(r,{relative:u});return A.useCallback(E=>{if(PA(E,e)){E.preventDefault();let w=n!==void 0?n:hu(p)===hu(g);m(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var i2=0,s2=()=>`__${String(++i2)}__`;function a2(){let{router:r}=mT("useSubmit"),{basename:e}=A.useContext(Xn),n=SA();return A.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=UA(s,e);if(o.navigate===!1){let E=o.fetcherKey||s2();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function o2(r,{relative:e}={}){let{basename:n}=A.useContext(Xn),s=A.useContext(br);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(r||".",{relative:e})},h=cs();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ni([n,u.pathname])),hu(u)}function l2(r,e={}){let n=A.useContext(sT);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=mT("useViewTransitionState"),o=Su(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=si(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=si(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Df(o.pathname,h)!=null||Df(o.pathname,u)!=null}var u2=eT();const c2="/assets/meditation-BCBT-9OA.png",f2="/assets/audio1-JK-Byi6I.mp3";var pT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},u0=ce.createContext&&ce.createContext(pT),h2=["attr","size","title"];function d2(r,e){if(r==null)return{};var n=m2(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function m2(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Mf(){return Mf=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Mf.apply(this,arguments)}function c0(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),n.push.apply(n,s)}return n}function kf(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c0(Object(n),!0).forEach(function(s){p2(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):c0(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function p2(r,e,n){return e=g2(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function g2(r){var e=y2(r,"string");return typeof e=="symbol"?e:e+""}function y2(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function gT(r){return r&&r.map((e,n)=>ce.createElement(e.tag,kf({key:n},e.attr),gT(e.child)))}function Do(r){return e=>ce.createElement(v2,Mf({attr:kf({},r.attr)},e),gT(r.child))}function v2(r){var e=n=>{var{attr:s,size:o,title:u}=r,h=d2(r,h2),m=o||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),ce.createElement("svg",Mf({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,h,{className:p,style:kf(kf({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ce.createElement("title",null,u),r.children)};return u0!==void 0?ce.createElement(u0.Consumer,null,n=>e(n)):e(pT)}function _2(r){return Do({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(r)}function E2(r){return Do({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(r)}function f0(r){return Do({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M546.2 9.7c-5.6-12.5-21.6-13-28.3-1.2C486.9 62.4 431.4 96 368 96h-80C182 96 96 182 96 288c0 7 .8 13.7 1.5 20.5C161.3 262.8 253.4 224 384 224c8.8 0 16 7.2 16 16s-7.2 16-16 16C132.6 256 26 410.1 2.4 468c-6.6 16.3 1.2 34.9 17.5 41.6 16.4 6.8 35-1.1 41.8-17.3 1.5-3.6 20.9-47.9 71.9-90.6 32.4 43.9 94 85.8 174.9 77.2C465.5 467.5 576 326.7 576 154.3c0-50.2-10.8-102.2-29.8-144.6z"},child:[]}]})(r)}function T2(r){return Do({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M470.38 1.51L150.41 96A32 32 0 0 0 128 126.51v261.41A139 139 0 0 0 96 384c-53 0-96 28.66-96 64s43 64 96 64 96-28.66 96-64V214.32l256-75v184.61a138.4 138.4 0 0 0-32-3.93c-53 0-96 28.66-96 64s43 64 96 64 96-28.65 96-64V32a32 32 0 0 0-41.62-30.49z"},child:[]}]})(r)}function b2(r){return Do({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M568.25 192c-29.04.13-135.01 6.16-213.84 83-33.12 29.63-53.36 63.3-66.41 94.86-13.05-31.56-33.29-65.23-66.41-94.86-78.83-76.84-184.8-82.87-213.84-83-4.41-.02-7.79 3.4-7.75 7.82.23 27.92 7.14 126.14 88.77 199.3C172.79 480.94 256 480 288 480s115.19.95 199.23-80.88c81.64-73.17 88.54-171.38 88.77-199.3.04-4.42-3.34-7.84-7.75-7.82zM287.98 302.6c12.82-18.85 27.6-35.78 44.09-50.52 19.09-18.61 39.58-33.3 60.26-45.18-16.44-70.5-51.72-133.05-96.73-172.22-4.11-3.58-11.02-3.58-15.14 0-44.99 39.14-80.27 101.63-96.74 172.07 20.37 11.7 40.5 26.14 59.22 44.39a282.768 282.768 0 0 1 45.04 51.46z"},child:[]}]})(r)}function w2(){return G.jsxs("div",{className:"bg-gradient-to-b from-blue-100 to-white min-h-screen flex flex-col items-center justify-center px-6 py-12",children:[G.jsxs("div",{className:"flex flex-col items-center",children:[G.jsx("img",{src:c2,alt:"Meditation",className:"w-64 h-auto object-contain"}),G.jsx("div",{className:"mt-4",children:G.jsx("audio",{src:f2,controls:!0,controlsList:"nodownload noplaybackrate"})})]}),G.jsx("h1",{className:"mt-8 text-3xl sm:text-4xl font-bold text-center text-gray-800",children:"Your personal space for stress relief and mental wellbeing"}),G.jsx("p",{className:"mt-3 text-lg text-center text-gray-600",children:"Start your journey to a calmer mind."}),G.jsxs("div",{className:"mt-6 flex gap-4",children:[G.jsx(Wr,{to:"/survey",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-500 transition",children:"Get Started"}),G.jsx(Wr,{to:"/login",className:"px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition",children:"Login"})]}),G.jsxs("div",{className:"mt-10 grid grid-cols-2 sm:grid-cols-4 gap-6",children:[G.jsxs("div",{className:"flex flex-col items-center bg-white p-4 rounded-xl shadow hover:shadow-md transition",children:[G.jsx(b2,{className:"text-3xl text-blue-500 mb-2"}),G.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Guided Meditations"})]}),G.jsxs("div",{className:"flex flex-col items-center bg-white p-4 rounded-xl shadow hover:shadow-md transition",children:[G.jsx(E2,{className:"text-3xl text-blue-500 mb-2"}),G.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Mood Tracking"})]}),G.jsxs("div",{className:"flex flex-col items-center bg-white p-4 rounded-xl shadow hover:shadow-md transition",children:[G.jsx(T2,{className:"text-3xl text-blue-500 mb-2"}),G.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Calming Music"})]}),G.jsxs("div",{className:"flex flex-col items-center bg-white p-4 rounded-xl shadow hover:shadow-md transition",children:[G.jsx(_2,{className:"text-3xl text-blue-500 mb-2"}),G.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Wellbeing Tips"})]})]})]})}const S2=()=>{};var h0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},A2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(S=64)),s.push(n[E],n[w],n[S],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):A2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new R2;const S=u<<2|m>>4;if(s.push(S),g!==64){const O=m<<4&240|g>>2;if(s.push(O),w!==64){const V=g<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class R2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(r){const e=yT(r);return vT.encodeByteArray(e,!0)},Pf=function(r){return C2(r).replace(/\./g,"")},_T=function(r){try{return vT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=()=>I2().__FIREBASE_DEFAULTS__,N2=()=>{if(typeof process>"u"||typeof h0>"u")return;const r=h0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},O2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&_T(r[1]);return e&&JSON.parse(e)},nh=()=>{try{return S2()||x2()||N2()||O2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ET=r=>nh()?.emulatorHosts?.[r],D2=r=>{const e=ET(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},TT=()=>nh()?.config,bT=r=>nh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Pf(JSON.stringify(n)),Pf(JSON.stringify(h)),""].join(".")}const iu={};function P2(){const r={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?r.emulator.push(e):r.prod.push(e);return r}function V2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let d0=!1;function ST(r,e){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||iu[r]===e||iu[r]||d0)return;iu[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=P2().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{d0=!0,h()},S}function E(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=V2(s),O=n("text"),V=document.getElementById(O)||document.createElement("span"),H=n("learnmore"),U=document.getElementById(H)||document.createElement("a"),F=n("preprendIcon"),Q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;m(Y),E(U,H);const ie=g();p(Q,F),Y.append(Q,V,U,ie),document.body.appendChild(Y)}u?(V.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function U2(){const r=nh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function B2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H2(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function q2(){return!U2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function F2(){try{return typeof indexedDB=="object"}catch{return!1}}function $2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="FirebaseError";class fi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=G2,Object.setPrototypeOf(this,fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Au.prototype.create)}}class Au{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Y2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new fi(o,m,s)}}function Y2(r,e){return r.replace(K2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const K2=/\{\$([^}]+)}/g;function Q2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function oa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(m0(u)&&m0(h)){if(!oa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function m0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Wl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function X2(r,e){const n=new W2(r,e);return n.subscribe.bind(n)}class W2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Z2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Um),o.error===void 0&&(o.error=Um),o.complete===void 0&&(o.complete=Um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(r){return r&&r._delegate?r._delegate:r}class la{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new M2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eR(r){return r===Zs?void 0:r}function tR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const rR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},iR=Me.INFO,sR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},aR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=sR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wp{constructor(e){this.name=e,this._logLevel=iR,this._logHandler=aR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const oR=(r,e)=>e.some(n=>r instanceof n);let p0,g0;function lR(){return p0||(p0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uR(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AT=new WeakMap,ap=new WeakMap,RT=new WeakMap,zm=new WeakMap,Zp=new WeakMap;function cR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Wi(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&AT.set(n,r)}).catch(()=>{}),Zp.set(e,r),e}function fR(r){if(ap.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});ap.set(r,e)}let op={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ap.get(r);if(e==="objectStoreNames")return r.objectStoreNames||RT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function hR(r){op=r(op)}function dR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(jm(this),e,...n);return RT.set(s,e.sort?e.sort():[e]),Wi(s)}:uR().includes(r)?function(...e){return r.apply(jm(this),e),Wi(AT.get(this))}:function(...e){return Wi(r.apply(jm(this),e))}}function mR(r){return typeof r=="function"?dR(r):(r instanceof IDBTransaction&&fR(r),oR(r,lR())?new Proxy(r,op):r)}function Wi(r){if(r instanceof IDBRequest)return cR(r);if(zm.has(r))return zm.get(r);const e=mR(r);return e!==r&&(zm.set(r,e),Zp.set(e,r)),e}const jm=r=>Zp.get(r);function pR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=Wi(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Wi(h.result),p.oldVersion,p.newVersion,Wi(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const gR=["get","getKey","getAll","getAllKeys","count"],yR=["put","add","delete","clear"],Bm=new Map;function y0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bm.get(e))return Bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=yR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||gR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Bm.set(e,u),u}hR(r=>({...r,get:(e,n,s)=>y0(e,n)||r.get(e,n,s),has:(e,n)=>!!y0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_R(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function _R(r){return r.getComponent()?.type==="VERSION"}const lp="@firebase/app",v0="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new Wp("@firebase/app"),ER="@firebase/app-compat",TR="@firebase/analytics-compat",bR="@firebase/analytics",wR="@firebase/app-check-compat",SR="@firebase/app-check",AR="@firebase/auth",RR="@firebase/auth-compat",CR="@firebase/database",IR="@firebase/data-connect",xR="@firebase/database-compat",NR="@firebase/functions",OR="@firebase/functions-compat",DR="@firebase/installations",MR="@firebase/installations-compat",kR="@firebase/messaging",PR="@firebase/messaging-compat",VR="@firebase/performance",LR="@firebase/performance-compat",UR="@firebase/remote-config",zR="@firebase/remote-config-compat",jR="@firebase/storage",BR="@firebase/storage-compat",HR="@firebase/firestore",qR="@firebase/ai",FR="@firebase/firestore-compat",$R="firebase",GR="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",YR={[lp]:"fire-core",[ER]:"fire-core-compat",[bR]:"fire-analytics",[TR]:"fire-analytics-compat",[SR]:"fire-app-check",[wR]:"fire-app-check-compat",[AR]:"fire-auth",[RR]:"fire-auth-compat",[CR]:"fire-rtdb",[IR]:"fire-data-connect",[xR]:"fire-rtdb-compat",[NR]:"fire-fn",[OR]:"fire-fn-compat",[DR]:"fire-iid",[MR]:"fire-iid-compat",[kR]:"fire-fcm",[PR]:"fire-fcm-compat",[VR]:"fire-perf",[LR]:"fire-perf-compat",[UR]:"fire-rc",[zR]:"fire-rc-compat",[jR]:"fire-gcs",[BR]:"fire-gcs-compat",[HR]:"fire-fst",[FR]:"fire-fst-compat",[qR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=new Map,KR=new Map,cp=new Map;function _0(r,e){try{r.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function To(r){const e=r.name;if(cp.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,r);for(const n of Vf.values())_0(n,r);for(const n of KR.values())_0(n,r);return!0}function Jp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Au("app","Firebase",QR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=GR;function CT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:up,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Zi.create("bad-app-name",{appName:String(o)});if(n||(n=TT()),!n)throw Zi.create("no-options");const u=Vf.get(o);if(u){if(oa(n,u.options)&&oa(s,u.config))return u;throw Zi.create("duplicate-app",{appName:o})}const h=new nR(o);for(const p of cp.values())h.addComponent(p);const m=new XR(n,s,h);return Vf.set(o,m),m}function IT(r=up){const e=Vf.get(r);if(!e&&r===up&&TT())return CT();if(!e)throw Zi.create("no-app",{appName:r});return e}function Ji(r,e,n){let s=YR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(h.join(" "));return}To(new la(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebase-heartbeat-database",ZR=1,du="firebase-heartbeat-store";let Hm=null;function xT(){return Hm||(Hm=pR(WR,ZR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zi.create("idb-open",{originalErrorMessage:r.message})})),Hm}async function JR(r){try{const n=(await xT()).transaction(du),s=await n.objectStore(du).get(NT(r));return await n.done,s}catch(e){if(e instanceof fi)ai.warn(e.message);else{const n=Zi.create("idb-get",{originalErrorMessage:e?.message});ai.warn(n.message)}}}async function E0(r,e){try{const s=(await xT()).transaction(du,"readwrite");await s.objectStore(du).put(e,NT(r)),await s.done}catch(n){if(n instanceof fi)ai.warn(n.message);else{const s=Zi.create("idb-set",{originalErrorMessage:n?.message});ai.warn(s.message)}}}function NT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1024,tC=30;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=T0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>tC){const o=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ai.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=T0(),{heartbeatsToSend:n,unsentEntries:s}=rC(this._heartbeatsCache.heartbeats),o=Pf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ai.warn(e),""}}}function T0(){return new Date().toISOString().substring(0,10)}function rC(r,e=eC){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),b0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),b0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class iC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return F2()?$2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return E0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function b0(r){return Pf(JSON.stringify({version:2,heartbeats:r})).length}function sC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r){To(new la("platform-logger",e=>new vR(e),"PRIVATE")),To(new la("heartbeat",e=>new nC(e),"PRIVATE")),Ji(lp,v0,r),Ji(lp,v0,"esm2020"),Ji("fire-js","")}aC("");function OT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oC=OT,DT=new Au("auth","Firebase",OT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=new Wp("@firebase/auth");function lC(r,...e){Lf.logLevel<=Me.WARN&&Lf.warn(`Auth (${ko}): ${r}`,...e)}function wf(r,...e){Lf.logLevel<=Me.ERROR&&Lf.error(`Auth (${ko}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(r,...e){throw tg(r,...e)}function Kn(r,...e){return tg(r,...e)}function eg(r,e,n){const s={...oC(),[e]:n};return new Au("auth","Firebase",s).create(e,{appName:r.name})}function ri(r){return eg(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uC(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Un(r,"argument-error"),eg(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tg(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return DT.create(r,...e)}function Ee(r,e,...n){if(!r)throw tg(e,...n)}function ei(r){const e="INTERNAL ASSERTION FAILED: "+r;throw wf(e),new Error(e)}function oi(r,e){r||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){return typeof self<"u"&&self.location?.href||""}function cC(){return w0()==="http:"||w0()==="https:"}function w0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||j2()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,oi(n>e,"Short delay should be less than long delay!"),this.isMobile=L2()||B2()}get(){return fC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(r,e){oi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pC=new Cu(3e4,6e4);function fs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function hs(r,e,n,s,o={}){return kT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Ru({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return z2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Mo(r.emulatorConfig.host)&&(g.credentials="include"),MT.fetch()(await PT(r,r.config.apiHost,n,m),g)})}async function kT(r,e,n){r._canInitEmulator=!1;const s={...dC,...e};try{const o=new yC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw hf(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw hf(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw hf(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eg(r,E,g);Un(r,E)}}catch(o){if(o instanceof fi)throw o;Un(r,"network-request-failed",{message:String(o)})}}async function Iu(r,e,n,s,o={}){const u=await hs(r,e,n,s,o);return"mfaPendingCredential"in u&&Un(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function PT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?ng(r.config,o):`${r.config.apiScheme}://${o}`;return mC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function gC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Kn(this.auth,"network-request-failed")),pC.get())})}}function hf(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Kn(r,e,s);return o.customData._tokenResponse=n,o}function S0(r){return r!==void 0&&r.enterprise!==void 0}class vC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function _C(r,e){return hs(r,"GET","/v2/recaptchaConfig",fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,e){return hs(r,"POST","/v1/accounts:delete",e)}async function Uf(r,e){return hs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TC(r,e=!1){const n=wr(r),s=await n.getIdToken(e),o=rg(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:su(qm(o.auth_time)),issuedAtTime:su(qm(o.iat)),expirationTime:su(qm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function qm(r){return Number(r)*1e3}function rg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const o=_T(n);return o?JSON.parse(o):(wf("Failed to decode base64 JWT payload"),null)}catch(o){return wf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function A0(r){const e=rg(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fi&&bC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function bC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=su(this.lastLoginAt),this.creationTime=su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(r){const e=r.auth,n=await r.getIdToken(),s=await mu(r,Uf(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?VT(o.providerUserInfo):[],h=AC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function SC(r){const e=wr(r);await zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function VT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(r,e){const n=await kT(r,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await PT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Mo(r.emulatorConfig.host)&&(p.credentials="include"),MT.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CC(r,e){return hs(r,"POST","/v2/accounts:revokeToken",fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=A0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await RC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new ho;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Gn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new wC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new hp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TC(this,e)}reload(){return SC(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await zf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(ri(this.auth));const e=await this.getIdToken();return await mu(this,EC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:O,providerData:V,stsTokenManager:H}=n;Ee(w&&H,e,"internal-error");const U=ho.fromJSON(this.name,H);Ee(typeof w=="string",e,"internal-error"),Hi(s,e.name),Hi(o,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),Hi(u,e.name),Hi(h,e.name),Hi(m,e.name),Hi(p,e.name),Hi(g,e.name),Hi(E,e.name);const F=new Gn({uid:w,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:O,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:E});return V&&Array.isArray(V)&&(F.providerData=V.map(Q=>({...Q}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new Gn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await zf(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ho;m.updateFromIdToken(s);const p=new Gn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;function ti(r){oi(r instanceof Function,"Expected a class definition");let e=R0.get(r);return e?(oi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,R0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LT.type="NONE";const C0=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r,e,n){return`firebase:${r}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Sf(this.userKey,o.apiKey,u),this.fullPersistenceKey=Sf("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uf(this.auth,{idToken:e}).catch(()=>{});return n?Gn._fromGetAccountInfoResponse(this.auth,n,e):null}return Gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(ti(C0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ti(C0);const h=Sf(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let w;if(typeof E=="string"){const S=await Uf(e,{idToken:E}).catch(()=>{});if(!S)break;w=await Gn._fromGetAccountInfoResponse(e,S,E)}else w=Gn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(FT(e))return"Webos";if(zT(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(HT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function UT(r=en()){return/firefox\//i.test(r)}function zT(r=en()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(r=en()){return/crios\//i.test(r)}function BT(r=en()){return/iemobile/i.test(r)}function HT(r=en()){return/android/i.test(r)}function qT(r=en()){return/blackberry/i.test(r)}function FT(r=en()){return/webos/i.test(r)}function ig(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function IC(r=en()){return ig(r)&&!!window.navigator?.standalone}function xC(){return H2()&&document.documentMode===10}function $T(r=en()){return ig(r)||HT(r)||FT(r)||qT(r)||/windows phone/i.test(r)||BT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(r,e=[]){let n;switch(r){case"Browser":n=I0(en());break;case"Worker":n=`${I0(en())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(r,e={}){return hs(r,"GET","/v2/passwordPolicy",fs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=6;class MC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??DC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new NC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ti(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uf(this,{idToken:e}),s=await Gn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(bn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(ri(this));const n=e?wr(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ti(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OC(this),n=new MC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Au("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await CC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ti(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ds(r){return wr(r)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=X2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PC(r){rh=r}function YT(r){return rh.loadJS(r)}function VC(){return rh.recaptchaEnterpriseScript}function LC(){return rh.gapiScript}function UC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class zC{constructor(){this.enterprise=new jC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class jC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BC="recaptcha-enterprise",KT="NO_RECAPTCHA";class HC{constructor(e){this.type=BC,this.auth=ds(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{_C(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new vC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;S0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(KT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zC().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&S0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=VC();p.length!==0&&(p+=m),YT(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function N0(r,e,n,s=!1,o=!1){const u=new HC(r);let h;if(o)h=KT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function dp(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await N0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await N0(r,e,n,n==="getOobCode");return s(r,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(r,e){const n=Jp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(oa(u,e??{}))return o;Un(o,"already-initialized")}return n.initialize({options:e})}function FC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ti);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function $C(r,e,n){const s=ds(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=QT(e),{host:h,port:m}=GC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(oa(g,s.config.emulator)&&oa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Mo(h)?(wT(`${u}//${h}${p}`),ST("Auth",!0)):YC()}function QT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GC(r){const e=QT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:O0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:O0(h)}}}function O0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function YC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,n){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}async function KC(r,e){return hs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(r,e){return Iu(r,"POST","/v1/accounts:signInWithPassword",fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XC(r,e){return Iu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,e))}async function WC(r,e){return Iu(r,"POST","/v1/accounts:signInWithEmailLink",fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends sg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new pu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new pu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,n,"signInWithPassword",QC);case"emailLink":return XC(e,{email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,s,"signUpPassword",KC);case"emailLink":return WC(e,{idToken:n,email:this._email,oobCode:this._password});default:Un(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(r,e){return Iu(r,"POST","/v1/accounts:signInWithIdp",fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC="http://localhost";class ua extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Un("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ua(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:ZC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eI(r){const e=Xl(Wl(r)).link,n=e?Xl(Wl(e)).deep_link_id:null,s=Xl(Wl(r)).deep_link_id;return(s?Xl(Wl(s)).link:null)||s||n||e||r}class ag{constructor(e){const n=Xl(Wl(e)),s=n.apiKey??null,o=n.oobCode??null,u=JC(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=eI(e);try{return new ag(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return pu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ag.parseLink(n);return Ee(s,"argument-error"),pu._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends xu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends xu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends xu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $i.credential(n,s)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(r,e){return Iu(r,"POST","/v1/accounts:signUp",fs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Gn._fromIdTokenResponse(e,s,o),h=D0(s);return new ca({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=D0(s);return new ca({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function D0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf extends fi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new jf(e,n,s,o)}}function XT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(r,u,e,s):u})}async function nI(r,e,n=!1){const s=await mu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ca._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(r,e,n=!1){const{auth:s}=r;if(bn(s.app))return Promise.reject(ri(s));const o="reauthenticate";try{const u=await mu(r,XT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const h=rg(u.idToken);Ee(h,s,"internal-error");const{sub:m}=h;return Ee(r.uid===m,s,"user-mismatch"),ca._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Un(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(r,e,n=!1){if(bn(r.app))return Promise.reject(ri(r));const s="signIn",o=await XT(r,s,e),u=await ca._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function iI(r,e){return WT(ds(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(r){const e=ds(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sI(r,e,n){if(bn(r.app))return Promise.reject(ri(r));const s=ds(r),h=await dp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ZT(r),p}),m=await ca._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function aI(r,e,n){return bn(r.app)?Promise.reject(ri(r)):iI(wr(r),Po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ZT(r),s})}function oI(r,e,n,s){return wr(r).onIdTokenChanged(e,n,s)}function lI(r,e,n){return wr(r).beforeAuthStateChanged(e,n)}function uI(r,e,n,s){return wr(r).onAuthStateChanged(e,n,s)}function cI(r){return wr(r).signOut()}const Bf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bf,"1"),this.storage.removeItem(Bf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=1e3,hI=10;class e1 extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);xC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,hI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},fI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}e1.type="LOCAL";const dI=e1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1 extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}t1.type="SESSION";const n1=t1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ih(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await mI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=lg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function gI(r){yr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function yI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vI(){return navigator?.serviceWorker?.controller||null}function _I(){return r1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1="firebaseLocalStorageDb",EI=1,Hf="firebaseLocalStorage",s1="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(r,e){return r.transaction([Hf],e?"readwrite":"readonly").objectStore(Hf)}function TI(){const r=indexedDB.deleteDatabase(i1);return new Nu(r).toPromise()}function mp(){const r=indexedDB.open(i1,EI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Hf,{keyPath:s1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Hf)?e(s):(s.close(),await TI(),e(await mp()))})})}async function M0(r,e,n){const s=sh(r,!0).put({[s1]:e,value:n});return new Nu(s).toPromise()}async function bI(r,e){const n=sh(r,!1).get(e),s=await new Nu(n).toPromise();return s===void 0?null:s.value}function k0(r,e){const n=sh(r,!0).delete(e);return new Nu(n).toPromise()}const wI=800,SI=3;class a1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>SI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return r1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(_I()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yI(),!this.activeServiceWorker)return;this.sender=new pI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await M0(e,Bf,"1"),await k0(e,Bf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>M0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>bI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sh(o,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a1.type="LOCAL";const AI=a1;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(r,e){return e?ti(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function RI(r){return WT(r.auth,new ug(r),r.bypassAuthState)}function CI(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),rI(n,new ug(r),r.bypassAuthState)}async function II(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),nI(n,new ug(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RI;case"linkViaPopup":case"linkViaRedirect":return II;case"reauthViaPopup":case"reauthViaRedirect":return CI;default:Un(this.auth,"internal-error")}}resolve(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Cu(2e3,1e4);async function NI(r,e,n){if(bn(r.app))return Promise.reject(Kn(r,"operation-not-supported-in-this-environment"));const s=ds(r);uC(r,e,og);const o=o1(s,n);return new ta(s,"signInViaPopup",e,o).executeNotNull()}class ta extends l1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ta.currentPopupAction&&ta.currentPopupAction.cancel(),ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){oi(this.filter.length===1,"Popup operations only handle one event");const e=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xI.get())};e()}}ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="pendingRedirect",Af=new Map;class DI extends l1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Af.get(this.auth._key());if(!e){try{const s=await MI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Af.set(this.auth._key(),e)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function MI(r,e){const n=VI(e),s=PI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kI(r,e){Af.set(r._key(),e)}function PI(r){return ti(r._redirectPersistence)}function VI(r){return Sf(OI,r.config.apiKey,r.name)}async function LI(r,e,n=!1){if(bn(r.app))return Promise.reject(ri(r));const s=ds(r),o=o1(s,e),h=await new DI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=10*60*1e3;class zI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!u1(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Kn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UI&&this.cachedEventUids.clear(),this.cachedEventUids.has(P0(e))}saveEventToCache(e){this.cachedEventUids.add(P0(e)),this.lastProcessedEventTime=Date.now()}}function P0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function u1({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function jI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return u1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,e={}){return hs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qI=/^https?/;async function FI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await BI(r);for(const n of e)try{if($I(n))return}catch{}Un(r,"unauthorized-domain")}function $I(r){const e=fp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!qI.test(n))return!1;if(HI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=new Cu(3e4,6e4);function V0(){const r=yr().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function YI(r){return new Promise((e,n)=>{function s(){V0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{V0(),n(Kn(r,"network-request-failed"))},timeout:GI.get()})}if(yr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(yr().gapi?.load)s();else{const o=UC("iframefcb");return yr()[o]=()=>{gapi.load?s():n(Kn(r,"network-request-failed"))},YT(`${LC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Rf=null,e})}let Rf=null;function KI(r){return Rf=Rf||YI(r),Rf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Cu(5e3,15e3),XI="__/auth/iframe",WI="emulator/auth/iframe",ZI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ex(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ng(e,WI):`https://${r.config.authDomain}/${XI}`,s={apiKey:e.apiKey,appName:r.name,v:ko},o=JI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ru(s).slice(1)}`}async function tx(r){const e=await KI(r),n=yr().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:ex(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Kn(r,"network-request-failed"),m=yr().setTimeout(()=>{u(h)},QI.get());function p(){yr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rx=500,ix=600,sx="_blank",ax="http://localhost";class L0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ox(r,e,n,s=rx,o=ix){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...nx,width:s.toString(),height:o.toString(),top:u,left:h},g=en().toLowerCase();n&&(m=jT(g)?sx:n),UT(g)&&(e=e||ax,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[O,V])=>`${S}${O}=${V},`,"");if(IC(g)&&m!=="_self")return lx(e||"",m),new L0(null);const w=window.open(e||"",m,E);Ee(w,r,"popup-blocked");try{w.focus()}catch{}return new L0(w)}function lx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="__/auth/handler",cx="emulator/auth/handler",fx=encodeURIComponent("fac");async function U0(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ko,eventId:o};if(e instanceof og){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",Q2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(e instanceof xu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${fx}=${encodeURIComponent(p)}`:"";return`${hx(r)}?${Ru(m).slice(1)}${g}`}function hx({config:r}){return r.emulator?ng(r,cx):`https://${r.authDomain}/${ux}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="webStorageSupport";class dx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=n1,this._completeRedirectFn=LI,this._overrideRedirectResult=kI}async _openPopup(e,n,s,o){oi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await U0(e,n,s,fp(),o);return ox(e,u,lg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await U0(e,n,s,fp(),o);return gI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(oi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tx(e),s=new zI(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Fm,{type:Fm},o=>{const u=o?.[0]?.[Fm];u!==void 0&&n(!!u),Un(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $T()||zT()||ig()}}const mx=dx;var z0="@firebase/auth",j0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yx(r){To(new la("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(r)},g=new kC(s,o,u,p);return FC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),To(new la("auth-internal",e=>{const n=ds(e.getProvider("auth").getImmediate());return(s=>new px(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(z0,j0,gx(r)),Ji(z0,j0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=5*60,_x=bT("authIdTokenMaxAge")||vx;let B0=null;const Ex=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_x)return;const o=n?.token;B0!==o&&(B0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Tx(r=IT()){const e=Jp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=qC(r,{popupRedirectResolver:mx,persistence:[AI,dI,n1]}),s=bT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=Ex(u.toString());lI(n,h,()=>h(n.currentUser)),oI(n,m=>h(m))}}const o=ET("auth");return o&&$C(n,`http://${o}`),n}function bx(){return document.getElementsByTagName("head")?.[0]??document}PC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Kn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",bx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yx("Browser");var wx="firebase",Sx="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(wx,Sx,"app");var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,c1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function C(){}C.prototype=R.prototype,x.D=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.C=function(D,k,L){for(var I=Array(arguments.length-2),et=2;et<arguments.length;et++)I[et-2]=arguments[et];return R.prototype[k].apply(D,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);var D=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)D[k]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(k=0;16>k;++k)D[k]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],k=x.g[2];var L=x.g[3],I=R+(L^C&(k^L))+D[0]+3614090360&4294967295;R=C+(I<<7&4294967295|I>>>25),I=L+(k^R&(C^k))+D[1]+3905402710&4294967295,L=R+(I<<12&4294967295|I>>>20),I=k+(C^L&(R^C))+D[2]+606105819&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(R^k&(L^R))+D[3]+3250441966&4294967295,C=k+(I<<22&4294967295|I>>>10),I=R+(L^C&(k^L))+D[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(k^R&(C^k))+D[5]+1200080426&4294967295,L=R+(I<<12&4294967295|I>>>20),I=k+(C^L&(R^C))+D[6]+2821735955&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(R^k&(L^R))+D[7]+4249261313&4294967295,C=k+(I<<22&4294967295|I>>>10),I=R+(L^C&(k^L))+D[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(k^R&(C^k))+D[9]+2336552879&4294967295,L=R+(I<<12&4294967295|I>>>20),I=k+(C^L&(R^C))+D[10]+4294925233&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(R^k&(L^R))+D[11]+2304563134&4294967295,C=k+(I<<22&4294967295|I>>>10),I=R+(L^C&(k^L))+D[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(k^R&(C^k))+D[13]+4254626195&4294967295,L=R+(I<<12&4294967295|I>>>20),I=k+(C^L&(R^C))+D[14]+2792965006&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(R^k&(L^R))+D[15]+1236535329&4294967295,C=k+(I<<22&4294967295|I>>>10),I=R+(k^L&(C^k))+D[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(R^C))+D[6]+3225465664&4294967295,L=R+(I<<9&4294967295|I>>>23),I=k+(R^C&(L^R))+D[11]+643717713&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(k^L))+D[0]+3921069994&4294967295,C=k+(I<<20&4294967295|I>>>12),I=R+(k^L&(C^k))+D[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(R^C))+D[10]+38016083&4294967295,L=R+(I<<9&4294967295|I>>>23),I=k+(R^C&(L^R))+D[15]+3634488961&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(k^L))+D[4]+3889429448&4294967295,C=k+(I<<20&4294967295|I>>>12),I=R+(k^L&(C^k))+D[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(R^C))+D[14]+3275163606&4294967295,L=R+(I<<9&4294967295|I>>>23),I=k+(R^C&(L^R))+D[3]+4107603335&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(k^L))+D[8]+1163531501&4294967295,C=k+(I<<20&4294967295|I>>>12),I=R+(k^L&(C^k))+D[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(R^C))+D[2]+4243563512&4294967295,L=R+(I<<9&4294967295|I>>>23),I=k+(R^C&(L^R))+D[7]+1735328473&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(k^L))+D[12]+2368359562&4294967295,C=k+(I<<20&4294967295|I>>>12),I=R+(C^k^L)+D[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^k)+D[8]+2272392833&4294967295,L=R+(I<<11&4294967295|I>>>21),I=k+(L^R^C)+D[11]+1839030562&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^R)+D[14]+4259657740&4294967295,C=k+(I<<23&4294967295|I>>>9),I=R+(C^k^L)+D[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^k)+D[4]+1272893353&4294967295,L=R+(I<<11&4294967295|I>>>21),I=k+(L^R^C)+D[7]+4139469664&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^R)+D[10]+3200236656&4294967295,C=k+(I<<23&4294967295|I>>>9),I=R+(C^k^L)+D[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^k)+D[0]+3936430074&4294967295,L=R+(I<<11&4294967295|I>>>21),I=k+(L^R^C)+D[3]+3572445317&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^R)+D[6]+76029189&4294967295,C=k+(I<<23&4294967295|I>>>9),I=R+(C^k^L)+D[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^k)+D[12]+3873151461&4294967295,L=R+(I<<11&4294967295|I>>>21),I=k+(L^R^C)+D[15]+530742520&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^R)+D[2]+3299628645&4294967295,C=k+(I<<23&4294967295|I>>>9),I=R+(k^(C|~L))+D[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~k))+D[7]+1126891415&4294967295,L=R+(I<<10&4294967295|I>>>22),I=k+(R^(L|~C))+D[14]+2878612391&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~R))+D[5]+4237533241&4294967295,C=k+(I<<21&4294967295|I>>>11),I=R+(k^(C|~L))+D[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~k))+D[3]+2399980690&4294967295,L=R+(I<<10&4294967295|I>>>22),I=k+(R^(L|~C))+D[10]+4293915773&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~R))+D[1]+2240044497&4294967295,C=k+(I<<21&4294967295|I>>>11),I=R+(k^(C|~L))+D[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~k))+D[15]+4264355552&4294967295,L=R+(I<<10&4294967295|I>>>22),I=k+(R^(L|~C))+D[6]+2734768916&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~R))+D[13]+1309151649&4294967295,C=k+(I<<21&4294967295|I>>>11),I=R+(k^(C|~L))+D[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~k))+D[11]+3174756917&4294967295,L=R+(I<<10&4294967295|I>>>22),I=k+(R^(L|~C))+D[2]+718787259&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~R))+D[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+k&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var C=R-this.blockSize,D=this.B,k=this.h,L=0;L<R;){if(k==0)for(;L<=C;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(D[k++]=x.charCodeAt(L++),k==this.blockSize){o(this,D),k=0;break}}else for(;L<R;)if(D[k++]=x[L++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var C=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=C&255,C/=256;for(this.u(x),x=Array(16),R=C=0;4>R;++R)for(var D=0;32>D;D+=8)x[C++]=this.g[R]>>>D&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function h(x,R){this.h=R;for(var C=[],D=!0,k=x.length-1;0<=k;k--){var L=x[k]|0;D&&L==R||(C[k]=L,D=!1)}this.g=C}var m={};function p(x){return-128<=x&&128>x?u(x,function(R){return new h([R|0],0>R?-1:0)}):new h([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return U(g(-x));for(var R=[],C=1,D=0;x>=C;D++)R[D]=x/C|0,C*=4294967296;return new h(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return U(E(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),D=w,k=0;k<x.length;k+=8){var L=Math.min(8,x.length-k),I=parseInt(x.substring(k,k+L),R);8>L?(L=g(Math.pow(R,L)),D=D.j(L).add(g(I))):(D=D.j(C),D=D.add(g(I)))}return D}var w=p(0),S=p(1),O=p(16777216);r=h.prototype,r.m=function(){if(H(this))return-U(this).m();for(var x=0,R=1,C=0;C<this.g.length;C++){var D=this.i(C);x+=(0<=D?D:4294967296+D)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(V(this))return"0";if(H(this))return"-"+U(this).toString(x);for(var R=g(Math.pow(x,6)),C=this,D="";;){var k=ie(C,R).g;C=F(C,k.j(R));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(x);if(C=k,V(C))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function V(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function H(x){return x.h==-1}r.l=function(x){return x=F(this,x),H(x)?-1:V(x)?0:1};function U(x){for(var R=x.g.length,C=[],D=0;D<R;D++)C[D]=~x.g[D];return new h(C,~x.h).add(S)}r.abs=function(){return H(this)?U(this):this},r.add=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],D=0,k=0;k<=R;k++){var L=D+(this.i(k)&65535)+(x.i(k)&65535),I=(L>>>16)+(this.i(k)>>>16)+(x.i(k)>>>16);D=I>>>16,L&=65535,I&=65535,C[k]=I<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function F(x,R){return x.add(U(R))}r.j=function(x){if(V(this)||V(x))return w;if(H(this))return H(x)?U(this).j(U(x)):U(U(this).j(x));if(H(x))return U(this.j(U(x)));if(0>this.l(O)&&0>x.l(O))return g(this.m()*x.m());for(var R=this.g.length+x.g.length,C=[],D=0;D<2*R;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<x.g.length;k++){var L=this.i(D)>>>16,I=this.i(D)&65535,et=x.i(k)>>>16,He=x.i(k)&65535;C[2*D+2*k]+=I*He,Q(C,2*D+2*k),C[2*D+2*k+1]+=L*He,Q(C,2*D+2*k+1),C[2*D+2*k+1]+=I*et,Q(C,2*D+2*k+1),C[2*D+2*k+2]+=L*et,Q(C,2*D+2*k+2)}for(D=0;D<R;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=R;D<2*R;D++)C[D]=0;return new h(C,0)};function Q(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function Y(x,R){this.g=x,this.h=R}function ie(x,R){if(V(R))throw Error("division by zero");if(V(x))return new Y(w,w);if(H(x))return R=ie(U(x),R),new Y(U(R.g),U(R.h));if(H(R))return R=ie(x,U(R)),new Y(U(R.g),R.h);if(30<x.g.length){if(H(x)||H(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,D=R;0>=D.l(x);)C=se(C),D=se(D);var k=fe(C,1),L=fe(D,1);for(D=fe(D,2),C=fe(C,2);!V(D);){var I=L.add(D);0>=I.l(x)&&(k=k.add(C),L=I),D=fe(D,1),C=fe(C,1)}return R=F(x,k.j(R)),new Y(k,R)}for(k=w;0<=x.l(R);){for(C=Math.max(1,Math.floor(x.m()/R.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=g(C),I=L.j(R);H(I)||0<I.l(x);)C-=D,L=g(C),I=L.j(R);V(L)&&(L=S),k=k.add(L),x=F(x,I)}return new Y(k,x)}r.A=function(x){return ie(this,x).h},r.and=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)&x.i(D);return new h(C,this.h&x.h)},r.or=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)|x.i(D);return new h(C,this.h|x.h)},r.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)^x.i(D);return new h(C,this.h^x.h)};function se(x){for(var R=x.g.length+1,C=[],D=0;D<R;D++)C[D]=x.i(D)<<1|x.i(D-1)>>>31;return new h(C,x.h)}function fe(x,R){var C=R>>5;R%=32;for(var D=x.g.length-C,k=[],L=0;L<D;L++)k[L]=0<R?x.i(L+C)>>>R|x.i(L+C+1)<<32-R:x.i(L+C);return new h(k,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,c1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,es=h}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f1,Zl,h1,Cf,pp,d1,m1,p1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var j=c[b];if(!(j in v))break e;v=v[j]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,j={next:function(){if(!b&&v<c.length){var X=v++;return{value:y(X,c[X]),done:!1}}return b=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function w(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,b),c.apply(y,j)}}return function(){return c.apply(y,arguments)}}function S(c,y,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,S.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,j,X){for(var oe=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)oe[Pe-2]=arguments[Pe];return y.prototype[j].apply(b,oe)}}function H(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function U(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const j=c.length||0,X=b.length||0;c.length=j+X;for(let oe=0;oe<X;oe++)c[j+oe]=b[oe]}else c.push(b)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var se=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function fe(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function x(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)c[v]=b[v];for(let X=0;X<C.length;X++)v=C[X],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=xe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,v){const b=He.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var He=new F(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,he=!1,xe=new et,M=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){L(v)}var y=He;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}he=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Se(c,y){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{ie(y.nodeName);var j=!0;break e}catch{}j=!1}j||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}V(Se,J);var be={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),qe=0;function Gt(c,y,v,b,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=j,this.key=++qe,this.da=this.fa=!1}function di(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ar(c){this.src=c,this.g={},this.h=0}Ar.prototype.add=function(c,y,v,b,j){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var oe=ps(c,y,b,j);return-1<oe?(y=c[oe],v||(y.fa=!1)):(y=new Gt(y,this.src,X,!!b,j),y.fa=v,c.push(y)),y};function ms(c,y){var v=y.type;if(v in c.g){var b=c.g[v],j=Array.prototype.indexOf.call(b,y,void 0),X;(X=0<=j)&&Array.prototype.splice.call(b,j,1),X&&(di(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ps(c,y,v,b){for(var j=0;j<c.length;++j){var X=c[j];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==b)return j}return-1}var gs="closure_lm_"+(1e6*Math.random()|0),zo={};function ju(c,y,v,b,j){if(Array.isArray(y)){for(var X=0;X<y.length;X++)ju(c,y[X],v,b,j);return null}return v=Bu(v),c&&c[ct]?c.K(y,v,g(b)?!!b.capture:!1,j):wn(c,y,v,!1,b,j)}function wn(c,y,v,b,j,X){if(!y)throw Error("Invalid event type");var oe=g(j)?!!j.capture:!!j,Pe=ya(c);if(Pe||(c[gs]=Pe=new Ar(c)),v=Pe.add(y,v,b,oe,X),v.proxy)return v;if(b=Nh(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)pe||(j=oe),j===void 0&&(j=!1),c.addEventListener(y.toString(),b,j);else if(c.attachEvent)c.attachEvent(ys(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nh(){function c(v){return y.call(c.src,c.listener,v)}const y=Oh;return c}function jo(c,y,v,b,j){if(Array.isArray(y))for(var X=0;X<y.length;X++)jo(c,y[X],v,b,j);else b=g(b)?!!b.capture:!!b,v=Bu(v),c&&c[ct]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],v=ps(X,v,b,j),-1<v&&(di(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=ya(c))&&(y=c.g[y.toString()],c=-1,y&&(c=ps(y,v,b,j)),(v=-1<c?y[c]:null)&&ga(v))}function ga(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])ms(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(ys(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=ya(y))?(ms(v,c),v.h==0&&(v.src=null,y[gs]=null)):di(c)}}}function ys(c){return c in zo?zo[c]:zo[c]="on"+c}function Oh(c,y){if(c.da)c=!0;else{y=new Se(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&ga(c),c=v.call(b,y)}return c}function ya(c){return c=c[gs],c instanceof Ar?c:null}var Bo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bu(c){return typeof c=="function"?c:(c[Bo]||(c[Bo]=function(y){return c.handleEvent(y)}),c[Bo])}function ft(){ue.call(this),this.i=new Ar(this),this.M=this,this.F=null}V(ft,ue),ft.prototype[ct]=!0,ft.prototype.removeEventListener=function(c,y,v,b){jo(this,c,y,v,b)};function Ye(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new J(y,c);else if(y instanceof J)y.target=y.target||c;else{var j=y;y=new J(b,c),D(y,j)}if(j=!0,v)for(var X=v.length-1;0<=X;X--){var oe=y.g=v[X];j=dn(oe,b,!0,y)&&j}if(oe=y.g=c,j=dn(oe,b,!0,y)&&j,j=dn(oe,b,!1,y)&&j,v)for(X=0;X<v.length;X++)oe=y.g=v[X],j=dn(oe,b,!1,y)&&j}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)di(v[b]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},ft.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function dn(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var j=!0,X=0;X<y.length;++X){var oe=y[X];if(oe&&!oe.da&&oe.capture==v){var Pe=oe.listener,Ct=oe.ha||oe.src;oe.fa&&ms(c.i,oe),j=Pe.call(Ct,b)!==!1&&j}}return j&&!b.defaultPrevented}function Yt(c,y,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Hu(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,Hu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Dh extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(c){ue.call(this),this.h=c,this.g={}}V(vs,ue);var _s=[];function Es(c){fe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ga(y)},c),c.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Es(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jn=m.JSON.stringify,va=m.JSON.parse,Ts=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ho(){}Ho.prototype.h=null;function qo(c){return c.h||(c.h=c.i())}function Fo(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Cr(){J.call(this,"d")}V(Cr,J);function $o(){J.call(this,"c")}V($o,J);var Wn={},Go=null;function mi(){return Go=Go||new ft}Wn.La="serverreachability";function _a(c){J.call(this,Wn.La,c)}V(_a,J);function pi(c){const y=mi();Ye(y,new _a(y))}Wn.STAT_EVENT="statevent";function qu(c,y){J.call(this,Wn.STAT_EVENT,c),this.stat=y}V(qu,J);function it(c){const y=mi();Ye(y,new qu(y,c))}Wn.Ma="timingevent";function Rt(c,y){J.call(this,Wn.Ma,c),this.size=y}V(Rt,J);function _t(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function Yo(c,y,v,b,j,X){c.info(function(){if(c.g)if(X)for(var oe="",Pe=X.split("&"),Ct=0;Ct<Pe.length;Ct++){var Ve=Pe[Ct].split("=");if(1<Ve.length){var kt=Ve[0];Ve=Ve[1];var It=kt.split("_");oe=2<=It.length&&It[1]=="type"?oe+(kt+"="+Ve+"&"):oe+(kt+"=redacted&")}}else oe=null;else oe=X;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+y+`
`+v+`
`+oe})}function Mh(c,y,v,b,j,X,oe){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+y+`
`+v+`
`+X+" "+oe})}function gi(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+bs(c,v)+(b?" "+b:"")})}function Fu(c,y){c.info(function(){return"TIMEOUT: "+y})}Sn.prototype.info=function(){};function bs(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var j=b[1];if(Array.isArray(j)&&!(1>j.length)){var X=j[0];if(X!="noop"&&X!="stop"&&X!="close")for(var oe=1;oe<j.length;oe++)j[oe]=""}}}}return jn(v)}catch{return y}}var yi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ir={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}V(Jn,Ho),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function tn(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Ko={},Ea={};function Bn(c,y,v){c.L=1,c.v=Cs(mn(y)),c.m=v,c.P=!0,xr(c,null)}function xr(c,y){c.F=Date.now(),ws(c),c.A=mn(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),el(v.i,"t",b),c.C=0,v=c.j.J,c.h=new mt,c.g=ac(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Dh(S(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(_s[0]=j.toString()),j=_s);for(var X=0;X<j.length;X++){var oe=ju(v,j[X],b||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),pi(),Yo(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const y=this.M;y&&In(c)==3?y.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const It=In(this.g);var y=this.g.Ba();const Lr=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Zu(this.g)))){this.J||It!=4||y==7||(y==8||0>=Lr?pi(3):pi(2)),vi(this);var v=this.g.Z();this.X=v;t:if($u(this)){var b=Zu(this.g);c="";var j=b.length,X=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),er(this);var oe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<j;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(X&&y==j-1)});b.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=v==200,Mh(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Pe,Ct=this.g;if((Pe=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Pe)){var Ve=Pe;break t}}Ve=null}if(v=Ve)gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,v);else{this.o=!1,this.s=3,it(12),zt(this),er(this);break e}}if(this.P){v=!0;let jt;for(;!this.J&&this.C<oe.length;)if(jt=Gu(this,oe),jt==Ea){It==4&&(this.s=4,it(14),v=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(jt==Ko){this.s=4,it(15),gi(this.i,this.l,oe,"[Invalid Chunk]"),v=!1;break}else gi(this.i,this.l,jt,null),Ss(this,jt);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||oe.length!=0||this.h.h||(this.s=1,it(16),v=!1),this.o=this.o&&v,!v)gi(this.i,this.l,oe,"[Invalid Chunked Response]"),zt(this),er(this);else if(0<oe.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ps(kt),kt.M=!0,it(11))}}else gi(this.i,this.l,oe,null),Ss(this,oe);It==4&&zt(this),this.o&&!this.J&&(It==4?rc(this.j,this):(this.o=!1,ws(this)))}else Uh(this.g),v==400&&0<oe.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),zt(this),er(this)}}}catch{}finally{}};function $u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Gu(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Ea:(v=Number(y.substring(v,b)),isNaN(v)?Ko:(b+=1,b+v>y.length?Ea:(y=y.slice(b,b+v),c.C=b+v,y)))}tn.prototype.cancel=function(){this.J=!0,zt(this)};function ws(c){c.S=Date.now()+c.I,Yu(c,c.I)}function Yu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(S(c.ba,c),y)}function vi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Fu(this.i,this.A),this.L!=2&&(pi(),it(17)),zt(this),this.s=2,er(this)):Yu(this,this.S-c)};function er(c){c.j.G==0||c.J||rc(c.j,c)}function zt(c){vi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Es(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ss(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Qo(v.h,c))){if(!c.K&&Qo(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Da(v),Na(v);else break e;sl(v),it(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=_t(S(v.Za,v),6e3));if(1>=ba(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Vr(v,11)}else if((c.K||v.g==c)&&Da(v),!Q(y))for(j=v.Da.g.parse(y),y=0;y<j.length;y++){let Ve=j[y];if(v.T=Ve[0],Ve=Ve[1],v.G==2)if(Ve[0]=="c"){v.K=Ve[1],v.ia=Ve[2];const kt=Ve[3];kt!=null&&(v.la=kt,v.j.info("VER="+v.la));const It=Ve[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const Lr=Ve[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(b=1.5*Lr,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const jt=c.g;if(jt){const or=jt.g?jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(or){var X=b.h;X.g||or.indexOf("spdy")==-1&&or.indexOf("quic")==-1&&or.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(wa(X,X.h),X.h=null))}if(b.D){const ol=jt.g?jt.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(b.ya=ol,Xe(b.I,b.D,ol))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var oe=c;if(b.qa=sc(b,b.J?b.ia:null,b.W),oe.K){nn(b.h,oe);var Pe=oe,Ct=b.L;Ct&&(Pe.I=Ct),Pe.B&&(vi(Pe),ws(Pe)),b.g=oe}else tc(b);0<v.i.length&&Oa(v)}else Ve[0]!="stop"&&Ve[0]!="close"||Vr(v,7);else v.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?Vr(v,7):rl(v):Ve[0]!="noop"&&v.l&&v.l.ta(Ve),v.v=0)}}pi(4)}catch{}}var Ku=class{constructor(c,y){this.g=c,this.map=y}};function Nr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ba(c){return c.h?1:c.g?c.g.size:0}function Qo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function wa(c,y){c.g?c.g.add(y):c.h=y}function nn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Nr.prototype.cancel=function(){if(this.i=Xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Xo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return H(c.i)}function kh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function Sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function Wo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Sa(c),b=kh(c),j=b.length,X=0;X<j;X++)y.call(void 0,b[X],v&&v[X],c)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ph(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),j=null;if(0<=b){var X=c[v].substring(0,b);j=c[v].substring(b+1)}else X=c[v];y(X,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Rs(this,c.j),this.o=c.o,this.g=c.g,_i(this,c.s),this.l=c.l;var y=c.i,v=new Dr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Or(this,v),this.m=c.m}else c&&(y=String(c).match(As))?(this.h=!1,Rs(this,y[1]||"",!0),this.o=An(y[2]||""),this.g=An(y[3]||"",!0),_i(this,y[4]),this.l=An(y[5]||"",!0),Or(this,y[6]||"",!0),this.m=An(y[7]||"")):(this.h=!1,this.i=new Dr(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Is(y,Zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,Zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Vh:Jo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Aa)),c.join("")};function mn(c){return new Et(c)}function Rs(c,y,v){c.j=v?An(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _i(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Or(c,y,v){y instanceof Dr?(c.i=y,Xu(c.i,c.h)):(v||(y=Is(y,Lh)),c.i=new Dr(y,c.h))}function Xe(c,y,v){c.i.set(y,v)}function Cs(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Qu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Zo=/[#\/\?@]/g,Jo=/[#\?:]/g,Vh=/[#\?]/g,Lh=/[#\?@]/g,Aa=/#/g;function Dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ph(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Dr.prototype,r.add=function(c,y){Rn(this),this.i=null,c=tr(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Mr(c,y){Rn(c),y=tr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function kr(c,y){return Rn(c),y=tr(c,y),c.g.has(y)}r.forEach=function(c,y){Rn(this),this.g.forEach(function(v,b){v.forEach(function(j){c.call(y,j,b,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const j=c[b];for(let X=0;X<j.length;X++)v.push(y[b])}return v},r.V=function(c){Rn(this);let y=[];if(typeof c=="string")kr(this,c)&&(y=y.concat(this.g.get(tr(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Rn(this),this.i=null,c=tr(this,c),kr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function el(c,y,v){Mr(c,y),0<v.length&&(c.i=null,c.g.set(tr(c,y),H(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const X=encodeURIComponent(String(b)),oe=this.V(b);for(b=0;b<oe.length;b++){var j=X;oe[b]!==""&&(j+="="+encodeURIComponent(String(oe[b]))),c.push(j)}}return this.i=c.join("&")};function tr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Xu(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(v,b){var j=b.toLowerCase();b!=j&&(Mr(this,b),el(this,j,v))},c)),c.j=y}function xs(c,y){const v=new Sn;if(m.Image){const b=new Image;b.onload=O(Cn,v,"TestLoadImage: loaded",!0,y,b),b.onerror=O(Cn,v,"TestLoadImage: error",!1,y,b),b.onabort=O(Cn,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(Cn,v,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Hn(c,y){const v=new Sn,b=new AbortController,j=setTimeout(()=>{b.abort(),Cn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(X=>{clearTimeout(j),X.ok?Cn(v,"TestPingServer: ok",!0,y):Cn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Cn(v,"TestPingServer: error",!1,y)})}function Cn(c,y,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function Ns(){this.g=new Ts}function nr(c,y,v){const b=v||"";try{Wo(c,function(j,X){let oe=j;g(j)&&(oe=jn(j)),y.push(b+X+"="+encodeURIComponent(oe))})}catch(j){throw y.push(b+"type="+encodeURIComponent("_badmap")),j}}function Ei(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Ei,Ho),Ei.prototype.g=function(){return new Pr(this.l,this.j)},Ei.prototype.i=function(c){return function(){return c}}({});function Pr(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Pr,ft),r=Pr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ir(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ir(this)),this.g&&(this.readyState=3,ir(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function tl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?rr(this):ir(this),this.readyState==3&&tl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,rr(this))},r.Qa=function(c){this.g&&(this.response=c,rr(this))},r.ga=function(){this.g&&rr(this)};function rr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ir(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ir(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nl(c){let y="";return fe(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function Mt(c,y,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=nl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xe(c,y,v))}function Ge(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Ge,ft);var Ra=/^https?$/i,Os=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?qo(this.o):qo(Zn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){Wu(this,X);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const X of b.keys())v.set(X,b.get(X));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Os,y,void 0))||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,oe]of v)this.g.setRequestHeader(X,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Wu(this,X)}};function Wu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ca(c),sr(c)}function Ca(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sr(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},r.bb=function(){Ia(this)};function Ia(c){if(c.h&&typeof h<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)Yt(c.Ea,0,c);else if(Ye(c,"readystatechange"),In(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var b;if(b=oe===0){var j=String(c.D).match(As)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),b=!Ra.test(j?j.toLowerCase():"")}v=b}if(v)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var X=2<In(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Ca(c)}}finally{sr(c)}}}}function sr(c,y){if(c.g){Ds(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{v.onreadystatechange=b}catch{}}}function Ds(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),va(y)}};function Zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uh(c){const y={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Q(c[b]))continue;var v=k(c[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[j]||[];y[j]=X,X.push(v)}x(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function xa(c){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(c&&c.concurrentRequestLimit),this.Da=new Ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xa.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,b){it(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=sc(this,null,this.W),Oa(this)};function rl(c){if(Ju(c),c.G==3){var y=c.U++,v=mn(c.I);if(Xe(v,"SID",c.K),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),ks(c,v),y=new tn(c,c.j,y),y.L=2,y.v=Cs(mn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=ac(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ws(y)}ic(c)}function Na(c){c.g&&(Ps(c),c.g.cancel(),c.g=null)}function Ju(c){Na(c),c.u&&(m.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Oa(c){if(!Ta(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||M(),he||(ae(),he=!0),xe.add(y,c),c.B=0}}function zh(c,y){return ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(S(c.Ga,c,y),al(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new tn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=R(X),D(X,this.S)):X=this.S),this.m!==null||this.O||(j.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ec(this,j,y),v=mn(this.I),Xe(v,"RID",c),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),ks(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(nl(X)))+"&"+y:this.m&&Mt(v,this.m,X)),wa(this.h,j),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",y),Xe(v,"SID","null"),j.T=!0,Bn(j,v,null)):Bn(j,v,y),this.G=2}}else this.G==3&&(c?il(this,c):this.i.length==0||Ta(this.h)||il(this))};function il(c,y){var v;y?v=y.l:v=c.U++;const b=mn(c.I);Xe(b,"SID",c.K),Xe(b,"RID",v),Xe(b,"AID",c.T),ks(c,b),c.m&&c.o&&Mt(b,c.m,c.o),v=new tn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ec(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wa(c.h,v),Bn(v,b,y)}function ks(c,y){c.H&&fe(c.H,function(v,b){Xe(y,b,v)}),c.l&&Wo({},function(v,b){Xe(y,b,v)})}function ec(c,y,v){v=Math.min(c.i.length,v);var b=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let X=-1;for(;;){const oe=["count="+v];X==-1?0<v?(X=j[0].g,oe.push("ofs="+X)):X=0:oe.push("ofs="+X);let Pe=!0;for(let Ct=0;Ct<v;Ct++){let Ve=j[Ct].g;const kt=j[Ct].map;if(Ve-=X,0>Ve)X=Math.max(0,j[Ct].g-100),Pe=!1;else try{nr(kt,oe,"req"+Ve+"_")}catch{b&&b(kt)}}if(Pe){b=oe.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,b}function tc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||M(),he||(ae(),he=!0),xe.add(y,c),c.v=0}}function sl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(S(c.Fa,c),al(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,nc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Na(this),nc(this))};function Ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function nc(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&Mt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Cs(mn(y)),v.m=null,v.P=!0,xr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Na(this),sl(this),it(19))};function Da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function rc(c,y){var v=null;if(c.g==y){Da(c),Ps(c),c.g=null;var b=2}else if(Qo(c.h,y))v=y.D,nn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var j=c.B;b=mi(),Ye(b,new Rt(b,v)),Oa(c)}else tc(c);else if(j=y.s,j==3||j==0&&0<y.X||!(b==1&&zh(c,y)||b==2&&sl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Vr(c,5);break;case 4:Vr(c,10);break;case 3:Vr(c,6);break;default:Vr(c,2)}}}function al(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Vr(c,y){if(c.j.info("Error code "+y),y==2){var v=S(c.fb,c),b=c.Xa;const j=!b;b=new Et(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Rs(b,"https"),Cs(b),j?xs(b.toString(),v):Hn(b.toString(),v)}else it(2);c.G=0,c.l&&c.l.sa(y),ic(c),Ju(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function ic(c){if(c.G=0,c.ka=[],c.l){const y=Xo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ka,y),U(c.ka,c.i),c.h.i.length=0,H(c.i),c.i.length=0),c.l.ra()}}function sc(c,y,v){var b=v instanceof Et?mn(v):new Et(v);if(b.g!="")y&&(b.g=y+"."+b.g),_i(b,b.s);else{var j=m.location;b=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;var X=new Et(null);b&&Rs(X,b),y&&(X.g=y),j&&_i(X,j),v&&(X.l=v),b=X}return v=c.D,y=c.ya,v&&y&&Xe(b,v,y),Xe(b,"VER",c.la),ks(c,b),b}function ac(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new Ei({eb:v})):new Ge(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function oc(){}r=oc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ma(){}Ma.prototype.g=function(c,y){return new rn(c,y)};function rn(c,y){ft.call(this),this.g=new xa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Q(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Q(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ar(this)}V(rn,ft),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){rl(this.g)},rn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jn(c),c=v);y.i.push(new Ku(y.Ya++,c)),y.G==3&&Oa(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,rl(this.g),delete this.g,rn.aa.N.call(this)};function lc(c){Cr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(lc,Cr);function uc(){$o.call(this),this.status=1}V(uc,$o);function ar(c){this.g=c}V(ar,oc),ar.prototype.ua=function(){Ye(this.g,"a")},ar.prototype.ta=function(c){Ye(this.g,new lc(c))},ar.prototype.sa=function(c){Ye(this.g,new uc)},ar.prototype.ra=function(){Ye(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,p1=function(){return new Ma},m1=function(){return mi()},d1=Wn,pp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yi.NO_ERROR=0,yi.TIMEOUT=8,yi.HTTP_ERROR=6,Cf=yi,Ir.COMPLETE="complete",h1=Ir,Fo.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Zl=Fo,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,f1=Ge}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});const q0="@firebase/firestore",F0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Wp("@firebase/firestore");function lo(){return fa.logLevel}function de(r,...e){if(fa.logLevel<=Me.DEBUG){const n=e.map(cg);fa.debug(`Firestore (${Vo}): ${r}`,...n)}}function li(r,...e){if(fa.logLevel<=Me.ERROR){const n=e.map(cg);fa.error(`Firestore (${Vo}): ${r}`,...n)}}function bo(r,...e){if(fa.logLevel<=Me.WARN){const n=e.map(cg);fa.warn(`Firestore (${Vo}): ${r}`,...n)}}function cg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,g1(r,s,n)}function g1(r,e,n){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw li(s),new Error(s)}function ut(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||g1(e,o,s)}function ze(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends fi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ax{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class Rx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Cx{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ut(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ia,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ia)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ut(typeof s.accessToken=="string",31837,{l:s}),new y1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class Ix{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ix(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ut(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new $0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ox(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function gp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return $m(o)===$m(u)?ke(o,u):$m(o)?1:-1}return ke(r.length,e.length)}const Dx=55296,Mx=57343;function $m(r){const e=r.charCodeAt(0);return e>=Dx&&e<=Mx}function wo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__name__";class mr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Re(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=mr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=mr.isNumericId(e),o=mr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?mr.extractNumericId(e).compare(mr.extractNumericId(n)):gp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return es.fromString(e.substring(4,e.length-2))}}class lt extends mr{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(le.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const kx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends mr{construct(e,n,s){return new an(e,n,s)}static isValidIdentifier(e){return kx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G0}static keyField(){return new an([G0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(lt.fromString(e))}static fromName(e){return new Te(lt.fromString(e).popFirst(5))}static empty(){return new Te(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new lt(e.slice()))}}function Px(r,e,n,s){if(e===!0&&s===!0)throw new ye(le.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Y0(r){if(Te.isDocumentKey(r))throw new ye(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Vx(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lx(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Re(12329,{type:typeof r})}function yp(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lx(r);throw new ye(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,e){const n={typeString:r};return e&&(n.value=e),n}function Ou(r,e){if(!Vx(r))throw new ye(le.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(le.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,Q0=1e6;class St{static now(){return St.fromMillis(Date.now())}static fromDate(e){return St.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Q0);return new St(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<K0)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:St._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,St._jsonSchema))return new St(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}St._jsonSchemaVersion="firestore/timestamp/1.0",St._jsonSchema={type:At("string",St._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new St(0,0))}static max(){return new Ae(new St(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function Ux(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new St(n+1,0):new St(n,s));return new is(o,Te.empty(),e)}function zx(r){return new is(r.readTime,r.key,gu)}class is{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new is(Ae.min(),Te.empty(),gu)}static max(){return new is(Ae.max(),Te.empty(),gu)}}function jx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(r){if(r.code!==le.FAILED_PRECONDITION||r.message!==Bx)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,s)=>{n(e)})}static reject(e){return new re((n,s)=>{s(e)})}static waitFor(e){return new re((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next(o=>o?re.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new re((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new re((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function qx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=-1;function lh(r){return r==null}function vp(r){return r===0&&1/r==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="";function $x(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=X0(e)),e=Gx(r.get(n),e);return X0(e)}function Gx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case _1:n+="";break;default:n+=u}}return n}function X0(r){return r+_1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Du(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Yx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new vt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z0(this.data.getIterator())}getIteratorFrom(e){return new Z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new Yi([])}unionWith(e){let n=new Dt(an.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Yi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new E1("Invalid base64 string: "+u):u}}(e);return new $t(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Kx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(ut(!!r,39018),typeof r=="string"){let e=0;const n=Kx.exec(r);if(ut(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="server_timestamp",b1="__type__",w1="__previous_value__",S1="__local_write_time__";function fg(r){return(r?.mapValue?.fields||{})[b1]?.stringValue===T1}function uh(r){const e=r.mapValue.fields[w1];return fg(e)?uh(e):e}function yu(r){const e=ss(r.mapValue.fields[S1].timestampValue);return new St(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const qf="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||qf}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===qf}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="__type__",Wx="__max__",pf={mapValue:{}},Zx="__vector__",_p="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fg(r)?4:e4(r)?9007199254740991:Jx(r)?10:11:Re(28295,{value:r})}function Er(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return yu(r).isEqual(yu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ss(o.timestampValue),m=ss(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=yt(o.doubleValue),m=yt(u.doubleValue);return h===m?vp(h)===vp(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return wo(r.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(W0(h)!==W0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Er(h[p],m[p])))return!1;return!0}(r,e);default:return Re(52216,{left:r})}}function _u(r,e){return(r.values||[]).find(n=>Er(n,e))!==void 0}function So(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=yt(u.integerValue||u.doubleValue),p=yt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return J0(r.timestampValue,e.timestampValue);case 4:return J0(yu(r),yu(e));case 5:return gp(r.stringValue,e.stringValue);case 6:return function(u,h){const m=as(u),p=as(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ke(m[g],p[g]);if(E!==0)return E}return ke(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(yt(u.latitude),yt(h.latitude));return m!==0?m:ke(yt(u.longitude),yt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return eE(r.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},p=h.fields||{},g=m[_p]?.arrayValue,E=p[_p]?.arrayValue,w=ke(g?.values?.length||0,E?.values?.length||0);return w!==0?w:eE(g,E)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===pf.mapValue&&h===pf.mapValue)return 0;if(u===pf.mapValue)return 1;if(h===pf.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const S=gp(p[w],E[w]);if(S!==0)return S;const O=So(m[p[w]],g[E[w]]);if(O!==0)return O}return ke(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Re(23264,{he:n})}}function J0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=ss(r),s=ss(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function eE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function Ao(r){return Ep(r)}function Ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return as(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Te.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Ep(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Ep(n.fields[h])}`;return o+"}"}(r.mapValue):Re(61005,{value:r})}function If(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uh(r);return e?16+If(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+If(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Du(s.fields,(u,h)=>{o+=u.length+If(h)}),o}(r.mapValue);default:throw Re(13486,{value:r})}}function Tp(r){return!!r&&"integerValue"in r}function hg(r){return!!r&&"arrayValue"in r}function tE(r){return!!r&&"nullValue"in r}function nE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gm(r){return!!r&&"mapValue"in r}function Jx(r){return(r?.mapValue?.fields||{})[Xx]?.stringValue===Zx}function au(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Du(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=au(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=au(r.arrayValue.values[n]);return e}return{...r}}function e4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Wx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(n)}setAll(e){let n=an.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=au(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Gm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Gm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Du(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pr(au(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ae.min(),Ae.min(),Ae.min(),pr.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ae.min(),Ae.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ae.min(),Ae.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.position=e,this.inclusive=n}}function rE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Er(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n="asc"){this.field=e,this.dir=n}}function t4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{}class Ot extends A1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new r4(e,n,s):n==="array-contains"?new a4(e,s):n==="in"?new o4(e,s):n==="not-in"?new l4(e,s):n==="array-contains-any"?new u4(e,s):new Ot(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new i4(e,s):new s4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Tr extends A1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Tr(e,n)}matches(e){return R1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function R1(r){return r.op==="and"}function C1(r){return n4(r)&&R1(r)}function n4(r){for(const e of r.filters)if(e instanceof Tr)return!1;return!0}function bp(r){if(r instanceof Ot)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(C1(r))return r.filters.map(e=>bp(e)).join(",");{const e=r.filters.map(n=>bp(n)).join(",");return`${r.op}(${e})`}}function I1(r,e){return r instanceof Ot?function(s,o){return o instanceof Ot&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)}(r,e):r instanceof Tr?function(s,o){return o instanceof Tr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&I1(h,o.filters[m]),!0):!1}(r,e):void Re(19439)}function x1(r){return r instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(r):r instanceof Tr?function(n){return n.op.toString()+" {"+n.getFilters().map(x1).join(" ,")+"}"}(r):"Filter"}class r4 extends Ot{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class i4 extends Ot{constructor(e,n){super(e,"in",n),this.keys=N1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class s4 extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=N1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function N1(r,e){return(e.arrayValue?.values||[]).map(n=>Te.fromName(n.referenceValue))}class a4 extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&_u(n.arrayValue,this.value)}}class o4 extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class l4 extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class u4 extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>_u(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function sE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new c4(r,e,n,s,o,u,h)}function dg(r){const e=ze(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>bp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ao(s)).join(",")),e.Te=n}return e.Te}function mg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!t4(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!I1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!iE(r.startAt,e.startAt)&&iE(r.endAt,e.endAt)}function wp(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function f4(r,e,n,s,o,u,h,m){return new ch(r,e,n,s,o,u,h,m)}function O1(r){return new ch(r)}function aE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function h4(r){return r.collectionGroup!==null}function ou(r){const e=ze(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Dt(an.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new $f(u,s))}),n.has(an.keyField().canonicalString())||e.Ie.push(new $f(an.keyField(),s))}return e.Ie}function vr(r){const e=ze(r);return e.Ee||(e.Ee=d4(e,ou(r))),e.Ee}function d4(r,e){if(r.limitType==="F")return sE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new $f(o.field,u)});const n=r.endAt?new Ff(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ff(r.startAt.position,r.startAt.inclusive):null;return sE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Sp(r,e,n){return new ch(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function fh(r,e){return mg(vr(r),vr(e))&&r.limitType===e.limitType}function D1(r){return`${dg(vr(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>x1(o)).join(", ")}]`),lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ao(o)).join(",")),`Target(${s})`}(vr(r))}; limitType=${r.limitType})`}function hh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of ou(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=rE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,ou(s),o)||s.endAt&&!function(h,m,p){const g=rE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,ou(s),o))}(r,e)}function m4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function M1(r){return(e,n)=>{let s=!1;for(const o of ou(r)){const u=p4(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function p4(r,e,n){const s=r.field.isKeyField()?Te.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):Re(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Re(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Du(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Yx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=new vt(Te.comparator);function ls(){return g4}const k1=new vt(Te.comparator);function Jl(...r){let e=k1;for(const n of r)e=e.insert(n.key,n);return e}function y4(r){let e=k1;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function na(){return lu()}function P1(){return lu()}function lu(){return new ma(r=>r.toString(),(r,e)=>r.isEqual(e))}const v4=new Dt(Te.comparator);function je(...r){let e=v4;for(const n of r)e=e.add(n);return e}const _4=new Dt(ke);function E4(){return _4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vp(e)?"-0":e}}function b4(r){return{integerValue:""+r}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(){this._=void 0}}function w4(r,e,n){return r instanceof Ap?function(o,u){const h={fields:{[b1]:{stringValue:T1},[S1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fg(u)&&(u=uh(u)),u&&(h.fields[w1]=u),{mapValue:h}}(n,e):r instanceof Gf?V1(r,e):r instanceof Yf?L1(r,e):function(o,u){const h=A4(o,u),m=oE(h)+oE(o.Ae);return Tp(h)&&Tp(o.Ae)?b4(m):T4(o.serializer,m)}(r,e)}function S4(r,e,n){return r instanceof Gf?V1(r,e):r instanceof Yf?L1(r,e):n}function A4(r,e){return r instanceof Rp?function(s){return Tp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ap extends dh{}class Gf extends dh{constructor(e){super(),this.elements=e}}function V1(r,e){const n=U1(e);for(const s of r.elements)n.some(o=>Er(o,s))||n.push(s);return{arrayValue:{values:n}}}class Yf extends dh{constructor(e){super(),this.elements=e}}function L1(r,e){let n=U1(e);for(const s of r.elements)n=n.filter(o=>!Er(o,s));return{arrayValue:{values:n}}}class Rp extends dh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oE(r){return yt(r.integerValue||r.doubleValue)}function U1(r){return hg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function R4(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Gf&&o instanceof Gf||s instanceof Yf&&o instanceof Yf?wo(s.elements,o.elements,Er):s instanceof Rp&&o instanceof Rp?Er(s.Ae,o.Ae):s instanceof Ap&&o instanceof Ap}(r.transform,e.transform)}class sa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sa}static exists(e){return new sa(void 0,e)}static updateTime(e){return new sa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class pg{}function z1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new I4(r.key,sa.none()):new gg(r.key,r.data,sa.none());{const n=r.data,s=pr.empty();let o=new Dt(an.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new mh(r.key,s,new Yi(o.toArray()),sa.none())}}function C4(r,e,n){r instanceof gg?function(o,u,h){const m=o.value.clone(),p=uE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof mh?function(o,u,h){if(!xf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=uE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(j1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function uu(r,e,n,s){return r instanceof gg?function(u,h,m,p){if(!xf(u.precondition,h))return m;const g=u.value.clone(),E=cE(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof mh?function(u,h,m,p){if(!xf(u.precondition,h))return m;const g=cE(u.fieldTransforms,p,h),E=h.data;return E.setAll(j1(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,h,m){return xf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function lE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,(u,h)=>R4(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gg extends pg{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class mh extends pg{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function j1(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function uE(r,e,n){const s=new Map;ut(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,S4(h,m,n[o]))}return s}function cE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,w4(u,h,e))}return s}class I4 extends pg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&C4(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=uu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=P1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=z1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,s)=>lE(n,s))&&wo(this.baseMutations,e.baseMutations,(n,s)=>lE(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Ue;function B1(r){if(r===void 0)return li("GRPC error has no .code"),le.UNKNOWN;switch(r){case wt.OK:return le.OK;case wt.CANCELLED:return le.CANCELLED;case wt.UNKNOWN:return le.UNKNOWN;case wt.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case wt.INTERNAL:return le.INTERNAL;case wt.UNAVAILABLE:return le.UNAVAILABLE;case wt.UNAUTHENTICATED:return le.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case wt.NOT_FOUND:return le.NOT_FOUND;case wt.ALREADY_EXISTS:return le.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return le.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case wt.ABORTED:return le.ABORTED;case wt.OUT_OF_RANGE:return le.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return le.UNIMPLEMENTED;case wt.DATA_LOSS:return le.DATA_LOSS;default:return Re(39323,{code:r})}}(Ue=wt||(wt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new es([4294967295,4294967295],0);function fE(r){const e=D4().encode(r),n=new c1;return n.update(e),new Uint8Array(n.digest())}function hE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new es([n,s],0),new es([o,u],0)]}class yg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=es.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(es.fromNumber(s)));return o.compare(M4)===1&&(o=new es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=fE(e),[s,o]=hE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new yg(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const n=fE(e),[s,o]=hE(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Mu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new ph(Ae.min(),o,new vt(ke),ls(),je())}}class Mu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Mu(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class H1{constructor(e,n){this.targetId=e,this.Ce=n}}class q1{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class dE{constructor(){this.ve=0,this.Fe=mE(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),n=je(),s=je();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Re(38017,{changeType:u})}}),new Mu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=mE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ut(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class k4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ls(),this.Je=gf(),this.He=gf(),this.Ye=new vt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(wp(u))if(s===0){const h=new Te(u.path);this.et(n,h,Zt.newNoDocument(h,Ae.min()))}else ut(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=as(s).toUint8Array()}catch(p){if(p instanceof E1)return bo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yg(h,o,u)}catch(p){return bo(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&wp(m.target)){const p=new Te(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}});let s=je();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new ph(e,n,this.Ye,this.je,s);return this.je=ls(),this.Je=gf(),this.He=gf(),this.Ye=new vt(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gf(){return new vt(Te.comparator)}function mE(){return new vt(Te.comparator)}const P4={asc:"ASCENDING",desc:"DESCENDING"},V4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},L4={and:"AND",or:"OR"};class U4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cp(r,e){return r.useProto3Json||lh(e)?e:{value:e}}function z4(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j4(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function go(r){return ut(!!r,49232),Ae.fromTimestamp(function(n){const s=ss(n);return new St(s.seconds,s.nanos)}(r))}function B4(r,e){return Ip(r,e).canonicalString()}function Ip(r,e){const n=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function F1(r){const e=lt.fromString(r);return ut(Q1(e),10190,{key:e.toString()}),e}function Ym(r,e){const n=F1(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Te(G1(n))}function $1(r,e){return B4(r.databaseId,e)}function H4(r){const e=F1(r);return e.length===4?lt.emptyPath():G1(e)}function pE(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function G1(r){return ut(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function q4(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(ut(E===void 0||typeof E=="string",58123),$t.fromBase64String(E||"")):(ut(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),$t.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?le.UNKNOWN:B1(g.code);return new ye(E,g.message||"")}(h);n=new q1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ym(r,s.document.name),u=go(s.document.updateTime),h=s.document.createTime?go(s.document.createTime):Ae.min(),m=new pr({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Nf(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ym(r,s.document),u=s.readTime?go(s.readTime):Ae.min(),h=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Nf([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ym(r,s.document),u=s.removedTargetIds||[];n=new Nf([],u,o,null)}else{if(!("filter"in e))return Re(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new O4(o,u),m=s.targetId;n=new H1(m,h)}}return n}function F4(r,e){return{documents:[$1(r,e.path)]}}function $4(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=$1(r,o);const u=function(g){if(g.length!==0)return K1(Tr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:co(S.field),direction:K4(S.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Cp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function G4(r){let e=H4(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ut(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const S=Y1(w);return S instanceof Tr&&C1(S)?S.getFilters():[S]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(S=>function(V){return new $f(fo(V.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(w){let S;return S=typeof w=="object"?w.value:w,lh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(w){const S=!!w.before,O=w.values||[];return new Ff(O,S)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const S=!w.before,O=w.values||[];return new Ff(O,S)}(n.endAt)),f4(e,o,h,u,m,"F",p,g)}function Y4(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y1(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fo(n.unaryFilter.field);return Ot.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(n.unaryFilter.field);return Ot.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(r):r.fieldFilter!==void 0?function(n){return Ot.create(fo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Tr.create(n.compositeFilter.filters.map(s=>Y1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(r):Re(30097,{filter:r})}function K4(r){return P4[r]}function Q4(r){return V4[r]}function X4(r){return L4[r]}function co(r){return{fieldPath:r.canonicalString()}}function fo(r){return an.fromServerFormat(r.fieldPath)}function K1(r){return r instanceof Ot?function(n){if(n.op==="=="){if(nE(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(tE(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nE(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(tE(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:Q4(n.op),value:n.value}}}(r):r instanceof Tr?function(n){const s=n.getFilters().map(o=>K1(o));return s.length===1?s[0]:{compositeFilter:{op:X4(n.op),filters:s}}}(r):Re(54877,{filter:r})}function Q1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,s,o,u=Ae.min(),h=Ae.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.yt=e}}function Z4(r){const e=G4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.Cn=new eN}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(is.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class eN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Dt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Dt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X1=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(X1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ro(0)}static cr(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="LruGarbageCollector",tN=1048576;function vE([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class nN{constructor(e){this.Ir=e,this.buffer=new Dt(vE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(yE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Lo(n)?de(yE,"Ignoring IndexedDB error during garbage collection: ",n):await ah(n)}await this.Vr(3e5)})}}class iN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return re.resolve(oh.ce);const s=new nN(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(gE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),lo()<=Me.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function sN(r,e){return new iN(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&uu(s.mutation,o,Yi.empty(),St.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,n,s=je()){const o=na();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Jl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,je()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=ls();const h=lu(),m=function(){return lu()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof mh)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),uu(E.mutation,g,E.mutation.getFieldMask(),St.now())):h.set(g.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>m.set(g,new oN(E,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=lu();let o=new vt((h,m)=>h-m),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Yi.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||je()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=P1();E.forEach(S=>{if(!u.has(S)){const O=z1(n.get(S),s.get(S));O!==null&&w.set(S,O),u=u.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return re.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):h4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):re.resolve(na());let m=gu,p=u;return h.next(g=>re.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,je())).next(E=>({batchId:m,changes:y4(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next(m=>re.forEach(m,p=>{const g=function(w,S){return new ch(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,S)=>{h=h.insert(w,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,Zt.newInvalidDocument(E)))});let m=Jl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&uu(E.mutation,g,Yi.empty(),St.now()),hh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:go(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:Z4(o.bundledQuery),readTime:go(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.overlays=new vt(Te.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return re.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,h=new Te(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new vt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=na(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return re.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new N4(n,s));let u=this.qr.get(n);u===void 0&&(u=je(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(){this.Qr=new Dt(Ut.$r),this.Ur=new Dt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new Te(new lt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new lt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=je();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dt(Ut.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new x4(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Fx:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Dt(ke);return n.forEach(o=>{const u=new Ut(o,0),h=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),re.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new Ut(new Te(u),0);let m=new Dt(ke);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),re.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ut(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return re.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.ri=e,this.docs=function(){return new vt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ls();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ls();const h=n.path,m=new Te(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||jx(zx(E),s)<=0||(o.has(E.key)||hh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Re(9500)}ii(e,n){return re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new mN(this)}getSize(e){return re.resolve(this.size)}}class mN extends aN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e){this.persistence=e,this.si=new ma(n=>dg(n),mg),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new vg,this.targetCount=0,this.ai=Ro.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new fN,this.referenceDelegate=e(this),this.Pi=new pN(this),this.indexManager=new J4,this.remoteDocumentCache=function(o){return new dN(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new W4(n),this.Ii=new uN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new hN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new gN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return re.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class gN extends Hx{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new vg,this.Vi=null}static mi(e){return new _g(e)}get fi(){if(this.Vi)return this.Vi;throw Re(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,s=>{const o=Te.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kf{constructor(e,n){this.persistence=e,this.pi=new ma(s=>$x(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=sN(this,n)}static mi(e,n){return new Kf(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return re.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?re.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=If(e.data.value)),n}br(e,n,s){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Eg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return q2()?8:qx(en())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new yN;return this.Ss(e,n,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(lo()<=Me.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(lo()<=Me.DEBUG&&de("QueryEngine","Query:",uo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(lo()<=Me.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):re.resolve())}ys(e,n){if(aE(n))return re.resolve(null);let s=vr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Sp(n,null,"F"),s=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=je(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(e,Sp(n,null,"F")):this.vs(e,g,n,p)}))})))}ws(e,n,s,o){return aE(n)||o.isEqual(Ae.min())?re.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?re.resolve(null):(lo()<=Me.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.vs(e,h,n,Ux(o,gu)).next(m=>m))})}Ds(e,n){let s=new Dt(M1(e));return n.forEach((o,u)=>{hh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return lo()<=Me.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",uo(n)),this.ps.getDocumentsMatchingQuery(e,n,is.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg="LocalStore",_N=3e8;class EN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new vt(ke),this.xs=new ma(u=>dg(u),mg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function TN(r,e,n,s){return new EN(r,e,n,s)}async function Z1(r,e){const n=ze(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=je();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function J1(r){const e=ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function bN(r,e){const n=ze(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,w)=>{const S=o.get(w);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,w)));let O=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken($t.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(w,O),function(H,U,F){return H.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=_N?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(S,O,E)&&m.push(n.Pi.updateTargetData(u,O))});let p=ls(),g=je();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(wN(u,h,e.documentUpdates).next(E=>{p=E.ks,g=E.qs})),!s.isEqual(Ae.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return re.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ms=o,u))}function wN(r,e,n){let s=je(),o=je();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=ls();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):de(Tg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function SN(r,e){const n=ze(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,re.resolve(o)):n.Pi.allocateTargetId(s).next(h=>(o=new Ki(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function xp(r,e,n){const s=ze(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Lo(h))throw h;de(Tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function _E(r,e,n){const s=ze(r);let o=Ae.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const w=ze(p),S=w.xs.get(E);return S!==void 0?re.resolve(w.Ms.get(S)):w.Pi.getTargetData(g,E)}(s,h,vr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,n?o:Ae.min(),n?u:je())).next(m=>(AN(s,m4(e),m),{documents:m,Qs:u})))}function AN(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class EE{constructor(){this.activeTargetIds=E4()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RN{constructor(){this.Mo=new EE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new EE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="ConnectivityMonitor";class bE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(TE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(TE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=null;function Np(){return yf===null?yf=function(){return 268435456+Math.round(2147483648*Math.random())}():yf++,"0x"+yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Km="RestConnection",IN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class xN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===qf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const h=Np(),m=this.zo(e,n.toUriEncodedString());de(Km,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Mo(g);return this.Jo(e,m,p,s,E).then(w=>(de(Km,`Received RPC '${e}' ${h}: `,w),w),w=>{throw bo(Km,`RPC '${e}' ${h} failed with error: `,w,"url: ",m,"request:",s),w})}Ho(e,n,s,o,u,h){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=IN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class ON extends xN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const h=Np();return new Promise((m,p)=>{const g=new f1;g.setWithCredentials(!0),g.listenOnce(h1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Cf.NO_ERROR:const w=g.getResponseJson();de(Xt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(w)),m(w);break;case Cf.TIMEOUT:de(Xt,`RPC '${e}' ${h} timed out`),p(new ye(le.DEADLINE_EXCEEDED,"Request time out"));break;case Cf.HTTP_ERROR:const S=g.getStatus();if(de(Xt,`RPC '${e}' ${h} failed with status:`,S,"response text:",g.getResponseText()),S>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const V=O?.error;if(V&&V.status&&V.message){const H=function(F){const Q=F.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(Q)>=0?Q:le.UNKNOWN}(V.status);p(new ye(H,V.message))}else p(new ye(le.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(le.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(Xt,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);de(Xt,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)})}T_(e,n,s){const o=Np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=p1(),m=m1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");de(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=h.createWebChannel(E,p);this.I_(w);let S=!1,O=!1;const V=new NN({Yo:U=>{O?de(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(de(Xt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),S=!0),de(Xt,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},Zo:()=>w.close()}),H=(U,F,Q)=>{U.listen(F,Y=>{try{Q(Y)}catch(ie){setTimeout(()=>{throw ie},0)}})};return H(w,Zl.EventType.OPEN,()=>{O||(de(Xt,`RPC '${e}' stream ${o} transport opened.`),V.o_())}),H(w,Zl.EventType.CLOSE,()=>{O||(O=!0,de(Xt,`RPC '${e}' stream ${o} transport closed`),V.a_(),this.E_(w))}),H(w,Zl.EventType.ERROR,U=>{O||(O=!0,bo(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),V.a_(new ye(le.UNAVAILABLE,"The operation could not be completed")))}),H(w,Zl.EventType.MESSAGE,U=>{if(!O){const F=U.data[0];ut(!!F,16349);const Q=F,Y=Q?.error||Q[0]?.error;if(Y){de(Xt,`RPC '${e}' stream ${o} received error:`,Y);const ie=Y.status;let se=function(R){const C=wt[R];if(C!==void 0)return B1(C)}(ie),fe=Y.message;se===void 0&&(se=le.INTERNAL,fe="Unknown error status: "+ie+" with message "+Y.message),O=!0,V.a_(new ye(se,fe)),w.close()}else de(Xt,`RPC '${e}' stream ${o} received:`,F),V.u_(F)}}),H(m,d1.STAT_EVENT,U=>{U.stat===pp.PROXY?de(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===pp.NOPROXY&&de(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.__()},0),V}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(r){return new U4(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="PersistentStream";class DN{constructor(e,n,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ye(le.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return de(wE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(de(wE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MN extends DN{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=q4(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?go(h.readTime):Ae.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=pE(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=wp(p)?{documents:F4(u,p)}:{query:$4(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=j4(u,h.resumeToken);const g=Cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ae.min())>0){m.readTime=z4(u,h.snapshotVersion.toTimestamp());const g=Cp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Y4(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=pE(this.serializer),n.removeTarget=e,this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{}class PN extends kN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Ip(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(le.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Ip(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(le.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class VN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(li(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Co="RemoteStore";class LN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{Pu(this)&&(de(Co,"Restarting streams for network reachability change."),await async function(p){const g=ze(p);g.Ea.add(4),await ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await gh(g)}(this))})}),this.Ra=new VN(s,o)}}async function gh(r){if(Pu(r))for(const e of r.da)await e(!0)}async function ku(r){for(const e of r.da)await e(!1)}function nb(r,e){const n=ze(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ag(n)?Sg(n):Uo(n).O_()&&wg(n,e))}function bg(r,e){const n=ze(r),s=Uo(n);n.Ia.delete(e),s.O_()&&rb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Pu(n)&&n.Ra.set("Unknown"))}function wg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(r).Y_(e)}function rb(r,e){r.Va.Ue(e),Uo(r).Z_(e)}function Sg(r){r.Va=new k4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Ra.ua()}function Ag(r){return Pu(r)&&!Uo(r).x_()&&r.Ia.size>0}function Pu(r){return ze(r).Ea.size===0}function ib(r){r.Va=void 0}async function UN(r){r.Ra.set("Online")}async function zN(r){r.Ia.forEach((e,n)=>{wg(r,e)})}async function jN(r,e){ib(r),Ag(r)?(r.Ra.ha(e),Sg(r)):r.Ra.set("Unknown")}async function BN(r,e,n){if(r.Ra.set("Online"),e instanceof q1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){de(Co,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await SE(r,s)}else if(e instanceof Nf?r.Va.Ze(e):e instanceof H1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await J1(r.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken($t.EMPTY_BYTE_STRING,E.snapshotVersion)),rb(u,p);const w=new Ki(E.target,p,g,E.sequenceNumber);wg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){de(Co,"Failed to raise snapshot:",s),await SE(r,s)}}async function SE(r,e,n){if(!Lo(e))throw e;r.Ea.add(1),await ku(r),r.Ra.set("Offline"),n||(n=()=>J1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(Co,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await gh(r)})}async function AE(r,e){const n=ze(r);n.asyncQueue.verifyOperationInProgress(),de(Co,"RemoteStore received new credentials");const s=Pu(n);n.Ea.add(3),await ku(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gh(n)}async function HN(r,e){const n=ze(r);e?(n.Ea.delete(2),await gh(n)):e||(n.Ea.add(2),await ku(n),n.Ra.set("Unknown"))}function Uo(r){return r.ma||(r.ma=function(n,s,o){const u=ze(n);return u.sa(),new MN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:UN.bind(null,r),t_:zN.bind(null,r),r_:jN.bind(null,r),H_:BN.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),Ag(r)?Sg(r):r.Ra.set("Unknown")):(await r.ma.stop(),ib(r))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Rg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sb(r,e){if(li("AsyncQueue",`${e}: ${r}`),Lo(r))return new ye(le.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new vt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.ga=new vt(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Re(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Io{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Io(e,n,yo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class FN{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=ze(n),u=o.queries;o.queries=CE(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new ye(le.ABORTED,"Firestore shutting down"))}}function CE(){return new ma(r=>D1(r),fh)}async function $N(r,e){const n=ze(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new qN,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=sb(h,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Cg(n)}async function GN(r,e){const n=ze(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function YN(r,e){const n=ze(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&Cg(n)}function KN(r,e,n){const s=ze(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Cg(r){r.Ca.forEach(e=>{e.next()})}var Op,IE;(IE=Op||(Op={})).Ma="default",IE.Cache="cache";class QN{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.key=e}}class ob{constructor(e){this.key=e}}class XN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=je(),this.mutatedKeys=je(),this.eu=M1(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new RE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const S=o.get(E),O=hh(this.query,w)?w:null,V=!!S&&this.mutatedKeys.has(S.key),H=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;S&&O?S.data.isEqual(O.data)?V!==H&&(s.track({type:3,doc:O}),U=!0):this.su(S,O)||(s.track({type:2,doc:O}),U=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!S&&O?(s.track({type:0,doc:O}),U=!0):S&&!O&&(s.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(O?(h=h.add(O),u=H?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((E,w)=>function(O,V){const H=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Rt:U})}};return H(O)-H(V)}(E.type,w.type)||this.eu(E.doc,w.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Io(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=je(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new ob(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new ab(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=je();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Io.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ig="SyncEngine";class WN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class ZN{constructor(e){this.key=e,this.hu=!1}}class JN{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ma(m=>D1(m),fh),this.Iu=new Map,this.Eu=new Set,this.du=new vt(Te.comparator),this.Au=new Map,this.Ru=new vg,this.Vu={},this.mu=new Map,this.fu=Ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function eO(r,e,n=!0){const s=hb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await lb(s,e,n,!0),o}async function tO(r,e){const n=hb(r);await lb(n,e,!0,!1)}async function lb(r,e,n,s){const o=await SN(r.localStore,vr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await nO(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&nb(r.remoteStore,o),m}async function nO(r,e,n,s,o){r.pu=(w,S,O)=>async function(H,U,F,Q){let Y=U.view.ru(F);Y.Cs&&(Y=await _E(H.localStore,U.query,!1).then(({documents:x})=>U.view.ru(x,Y)));const ie=Q&&Q.targetChanges.get(U.targetId),se=Q&&Q.targetMismatches.get(U.targetId)!=null,fe=U.view.applyChanges(Y,H.isPrimaryClient,ie,se);return NE(H,U.targetId,fe.au),fe.snapshot}(r,w,S,O);const u=await _E(r.localStore,e,!0),h=new XN(e,u.Qs),m=h.ru(u.documents),p=Mu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);NE(r,n,g.au);const E=new WN(e,n,h);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function rO(r,e,n){const s=ze(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!fh(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await xp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bg(s.remoteStore,o.targetId),Dp(s,o.targetId)}).catch(ah)):(Dp(s,o.targetId),await xp(s.localStore,o.targetId,!0))}async function iO(r,e){const n=ze(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bg(n.remoteStore,s.targetId))}async function ub(r,e){const n=ze(r);try{const s=await bN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Au.get(u);h&&(ut(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?ut(h.hu,14607):o.removedDocuments.size>0&&(ut(h.hu,42227),h.hu=!1))}),await fb(n,s,e)}catch(s){await ah(s)}}function xE(r,e,n){const s=ze(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=ze(h);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const S of w.Sa)S.va(m)&&(g=!0)}),g&&Cg(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sO(r,e,n){const s=ze(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new vt(Te.comparator);h=h.insert(u,Zt.newNoDocument(u,Ae.min()));const m=je().add(u),p=new ph(Ae.min(),new Map,new vt(ke),h,m);await ub(s,p),s.du=s.du.remove(u),s.Au.delete(e),xg(s)}else await xp(s.localStore,e,!1).then(()=>Dp(s,e,n)).catch(ah)}function Dp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||cb(r,s)})}function cb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(bg(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),xg(r))}function NE(r,e,n){for(const s of n)s instanceof ab?(r.Ru.addReference(s.key,e),aO(r,s)):s instanceof ob?(de(Ig,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||cb(r,s.key)):Re(19791,{wu:s})}function aO(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(de(Ig,"New document in limbo: "+n),r.Eu.add(s),xg(r))}function xg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Te(lt.fromString(e)),s=r.fu.next();r.Au.set(s,new ZN(n)),r.du=r.du.insert(n,s),nb(r.remoteStore,new Ki(vr(O1(n.path)),s,"TargetPurposeLimboResolution",oh.ce))}}async function fb(r,e,n){const s=ze(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{h.push(s.pu(p,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Eg.As(p.targetId,g);u.push(E)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(p,g){const E=ze(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>re.forEach(g,S=>re.forEach(S.Es,O=>E.persistence.referenceDelegate.addReference(w,S.targetId,O)).next(()=>re.forEach(S.ds,O=>E.persistence.referenceDelegate.removeReference(w,S.targetId,O)))))}catch(w){if(!Lo(w))throw w;de(Tg,"Failed to update sequence numbers: "+w)}for(const w of g){const S=w.targetId;if(!w.fromCache){const O=E.Ms.get(S),V=O.snapshotVersion,H=O.withLastLimboFreeSnapshotVersion(V);E.Ms=E.Ms.insert(S,H)}}}(s.localStore,u))}async function oO(r,e){const n=ze(r);if(!n.currentUser.isEqual(e)){de(Ig,"User change. New user:",e.toKey());const s=await Z1(n.localStore,e);n.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new ye(le.CANCELLED,h))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fb(n,s.Ls)}}function lO(r,e){const n=ze(r),s=n.Au.get(e);if(s&&s.hu)return je().add(s.key);{let o=je();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function hb(r){const e=ze(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ub.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sO.bind(null,e),e.Pu.H_=YN.bind(null,e.eventManager),e.Pu.yu=KN.bind(null,e.eventManager),e}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return TN(this.persistence,new vN,e.initialUser,this.serializer)}Cu(e){return new W1(_g.mi,this.serializer)}Du(e){return new RN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class uO extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ut(this.persistence.referenceDelegate instanceof Kf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new W1(s=>Kf.mi(s,n),this.serializer)}}class Mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=oO.bind(null,this.syncEngine),await HN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FN}()}createDatastore(e){const n=eb(e.databaseInfo.databaseId),s=function(u){return new ON(u)}(e.databaseInfo);return function(u,h,m,p){return new PN(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new LN(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>xE(this.syncEngine,n,0),function(){return bE.v()?new bE:new CN}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,E){const w=new JN(o,u,h,m,p,g);return E&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=ze(n);de(Co,"RemoteStore shutting down."),s.Ea.add(5),await ku(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class fO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=v1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{de(us,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(de(us,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=sb(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xm(r,e){r.asyncQueue.verifyOperationInProgress(),de(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Z1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function OE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await hO(r);de(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>AE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>AE(e.remoteStore,o)),r._onlineComponents=e}async function hO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(us,"Using user provided OfflineComponentProvider");try{await Xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===le.FAILED_PRECONDITION||o.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await Xm(r,new Qf)}}else de(us,"Using default OfflineComponentProvider"),await Xm(r,new uO(void 0));return r._offlineComponents}async function dO(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(us,"Using user provided OnlineComponentProvider"),await OE(r,r._uninitializedComponentsProvider._online)):(de(us,"Using default OnlineComponentProvider"),await OE(r,new Mp))),r._onlineComponents}async function mO(r){const e=await dO(r),n=e.eventManager;return n.onListen=eO.bind(null,e.syncEngine),n.onUnlisten=rO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=tO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iO.bind(null,e.syncEngine),n}function pO(r,e,n={}){const s=new ia;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new cO({next:S=>{E.Nu(),h.enqueueAndForget(()=>GN(u,w)),S.fromCache&&p.source==="server"?g.reject(new ye(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),w=new QN(m,E,{includeMetadataChanges:!0,qa:!0});return $N(u,w)}(await mO(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="firestore.googleapis.com",ME=!0;class kE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pb,this.ssl=ME}else this.host=e.host,this.ssl=e.ssl??ME;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=X1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tN)throw new ye(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Px("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mb(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ng{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Ax;switch(s.type){case"firstParty":return new xx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=DE.get(n);s&&(de("ComponentProvider","Removing Datastore"),DE.delete(n),s.terminate())}(this),Promise.resolve()}}function gO(r,e,n,s={}){r=yp(r,Ng);const o=Mo(e),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(wT(`https://${m}`),ST("Firestore",!0)),u.host!==pb&&u.host!==m&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!oa(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=k2(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ye(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(w)}r._authCredentials=new Rx(new y1(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new yh(this.firestore,e,this._query)}}class Ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}toJSON(){return{type:Ln._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Ou(n,Ln._jsonSchema))return new Ln(e,s||null,new Te(lt.fromString(n.referencePath)))}}Ln._jsonSchemaVersion="firestore/documentReference/1.0",Ln._jsonSchema={type:At("string",Ln._jsonSchemaVersion),referencePath:At("string")};class vo extends yh{constructor(e,n,s){super(e,n,O1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Te(e))}withConverter(e){return new vo(this.firestore,e,this._path)}}function yO(r,e,...n){if(r=wr(r),r instanceof Ng){const s=lt.fromString(e,...n);return Y0(s),new vo(r,null,s)}{if(!(r instanceof Ln||r instanceof vo))throw new ye(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return Y0(s),new vo(r.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="AsyncQueue";class VE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tb(this,"async_queue_retry"),this._c=()=>{const s=Qm();s&&de(PE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Qm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Qm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ia;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lo(e))throw e;de(PE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,li("INTERNAL UNHANDLED ERROR: ",LE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Rg.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Re(47125,{Pc:LE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function LE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class gb extends Ng{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new VE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new VE(e),this._firestoreClient=void 0,await e}}}function vO(r,e){const n=typeof r=="object"?r:IT(),s=typeof r=="string"?r:qf,o=Jp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=D2("firestore");u&&gO(o,...u)}return o}function _O(r){if(r._terminated)throw new ye(le.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EO(r),r._firestoreClient}function EO(r){const e=r._freezeSettings(),n=function(o,u,h,m){return new Qx(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,mb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new fO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gr($t.fromBase64String(e))}catch(n){throw new ye(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gr($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:gr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,gr._jsonSchema))return gr.fromBase64String(e.bytes)}}gr._jsonSchemaVersion="firestore/bytes/1.0",gr._jsonSchema={type:At("string",gr._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ts._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,ts._jsonSchema))return new ts(e.latitude,e.longitude)}}ts._jsonSchemaVersion="firestore/geoPoint/1.0",ts._jsonSchema={type:At("string",ts._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ns._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,ns._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ns(e.vectorValues);throw new ye(le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ns._jsonSchemaVersion="firestore/vectorValue/1.0",ns._jsonSchema={type:At("string",ns._jsonSchemaVersion),vectorValues:At("object")};const TO=new RegExp("[~\\*/\\[\\]]");function bO(r,e,n){if(e.search(TO)>=0)throw UE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r);try{return new yb(...e.split("."))._internalPath}catch{throw UE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r)}}function UE(r,e,n,s,o){let u=`Function ${e}() called with invalid data`;u+=". ";let h="";return new ye(le.INVALID_ARGUMENT,u+r+h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new wO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_b("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class wO extends vb{data(){return super.data()}}function _b(r,e){return typeof e=="string"?bO(r,e):e instanceof yb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AO{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Du(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[_p].arrayValue?.values?.map(s=>yt(s.doubleValue));return new ns(n)}convertGeoPoint(e){return new ts(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const n=ss(e);return new St(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);ut(Q1(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||li(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class vf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _o extends vb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Of(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_b("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=_o._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}_o._jsonSchemaVersion="firestore/documentSnapshot/1.0",_o._jsonSchema={type:At("string",_o._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class Of extends _o{data(e={}){return super.data(e)}}class Eo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new vf(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Of(this._firestore,this._userDataWriter,s.key,s,new vf(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Of(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Of(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vf(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:RO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Eo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=v1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:r})}}Eo._jsonSchemaVersion="firestore/querySnapshot/1.0",Eo._jsonSchema={type:At("string",Eo._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class CO extends AO{constructor(e){super(),this.firestore=e}convertBytes(e){return new gr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function IO(r){r=yp(r,yh);const e=yp(r.firestore,gb),n=_O(e),s=new CO(e);return SO(r._query),pO(n,r._query).then(o=>new Eo(e,s,r,o))}(function(e,n=!0){(function(o){Vo=o})(ko),To(new la("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new gb(new Cx(s.getProvider("auth-internal")),new Nx(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,E)}(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ji(q0,F0,e),Ji(q0,F0,"esm2020")})();const xO={apiKey:"AIzaSyAk_MAN3ufg8JznUwOmwJsbB2zr3WjlDiE",authDomain:"wellbeing2-7b84c.firebaseapp.com",projectId:"wellbeing2-7b84c",storageBucket:"wellbeing2-7b84c.firebasestorage.app",messagingSenderId:"412893807921",appId:"1:412893807921:web:2a0a4610effff1c6a15c10",measurementId:"G-ET9JD9EMTB"},Eb=CT(xO),Eu=Tx(Eb),NO=vO(Eb);function Tb(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=Tb(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function aa(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=Tb(r))&&(s&&(s+=" "),s+=e);return s}function OO(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r))}OO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Vu=r=>typeof r=="number"&&!isNaN(r),ha=r=>typeof r=="string",ui=r=>typeof r=="function",DO=r=>ha(r)||Vu(r),kp=r=>ha(r)||ui(r)?r:null,MO=(r,e)=>r===!1||Vu(r)&&r>0?r:e,Pp=r=>A.isValidElement(r)||ha(r)||ui(r)||Vu(r);function kO(r,e,n=300){let{scrollHeight:s,style:o}=r;requestAnimationFrame(()=>{o.minHeight="initial",o.height=s+"px",o.transition=`all ${n}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,n)})})}function PO({enter:r,exit:e,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}){return function({children:u,position:h,preventExitTransition:m,done:p,nodeRef:g,isIn:E,playToast:w}){let S=n?`${r}--${h}`:r,O=n?`${e}--${h}`:e,V=A.useRef(0);return A.useLayoutEffect(()=>{let H=g.current,U=S.split(" "),F=Q=>{Q.target===g.current&&(w(),H.removeEventListener("animationend",F),H.removeEventListener("animationcancel",F),V.current===0&&Q.type!=="animationcancel"&&H.classList.remove(...U))};H.classList.add(...U),H.addEventListener("animationend",F),H.addEventListener("animationcancel",F)},[]),A.useEffect(()=>{let H=g.current,U=()=>{H.removeEventListener("animationend",U),s?kO(H,p,o):p()};E||(m?U():(V.current=1,H.className+=` ${O}`,H.addEventListener("animationend",U)))},[E]),ce.createElement(ce.Fragment,null,u)}}function zE(r,e){return{content:bb(r.content,r.props),containerId:r.props.containerId,id:r.props.toastId,theme:r.props.theme,type:r.props.type,data:r.props.data||{},isLoading:r.props.isLoading,icon:r.props.icon,reason:r.removalReason,status:e}}function bb(r,e,n=!1){return A.isValidElement(r)&&!ha(r.type)?A.cloneElement(r,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):ui(r)?r({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):r}function VO({closeToast:r,theme:e,ariaLabel:n="close"}){return ce.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:s=>{s.stopPropagation(),r(!0)},"aria-label":n},ce.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ce.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function LO({delay:r,isRunning:e,closeToast:n,type:s="default",hide:o,className:u,controlledProgress:h,progress:m,rtl:p,isIn:g,theme:E}){let w=o||h&&m===0,S={animationDuration:`${r}ms`,animationPlayState:e?"running":"paused"};h&&(S.transform=`scaleX(${m})`);let O=aa("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${E}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":p}),V=ui(u)?u({rtl:p,type:s,defaultClassName:O}):aa(O,u),H={[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]:h&&m<1?null:()=>{g&&n()}};return ce.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":w},ce.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${E} Toastify__progress-bar--${s}`}),ce.createElement("div",{role:"progressbar","aria-hidden":w?"true":"false","aria-label":"notification timer",className:V,style:S,...H}))}var UO=1,wb=()=>`${UO++}`;function zO(r,e,n){let s=1,o=0,u=[],h=[],m=e,p=new Map,g=new Set,E=Q=>(g.add(Q),()=>g.delete(Q)),w=()=>{h=Array.from(p.values()),g.forEach(Q=>Q())},S=({containerId:Q,toastId:Y,updateId:ie})=>{let se=Q?Q!==r:r!==1,fe=p.has(Y)&&ie==null;return se||fe},O=(Q,Y)=>{p.forEach(ie=>{var se;(Y==null||Y===ie.props.toastId)&&((se=ie.toggle)==null||se.call(ie,Q))})},V=Q=>{var Y,ie;(ie=(Y=Q.props)==null?void 0:Y.onClose)==null||ie.call(Y,Q.removalReason),Q.isActive=!1},H=Q=>{if(Q==null)p.forEach(V);else{let Y=p.get(Q);Y&&V(Y)}w()},U=()=>{o-=u.length,u=[]},F=Q=>{var Y,ie;let{toastId:se,updateId:fe}=Q.props,x=fe==null;Q.staleId&&p.delete(Q.staleId),Q.isActive=!0,p.set(se,Q),w(),n(zE(Q,x?"added":"updated")),x&&((ie=(Y=Q.props).onOpen)==null||ie.call(Y))};return{id:r,props:m,observe:E,toggle:O,removeToast:H,toasts:p,clearQueue:U,buildToast:(Q,Y)=>{if(S(Y))return;let{toastId:ie,updateId:se,data:fe,staleId:x,delay:R}=Y,C=se==null;C&&o++;let D={...m,style:m.toastStyle,key:s++,...Object.fromEntries(Object.entries(Y).filter(([L,I])=>I!=null)),toastId:ie,updateId:se,data:fe,isIn:!1,className:kp(Y.className||m.toastClassName),progressClassName:kp(Y.progressClassName||m.progressClassName),autoClose:Y.isLoading?!1:MO(Y.autoClose,m.autoClose),closeToast(L){p.get(ie).removalReason=L,H(ie)},deleteToast(){let L=p.get(ie);if(L!=null){if(n(zE(L,"removed")),p.delete(ie),o--,o<0&&(o=0),u.length>0){F(u.shift());return}w()}}};D.closeButton=m.closeButton,Y.closeButton===!1||Pp(Y.closeButton)?D.closeButton=Y.closeButton:Y.closeButton===!0&&(D.closeButton=Pp(m.closeButton)?m.closeButton:!0);let k={content:Q,props:D,staleId:x};m.limit&&m.limit>0&&o>m.limit&&C?u.push(k):Vu(R)?setTimeout(()=>{F(k)},R):F(k)},setProps(Q){m=Q},setToggle:(Q,Y)=>{let ie=p.get(Q);ie&&(ie.toggle=Y)},isToastActive:Q=>{var Y;return(Y=p.get(Q))==null?void 0:Y.isActive},getSnapshot:()=>h}}var on=new Map,Tu=[],Vp=new Set,jO=r=>Vp.forEach(e=>e(r)),Sb=()=>on.size>0;function BO(){Tu.forEach(r=>Rb(r.content,r.options)),Tu=[]}var HO=(r,{containerId:e})=>{var n;return(n=on.get(e||1))==null?void 0:n.toasts.get(r)};function Ab(r,e){var n;if(e)return!!((n=on.get(e))!=null&&n.isToastActive(r));let s=!1;return on.forEach(o=>{o.isToastActive(r)&&(s=!0)}),s}function qO(r){if(!Sb()){Tu=Tu.filter(e=>r!=null&&e.options.toastId!==r);return}if(r==null||DO(r))on.forEach(e=>{e.removeToast(r)});else if(r&&("containerId"in r||"id"in r)){let e=on.get(r.containerId);e?e.removeToast(r.id):on.forEach(n=>{n.removeToast(r.id)})}}var FO=(r={})=>{on.forEach(e=>{e.props.limit&&(!r.containerId||e.id===r.containerId)&&e.clearQueue()})};function Rb(r,e){Pp(r)&&(Sb()||Tu.push({content:r,options:e}),on.forEach(n=>{n.buildToast(r,e)}))}function $O(r){var e;(e=on.get(r.containerId||1))==null||e.setToggle(r.id,r.fn)}function Cb(r,e){on.forEach(n=>{(e==null||!(e!=null&&e.containerId)||e?.containerId===n.id)&&n.toggle(r,e?.id)})}function GO(r){let e=r.containerId||1;return{subscribe(n){let s=zO(e,r,jO);on.set(e,s);let o=s.observe(n);return BO(),()=>{o(),on.delete(e)}},setProps(n){var s;(s=on.get(e))==null||s.setProps(n)},getSnapshot(){var n;return(n=on.get(e))==null?void 0:n.getSnapshot()}}}function YO(r){return Vp.add(r),()=>{Vp.delete(r)}}function KO(r){return r&&(ha(r.toastId)||Vu(r.toastId))?r.toastId:wb()}function Lu(r,e){return Rb(r,e),e.toastId}function vh(r,e){return{...e,type:e&&e.type||r,toastId:KO(e)}}function _h(r){return(e,n)=>Lu(e,vh(r,n))}function $e(r,e){return Lu(r,vh("default",e))}$e.loading=(r,e)=>Lu(r,vh("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function QO(r,{pending:e,error:n,success:s},o){let u;e&&(u=ha(e)?$e.loading(e,o):$e.loading(e.render,{...o,...e}));let h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},m=(g,E,w)=>{if(E==null){$e.dismiss(u);return}let S={type:g,...h,...o,data:w},O=ha(E)?{render:E}:E;return u?$e.update(u,{...S,...O}):$e(O.render,{...S,...O}),w},p=ui(r)?r():r;return p.then(g=>m("success",s,g)).catch(g=>m("error",n,g)),p}$e.promise=QO;$e.success=_h("success");$e.info=_h("info");$e.error=_h("error");$e.warning=_h("warning");$e.warn=$e.warning;$e.dark=(r,e)=>Lu(r,vh("default",{theme:"dark",...e}));function XO(r){qO(r)}$e.dismiss=XO;$e.clearWaitingQueue=FO;$e.isActive=Ab;$e.update=(r,e={})=>{let n=HO(r,e);if(n){let{props:s,content:o}=n,u={delay:100,...s,...e,toastId:e.toastId||r,updateId:wb()};u.toastId!==r&&(u.staleId=r);let h=u.render||o;delete u.render,Lu(h,u)}};$e.done=r=>{$e.update(r,{progress:1})};$e.onChange=YO;$e.play=r=>Cb(!0,r);$e.pause=r=>Cb(!1,r);function WO(r){var e;let{subscribe:n,getSnapshot:s,setProps:o}=A.useRef(GO(r)).current;o(r);let u=(e=A.useSyncExternalStore(n,s,s))==null?void 0:e.slice();function h(m){if(!u)return[];let p=new Map;return r.newestOnTop&&u.reverse(),u.forEach(g=>{let{position:E}=g.props;p.has(E)||p.set(E,[]),p.get(E).push(g)}),Array.from(p,g=>m(g[0],g[1]))}return{getToastToRender:h,isToastActive:Ab,count:u?.length}}function ZO(r){let[e,n]=A.useState(!1),[s,o]=A.useState(!1),u=A.useRef(null),h=A.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:m,pauseOnHover:p,closeToast:g,onClick:E,closeOnClick:w}=r;$O({id:r.toastId,containerId:r.containerId,fn:n}),A.useEffect(()=>{if(r.pauseOnFocusLoss)return S(),()=>{O()}},[r.pauseOnFocusLoss]);function S(){document.hasFocus()||F(),window.addEventListener("focus",U),window.addEventListener("blur",F)}function O(){window.removeEventListener("focus",U),window.removeEventListener("blur",F)}function V(x){if(r.draggable===!0||r.draggable===x.pointerType){Q();let R=u.current;h.canCloseOnClick=!0,h.canDrag=!0,R.style.transition="none",r.draggableDirection==="x"?(h.start=x.clientX,h.removalDistance=R.offsetWidth*(r.draggablePercent/100)):(h.start=x.clientY,h.removalDistance=R.offsetHeight*(r.draggablePercent===80?r.draggablePercent*1.5:r.draggablePercent)/100)}}function H(x){let{top:R,bottom:C,left:D,right:k}=u.current.getBoundingClientRect();x.nativeEvent.type!=="touchend"&&r.pauseOnHover&&x.clientX>=D&&x.clientX<=k&&x.clientY>=R&&x.clientY<=C?F():U()}function U(){n(!0)}function F(){n(!1)}function Q(){h.didMove=!1,document.addEventListener("pointermove",ie),document.addEventListener("pointerup",se)}function Y(){document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",se)}function ie(x){let R=u.current;if(h.canDrag&&R){h.didMove=!0,e&&F(),r.draggableDirection==="x"?h.delta=x.clientX-h.start:h.delta=x.clientY-h.start,h.start!==x.clientX&&(h.canCloseOnClick=!1);let C=r.draggableDirection==="x"?`${h.delta}px, var(--y)`:`0, calc(${h.delta}px + var(--y))`;R.style.transform=`translate3d(${C},0)`,R.style.opacity=`${1-Math.abs(h.delta/h.removalDistance)}`}}function se(){Y();let x=u.current;if(h.canDrag&&h.didMove&&x){if(h.canDrag=!1,Math.abs(h.delta)>h.removalDistance){o(!0),r.closeToast(!0),r.collapseAll();return}x.style.transition="transform 0.2s, opacity 0.2s",x.style.removeProperty("transform"),x.style.removeProperty("opacity")}}let fe={onPointerDown:V,onPointerUp:H};return m&&p&&(fe.onMouseEnter=F,r.stacked||(fe.onMouseLeave=U)),w&&(fe.onClick=x=>{E&&E(x),h.canCloseOnClick&&g(!0)}),{playToast:U,pauseToast:F,isRunning:e,preventExitTransition:s,toastRef:u,eventHandlers:fe}}var JO=typeof window<"u"?A.useLayoutEffect:A.useEffect,Eh=({theme:r,type:e,isLoading:n,...s})=>ce.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:r==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...s});function eD(r){return ce.createElement(Eh,{...r},ce.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function tD(r){return ce.createElement(Eh,{...r},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function nD(r){return ce.createElement(Eh,{...r},ce.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function rD(r){return ce.createElement(Eh,{...r},ce.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function iD(){return ce.createElement("div",{className:"Toastify__spinner"})}var Lp={info:tD,warning:eD,success:nD,error:rD,spinner:iD},sD=r=>r in Lp;function aD({theme:r,type:e,isLoading:n,icon:s}){let o=null,u={theme:r,type:e};return s===!1||(ui(s)?o=s({...u,isLoading:n}):A.isValidElement(s)?o=A.cloneElement(s,u):n?o=Lp.spinner():sD(e)&&(o=Lp[e](u))),o}var oD=r=>{let{isRunning:e,preventExitTransition:n,toastRef:s,eventHandlers:o,playToast:u}=ZO(r),{closeButton:h,children:m,autoClose:p,onClick:g,type:E,hideProgressBar:w,closeToast:S,transition:O,position:V,className:H,style:U,progressClassName:F,updateId:Q,role:Y,progress:ie,rtl:se,toastId:fe,deleteToast:x,isIn:R,isLoading:C,closeOnClick:D,theme:k,ariaLabel:L}=r,I=aa("Toastify__toast",`Toastify__toast-theme--${k}`,`Toastify__toast--${E}`,{"Toastify__toast--rtl":se},{"Toastify__toast--close-on-click":D}),et=ui(H)?H({rtl:se,position:V,type:E,defaultClassName:I}):aa(I,H),He=aD(r),W=!!ie||!p,ae={closeToast:S,type:E,theme:k},he=null;return h===!1||(ui(h)?he=h(ae):A.isValidElement(h)?he=A.cloneElement(h,ae):he=VO(ae)),ce.createElement(O,{isIn:R,done:x,position:V,preventExitTransition:n,nodeRef:s,playToast:u},ce.createElement("div",{id:fe,tabIndex:0,onClick:g,"data-in":R,className:et,...o,style:U,ref:s,...R&&{role:Y,"aria-label":L}},He!=null&&ce.createElement("div",{className:aa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!C})},He),bb(m,r,!e),he,!r.customProgressBar&&ce.createElement(LO,{...Q&&!W?{key:`p-${Q}`}:{},rtl:se,theme:k,delay:p,isRunning:e,isIn:R,closeToast:S,hide:w,type:E,className:F,controlledProgress:W,progress:ie||0})))},lD=(r,e=!1)=>({enter:`Toastify--animate Toastify__${r}-enter`,exit:`Toastify--animate Toastify__${r}-exit`,appendPosition:e}),uD=PO(lD("bounce",!0)),cD={position:"top-right",transition:uD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:r=>r.altKey&&r.code==="KeyT"};function fD(r){let e={...cD,...r},n=r.stacked,[s,o]=A.useState(!0),u=A.useRef(null),{getToastToRender:h,isToastActive:m,count:p}=WO(e),{className:g,style:E,rtl:w,containerId:S,hotKeys:O}=e;function V(U){let F=aa("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":w});return ui(g)?g({position:U,rtl:w,defaultClassName:F}):aa(F,kp(g))}function H(){n&&(o(!0),$e.play())}return JO(()=>{var U;if(n){let F=u.current.querySelectorAll('[data-in="true"]'),Q=12,Y=(U=e.position)==null?void 0:U.includes("top"),ie=0,se=0;Array.from(F).reverse().forEach((fe,x)=>{let R=fe;R.classList.add("Toastify__toast--stacked"),x>0&&(R.dataset.collapsed=`${s}`),R.dataset.pos||(R.dataset.pos=Y?"top":"bot");let C=ie*(s?.2:1)+(s?0:Q*x);R.style.setProperty("--y",`${Y?C:C*-1}px`),R.style.setProperty("--g",`${Q}`),R.style.setProperty("--s",`${1-(s?se:0)}`),ie+=R.offsetHeight,se+=.025})}},[s,p,n]),A.useEffect(()=>{function U(F){var Q;let Y=u.current;O(F)&&((Q=Y.querySelector('[tabIndex="0"]'))==null||Q.focus(),o(!1),$e.pause()),F.key==="Escape"&&(document.activeElement===Y||Y!=null&&Y.contains(document.activeElement))&&(o(!0),$e.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[O]),ce.createElement("section",{ref:u,className:"Toastify",id:S,onMouseEnter:()=>{n&&(o(!1),$e.pause())},onMouseLeave:H,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},h((U,F)=>{let Q=F.length?{...E}:{...E,pointerEvents:"none"};return ce.createElement("div",{tabIndex:-1,className:V(U),"data-stacked":n,style:Q,key:`c-${U}`},F.map(({content:Y,props:ie})=>ce.createElement(oD,{...ie,stacked:n,collapseAll:H,isIn:m(ie.toastId,ie.containerId),key:`t-${ie.key}`},Y)))}))}function hD(){const[r,e]=A.useState(""),[n,s]=A.useState(""),o=wu(),u=async h=>{h.preventDefault();try{const p=(await aI(Eu,r,n)).user;p&&(localStorage.setItem("email",p.email),localStorage.setItem("uid",p.uid),o("/userpage"))}catch(m){$e.error("unseccesfull"+m.message)}};return G.jsx(G.Fragment,{children:G.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[G.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:G.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900",children:"Log in to your account"})}),G.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[G.jsxs("form",{className:"space-y-6",children:[G.jsxs("div",{children:[G.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),G.jsx("div",{className:"mt-2",children:G.jsx("input",{value:r,onChange:h=>{e(h.target.value)},id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),G.jsxs("div",{children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900",children:"Password"}),G.jsx("div",{className:"text-sm",children:G.jsx("a",{href:"#",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"Forgot password?"})})]}),G.jsx("div",{className:"mt-2",children:G.jsx("input",{value:n,onChange:h=>{s(h.target.value)},id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),G.jsx("div",{children:G.jsx("button",{onClick:u,className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Log in"})})]}),G.jsxs("p",{className:"mt-10 text-center text-sm/6 text-gray-500",children:["Not a member?"," ",G.jsx("a",{href:"/signup",className:"font-semibold text-indigo-600 hover:text-indigo-500",children:"SIGN UP"})]})]})]})})}function dD(r){return Do({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}const mD=new Zr;function pD(){const[r,e]=A.useState(""),[n,s]=A.useState(""),o=wu(),u=async m=>{m.preventDefault();try{(await sI(Eu,r,n)).user&&($e.success("Succesfull"),o("/userpage"))}catch(p){$e.error(p.message)}},h=async()=>{try{(await NI(Eu,mD)).user&&o("/userpage")}catch(m){$e.error=m.message}};return G.jsx("div",{children:G.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[G.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:G.jsx("h2",{className:"mt-10 text-center text-2xl/9 font-bold tracking-tight text-gray-900",children:"Create your account"})}),G.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[G.jsxs("form",{className:"space-y-6",children:[G.jsxs("div",{children:[G.jsx("label",{htmlFor:"email",className:"block text-sm/6 font-medium text-gray-900",children:"Email address"}),G.jsx("div",{className:"mt-2",children:G.jsx("input",{value:r,onChange:m=>{e(m.target.value)},id:"email",name:"email",type:"email",required:!0,autoComplete:"email",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),G.jsxs("div",{children:[G.jsx("div",{className:"flex items-center justify-between",children:G.jsx("label",{htmlFor:"password",className:"block text-sm/6 font-medium text-gray-900",children:"Password"})}),G.jsx("div",{className:"mt-2",children:G.jsx("input",{value:n,onChange:m=>s(m.target.value),id:"password",name:"password",type:"password",required:!0,autoComplete:"current-password",className:"block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6"})})]}),G.jsx("div",{children:G.jsx("button",{onClick:u,className:"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:"Sign Up"})})]}),G.jsxs("p",{className:"mt-10 flex items-center justify-center gap-2 text-base text-gray-700",children:[G.jsx("span",{children:"Sign up with ? "}),G.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 font-semibold text-indigo-600 hover:text-indigo-500",children:[G.jsx(dD,{className:"text-xl"}),"GOOGLE"]})]})]})]})})}function gD(){const[r,e]=A.useState([]),[n,s]=A.useState(""),o=async()=>{try{const m=(await IO(yO(NO,"userHistory"))).docs.map(p=>({id:p.id,...p.data()}));e(m)}catch{}};A.useEffect(()=>{o(),u()},[]);const u=()=>{const h=localStorage.getItem("email");s(h)};return G.jsxs("div",{className:"max-w-xl mx-auto mt-10 p-6 bg-white shadow-lg rounded-xl",children:[G.jsx("div",{children:G.jsxs("h2",{className:"text-blue-500",children:["User Email:",n," "]})}),G.jsxs("div",{children:[G.jsx("h1",{className:"text-green-500 text-3xl",children:"History :"}),r.length>0?r.map(h=>G.jsx("p",{children:h.score},h.id)):G.jsx("p",{children:"No history available"})]})]})}const yD={"Not at all":0,"A little":1,Somewhat:2,"Quite a bit":3,"Very much":4};function vD(r,e){let n=0;return e.forEach((s,o)=>{const u=o+1,h=r[u];if(!h)return;let m=yD[h];s.reverseScored&&(m=4-m),n+=m}),n}const _D=async r=>{try{const e=await addDoc(collection(db,"userHistory"),{id:getAuth().currentUser.uid,score:r,date:new Date})}catch{}};function ED({responses:r,questions:e}){const n=vD(r,e);A.useEffect(()=>{_D(n)},[n]);let s="",o=[],u=[];n<=13?(s="Low Stress",o=["Keep up your good habits.","Maintain a balanced lifestyle.","Take regular breaks during your work.","Spend time outdoors and enjoy fresh air.","Stay connected with friends and family."],u=["","","","",""]):n<=26?(s="Moderate Stress",o=["Go for a 10-minute walk.","Make yourself a cup of coffee.","Listen to your favorite music without distractions.","Practice deep breathing exercises.","Try mindfulness or meditation for a few minutes."],u=["","","","",""]):(s="High Stress",o=["Practice relaxation techniques like yoga or meditation.","Take a calm walk in nature.","Prepare a warm drink and focus on your breath.","Limit screen time and social media.","Consider talking to a professional for support."],u=["","","","",""]);const h={"Low Stress":"text-green-600 bg-green-100","Moderate Stress":"text-yellow-700 bg-yellow-100","High Stress":"text-red-700 bg-red-100"};return G.jsxs("div",{className:"max-w-md mx-auto mt-20 mb-20 bg-white rounded-2xl shadow-lg p-8",children:[G.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 mb-6 text-center",children:"Survey Result"}),G.jsxs("div",{className:"text-center mb-8",children:[G.jsxs("p",{className:"text-lg text-gray-700 mb-2",children:[G.jsx("span",{className:"font-semibold",children:"Your score:"})," ",n]}),G.jsx("p",{className:`inline-block px-4 py-2 rounded-full font-semibold text-lg ${h[s]}`,children:s})]}),G.jsxs("div",{children:[G.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Advice for You"}),G.jsx("ul",{className:"space-y-3",children:o.map((m,p)=>G.jsxs("li",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow duration-300 flex items-center space-x-3",children:[G.jsx("span",{className:"text-2xl",children:u[p]}),G.jsx("span",{children:m})]},p))})]})]})}const TD=["Not at all","A little","Somewhat","Quite a bit","Very much"],Wm=[{question:"How often have you felt unable to stop worrying about things?"},{question:"How often did you find that you couldnt cope with everything you had to do?"},{question:"How often have you felt that you were on top of things?",reverseScored:!0},{question:"How often did you feel nervous and stressed?"},{question:"How often have you felt confident about your ability to handle personal problems?",reverseScored:!0},{question:"How often have you felt that things were going your way?",reverseScored:!0},{question:"How often felt difficulties were piling up so high that you could not overcome them?"},{question:"How often have you been upset because of something that happened unexpectedly?"},{question:"How often did you feel that you were effectively coping with important changes happening in your life?",reverseScored:!0},{question:"How often have you felt that you werent able to control the important things in your life?"}];function bD(){const r=Wm.length,[e,n]=A.useState(1),[s,o]=A.useState({}),[u,h]=A.useState(!1),m=Wm[e-1],p=s[e]??"",g=S=>{o(O=>({...O,[e]:S}))},E=()=>{e<r?n(S=>S+1):h(!0)},w=()=>{e>1&&n(S=>S-1)};return G.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4 py-8",children:u?G.jsx(ED,{responses:s,questions:Wm}):G.jsxs("div",{className:"max-w-lg w-full bg-white rounded-xl shadow-md p-6 pt-12 space-y-8",children:[G.jsxs("div",{className:"text-sm text-gray-500 text-center font-medium",children:[e," / ",r]}),G.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-center text-gray-900",children:m.question}),G.jsx("div",{className:"grid grid-cols-1 gap-4 mt-6",children:TD.map(S=>G.jsx("button",{className:`border rounded-lg px-4 py-2 text-sm font-medium transition ${p===S?"bg-blue-600 text-white border-blue-600":"text-gray-800 hover:bg-gray-100"}`,onClick:()=>g(S),children:S},S))}),G.jsx("div",{className:"w-full bg-gray-200 h-2 rounded-full mt-6",children:G.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${e/r*100}%`}})}),G.jsxs("div",{className:"flex justify-between mt-6 mb-4",children:[G.jsx("button",{onClick:w,className:"px-4 py-2 border rounded-md text-gray-700 hover:bg-gray-100",disabled:e===1,children:" Back"}),G.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",disabled:!p,children:e===r?"Finish ":"Next "})]})]})})}function wD(){return G.jsxs(NA,{children:[G.jsx(Ws,{path:"/home",element:G.jsx(w2,{})}),G.jsx(Ws,{path:"/",element:G.jsx(IA,{to:"/home",replace:!0})}),G.jsx(Ws,{path:"/login",element:G.jsx(hD,{})}),G.jsx(Ws,{path:"/signup",element:G.jsx(pD,{})}),G.jsx(Ws,{path:"/userpage",element:G.jsx(gD,{})}),G.jsx(Ws,{path:"/survey",element:G.jsx(bD,{})})]})}var SD=Object.defineProperty,AD=(r,e,n)=>e in r?SD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,Zm=(r,e,n)=>(AD(r,typeof e!="symbol"?e+"":e,n),n);let RD=class{constructor(){Zm(this,"current",this.detect()),Zm(this,"handoffState","pending"),Zm(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},_r=new RD;function Th(r){var e,n;return _r.isServer?null:r?"ownerDocument"in r?r.ownerDocument:"current"in r?(n=(e=r.current)==null?void 0:e.ownerDocument)!=null?n:document:null:document}function bh(r){typeof queueMicrotask=="function"?queueMicrotask(r):Promise.resolve().then(r).catch(e=>setTimeout(()=>{throw e}))}function hi(){let r=[],e={addEventListener(n,s,o,u){return n.addEventListener(s,o,u),e.add(()=>n.removeEventListener(s,o,u))},requestAnimationFrame(...n){let s=requestAnimationFrame(...n);return e.add(()=>cancelAnimationFrame(s))},nextFrame(...n){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...n))},setTimeout(...n){let s=setTimeout(...n);return e.add(()=>clearTimeout(s))},microTask(...n){let s={current:!0};return bh(()=>{s.current&&n[0]()}),e.add(()=>{s.current=!1})},style(n,s,o){let u=n.style.getPropertyValue(s);return Object.assign(n.style,{[s]:o}),this.add(()=>{Object.assign(n.style,{[s]:u})})},group(n){let s=hi();return n(s),this.add(()=>s.dispose())},add(n){return r.includes(n)||r.push(n),()=>{let s=r.indexOf(n);if(s>=0)for(let o of r.splice(s,1))o()}},dispose(){for(let n of r.splice(0))n()}};return e}function Og(){let[r]=A.useState(hi);return A.useEffect(()=>()=>r.dispose(),[r]),r}let Jt=(r,e)=>{_r.isServer?A.useEffect(r,e):A.useLayoutEffect(r,e)};function pa(r){let e=A.useRef(r);return Jt(()=>{e.current=r},[r]),e}let nt=function(r){let e=pa(r);return ce.useCallback((...n)=>e.current(...n),[e])},CD=A.createContext(void 0);function ID(){return A.useContext(CD)}function Up(...r){return Array.from(new Set(r.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function ci(r,e,...n){if(r in e){let o=e[r];return typeof o=="function"?o(...n):o}let s=new Error(`Tried to handle "${r}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,ci),s}var Xf=(r=>(r[r.None=0]="None",r[r.RenderStrategy=1]="RenderStrategy",r[r.Static=2]="Static",r))(Xf||{}),Qi=(r=>(r[r.Unmount=0]="Unmount",r[r.Hidden=1]="Hidden",r))(Qi||{});function zn(){let r=ND();return A.useCallback(e=>xD({mergeRefs:r,...e}),[r])}function xD({ourProps:r,theirProps:e,slot:n,defaultTag:s,features:o,visible:u=!0,name:h,mergeRefs:m}){m=m??OD;let p=Ib(e,r);if(u)return _f(p,n,s,h,m);let g=o??0;if(g&2){let{static:E=!1,...w}=p;if(E)return _f(w,n,s,h,m)}if(g&1){let{unmount:E=!0,...w}=p;return ci(E?0:1,{0(){return null},1(){return _f({...w,hidden:!0,style:{display:"none"}},n,s,h,m)}})}return _f(p,n,s,h,m)}function _f(r,e={},n,s,o){let{as:u=n,children:h,refName:m="ref",...p}=Jm(r,["unmount","static"]),g=r.ref!==void 0?{[m]:r.ref}:{},E=typeof h=="function"?h(e):h;"className"in p&&p.className&&typeof p.className=="function"&&(p.className=p.className(e)),p["aria-labelledby"]&&p["aria-labelledby"]===p.id&&(p["aria-labelledby"]=void 0);let w={};if(e){let S=!1,O=[];for(let[V,H]of Object.entries(e))typeof H=="boolean"&&(S=!0),H===!0&&O.push(V.replace(/([A-Z])/g,U=>`-${U.toLowerCase()}`));if(S){w["data-headlessui-state"]=O.join(" ");for(let V of O)w[`data-${V}`]=""}}if(u===A.Fragment&&(Object.keys(Js(p)).length>0||Object.keys(Js(w)).length>0))if(!A.isValidElement(E)||Array.isArray(E)&&E.length>1){if(Object.keys(Js(p)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${s} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Js(p)).concat(Object.keys(Js(w))).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`))}else{let S=E.props,O=S?.className,V=typeof O=="function"?(...F)=>Up(O(...F),p.className):Up(O,p.className),H=V?{className:V}:{},U=Ib(E.props,Js(Jm(p,["ref"])));for(let F in w)F in U&&delete w[F];return A.cloneElement(E,Object.assign({},U,w,g,{ref:o(DD(E),g.ref)},H))}return A.createElement(u,Object.assign({},Jm(p,["ref"]),u!==A.Fragment&&g,u!==A.Fragment&&w),E)}function ND(){let r=A.useRef([]),e=A.useCallback(n=>{for(let s of r.current)s!=null&&(typeof s=="function"?s(n):s.current=n)},[]);return(...n)=>{if(!n.every(s=>s==null))return r.current=n,e}}function OD(...r){return r.every(e=>e==null)?void 0:e=>{for(let n of r)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function Ib(...r){if(r.length===0)return{};if(r.length===1)return r[0];let e={},n={};for(let s of r)for(let o in s)o.startsWith("on")&&typeof s[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(s[o])):e[o]=s[o];if(e.disabled||e["aria-disabled"])for(let s in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(s)&&(n[s]=[o=>{var u;return(u=o?.preventDefault)==null?void 0:u.call(o)}]);for(let s in n)Object.assign(e,{[s](o,...u){let h=n[s];for(let m of h){if((o instanceof Event||o?.nativeEvent instanceof Event)&&o.defaultPrevented)return;m(o,...u)}}});return e}function hn(r){var e;return Object.assign(A.forwardRef(r),{displayName:(e=r.displayName)!=null?e:r.name})}function Js(r){let e=Object.assign({},r);for(let n in e)e[n]===void 0&&delete e[n];return e}function Jm(r,e=[]){let n=Object.assign({},r);for(let s of e)s in n&&delete n[s];return n}function DD(r){return ce.version.split(".")[0]>="19"?r.props.ref:r.ref}let MD="span";var Wf=(r=>(r[r.None=1]="None",r[r.Focusable=2]="Focusable",r[r.Hidden=4]="Hidden",r))(Wf||{});function kD(r,e){var n;let{features:s=1,...o}=r,u={ref:e,"aria-hidden":(s&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return zn()({ourProps:u,theirProps:o,slot:{},defaultTag:MD,name:"Hidden"})}let zp=hn(kD);function xb(r){return typeof r!="object"||r===null?!1:"nodeType"in r}function rs(r){return xb(r)&&"tagName"in r}function da(r){return rs(r)&&"accessKey"in r}function Xi(r){return rs(r)&&"tabIndex"in r}function PD(r){return rs(r)&&"style"in r}function VD(r){return da(r)&&r.nodeName==="IFRAME"}function LD(r){return da(r)&&r.nodeName==="INPUT"}let Nb=Symbol();function UD(r,e=!0){return Object.assign(r,{[Nb]:e})}function Sr(...r){let e=A.useRef(r);A.useEffect(()=>{e.current=r},[r]);let n=nt(s=>{for(let o of e.current)o!=null&&(typeof o=="function"?o(s):o.current=s)});return r.every(s=>s==null||s?.[Nb])?void 0:n}let Dg=A.createContext(null);Dg.displayName="DescriptionContext";function Ob(){let r=A.useContext(Dg);if(r===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,Ob),e}return r}function zD(){let[r,e]=A.useState([]);return[r.length>0?r.join(" "):void 0,A.useMemo(()=>function(n){let s=nt(u=>(e(h=>[...h,u]),()=>e(h=>{let m=h.slice(),p=m.indexOf(u);return p!==-1&&m.splice(p,1),m}))),o=A.useMemo(()=>({register:s,slot:n.slot,name:n.name,props:n.props,value:n.value}),[s,n.slot,n.name,n.props,n.value]);return ce.createElement(Dg.Provider,{value:o},n.children)},[e])]}let jD="p";function BD(r,e){let n=A.useId(),s=ID(),{id:o=`headlessui-description-${n}`,...u}=r,h=Ob(),m=Sr(e);Jt(()=>h.register(o),[o,h.register]);let p=s||!1,g=A.useMemo(()=>({...h.slot,disabled:p}),[h.slot,p]),E={ref:m,...h.props,id:o};return zn()({ourProps:E,theirProps:u,slot:g,defaultTag:jD,name:h.name||"Description"})}let HD=hn(BD),qD=Object.assign(HD,{});var Db=(r=>(r.Space=" ",r.Enter="Enter",r.Escape="Escape",r.Backspace="Backspace",r.Delete="Delete",r.ArrowLeft="ArrowLeft",r.ArrowUp="ArrowUp",r.ArrowRight="ArrowRight",r.ArrowDown="ArrowDown",r.Home="Home",r.End="End",r.PageUp="PageUp",r.PageDown="PageDown",r.Tab="Tab",r))(Db||{});let FD=A.createContext(()=>{});function $D({value:r,children:e}){return ce.createElement(FD.Provider,{value:r},e)}let Mb=class extends Map{constructor(e){super(),this.factory=e}get(e){let n=super.get(e);return n===void 0&&(n=this.factory(e),this.set(e,n)),n}};var GD=Object.defineProperty,YD=(r,e,n)=>e in r?GD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,KD=(r,e,n)=>(YD(r,e+"",n),n),kb=(r,e,n)=>{if(!e.has(r))throw TypeError("Cannot "+n)},Vn=(r,e,n)=>(kb(r,e,"read from private field"),n?n.call(r):e.get(r)),ep=(r,e,n)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,n)},jE=(r,e,n,s)=>(kb(r,e,"write to private field"),e.set(r,n),n),dr,tu,nu;let QD=class{constructor(e){ep(this,dr,{}),ep(this,tu,new Mb(()=>new Set)),ep(this,nu,new Set),KD(this,"disposables",hi()),jE(this,dr,e),_r.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Vn(this,dr)}subscribe(e,n){if(_r.isServer)return()=>{};let s={selector:e,callback:n,current:e(Vn(this,dr))};return Vn(this,nu).add(s),this.disposables.add(()=>{Vn(this,nu).delete(s)})}on(e,n){return _r.isServer?()=>{}:(Vn(this,tu).get(e).add(n),this.disposables.add(()=>{Vn(this,tu).get(e).delete(n)}))}send(e){let n=this.reduce(Vn(this,dr),e);if(n!==Vn(this,dr)){jE(this,dr,n);for(let s of Vn(this,nu)){let o=s.selector(Vn(this,dr));Pb(s.current,o)||(s.current=o,s.callback(o))}for(let s of Vn(this,tu).get(e.type))s(Vn(this,dr),e)}}};dr=new WeakMap,tu=new WeakMap,nu=new WeakMap;function Pb(r,e){return Object.is(r,e)?!0:typeof r!="object"||r===null||typeof e!="object"||e===null?!1:Array.isArray(r)&&Array.isArray(e)?r.length!==e.length?!1:tp(r[Symbol.iterator](),e[Symbol.iterator]()):r instanceof Map&&e instanceof Map||r instanceof Set&&e instanceof Set?r.size!==e.size?!1:tp(r.entries(),e.entries()):BE(r)&&BE(e)?tp(Object.entries(r)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function tp(r,e){do{let n=r.next(),s=e.next();if(n.done&&s.done)return!0;if(n.done||s.done||!Object.is(n.value,s.value))return!1}while(!0)}function BE(r){if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||Object.getPrototypeOf(e)===null}var XD=Object.defineProperty,WD=(r,e,n)=>e in r?XD(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,HE=(r,e,n)=>(WD(r,typeof e!="symbol"?e+"":e,n),n),ZD=(r=>(r[r.Push=0]="Push",r[r.Pop=1]="Pop",r))(ZD||{});let JD={0(r,e){let n=e.id,s=r.stack,o=r.stack.indexOf(n);if(o!==-1){let u=r.stack.slice();return u.splice(o,1),u.push(n),s=u,{...r,stack:s}}return{...r,stack:[...r.stack,n]}},1(r,e){let n=e.id,s=r.stack.indexOf(n);if(s===-1)return r;let o=r.stack.slice();return o.splice(s,1),{...r,stack:o}}},e6=class Vb extends QD{constructor(){super(...arguments),HE(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),HE(this,"selectors",{isTop:(e,n)=>e.stack[e.stack.length-1]===n,inStack:(e,n)=>e.stack.includes(n)})}static new(){return new Vb({stack:[]})}reduce(e,n){return ci(n.type,JD,e,n)}};const Lb=new Mb(()=>e6.new());var np={exports:{}},rp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function t6(){if(qE)return rp;qE=1;var r=Jf();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,o=r.useRef,u=r.useEffect,h=r.useMemo,m=r.useDebugValue;return rp.useSyncExternalStoreWithSelector=function(p,g,E,w,S){var O=o(null);if(O.current===null){var V={hasValue:!1,value:null};O.current=V}else V=O.current;O=h(function(){function U(se){if(!F){if(F=!0,Q=se,se=w(se),S!==void 0&&V.hasValue){var fe=V.value;if(S(fe,se))return Y=fe}return Y=se}if(fe=Y,n(Q,se))return fe;var x=w(se);return S!==void 0&&S(fe,x)?(Q=se,fe):(Q=se,Y=x)}var F=!1,Q,Y,ie=E===void 0?null:E;return[function(){return U(g())},ie===null?void 0:function(){return U(ie())}]},[g,E,w,S]);var H=s(p,O[0],O[1]);return u(function(){V.hasValue=!0,V.value=H},[H]),m(H),H},rp}var FE;function n6(){return FE||(FE=1,np.exports=t6()),np.exports}var r6=n6();function Ub(r,e,n=Pb){return r6.useSyncExternalStoreWithSelector(nt(s=>r.subscribe(i6,s)),nt(()=>r.state),nt(()=>r.state),nt(e),n)}function i6(r){return r}function Uu(r,e){let n=A.useId(),s=Lb.get(e),[o,u]=Ub(s,A.useCallback(h=>[s.selectors.isTop(h,n),s.selectors.inStack(h,n)],[s,n]));return Jt(()=>{if(r)return s.actions.push(n),()=>s.actions.pop(n)},[s,r,n]),r?u?o:!0:!1}let jp=new Map,cu=new Map;function $E(r){var e;let n=(e=cu.get(r))!=null?e:0;return cu.set(r,n+1),n!==0?()=>GE(r):(jp.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0,()=>GE(r))}function GE(r){var e;let n=(e=cu.get(r))!=null?e:1;if(n===1?cu.delete(r):cu.set(r,n-1),n!==1)return;let s=jp.get(r);s&&(s["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",s["aria-hidden"]),r.inert=s.inert,jp.delete(r))}function s6(r,{allowed:e,disallowed:n}={}){let s=Uu(r,"inert-others");Jt(()=>{var o,u;if(!s)return;let h=hi();for(let p of(o=n?.())!=null?o:[])p&&h.add($E(p));let m=(u=e?.())!=null?u:[];for(let p of m){if(!p)continue;let g=Th(p);if(!g)continue;let E=p.parentElement;for(;E&&E!==g.body;){for(let w of E.children)m.some(S=>w.contains(S))||h.add($E(w));E=E.parentElement}}return h.dispose},[s,e,n])}function a6(r,e,n){let s=pa(o=>{let u=o.getBoundingClientRect();u.x===0&&u.y===0&&u.width===0&&u.height===0&&n()});A.useEffect(()=>{if(!r)return;let o=e===null?null:da(e)?e:e.current;if(!o)return;let u=hi();if(typeof ResizeObserver<"u"){let h=new ResizeObserver(()=>s.current(o));h.observe(o),u.add(()=>h.disconnect())}if(typeof IntersectionObserver<"u"){let h=new IntersectionObserver(()=>s.current(o));h.observe(o),u.add(()=>h.disconnect())}return()=>u.dispose()},[e,s,r])}let Zf=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(r=>`${r}:not([tabindex='-1'])`).join(","),o6=["[data-autofocus]"].map(r=>`${r}:not([tabindex='-1'])`).join(",");var Jr=(r=>(r[r.First=1]="First",r[r.Previous=2]="Previous",r[r.Next=4]="Next",r[r.Last=8]="Last",r[r.WrapAround=16]="WrapAround",r[r.NoScroll=32]="NoScroll",r[r.AutoFocus=64]="AutoFocus",r))(Jr||{}),Bp=(r=>(r[r.Error=0]="Error",r[r.Overflow=1]="Overflow",r[r.Success=2]="Success",r[r.Underflow=3]="Underflow",r))(Bp||{}),l6=(r=>(r[r.Previous=-1]="Previous",r[r.Next=1]="Next",r))(l6||{});function u6(r=document.body){return r==null?[]:Array.from(r.querySelectorAll(Zf)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function c6(r=document.body){return r==null?[]:Array.from(r.querySelectorAll(o6)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var zb=(r=>(r[r.Strict=0]="Strict",r[r.Loose=1]="Loose",r))(zb||{});function f6(r,e=0){var n;return r===((n=Th(r))==null?void 0:n.body)?!1:ci(e,{0(){return r.matches(Zf)},1(){let s=r;for(;s!==null;){if(s.matches(Zf))return!0;s=s.parentElement}return!1}})}var h6=(r=>(r[r.Keyboard=0]="Keyboard",r[r.Mouse=1]="Mouse",r))(h6||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",r=>{r.metaKey||r.altKey||r.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",r=>{r.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:r.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ii(r){r?.focus({preventScroll:!0})}let d6=["textarea","input"].join(",");function m6(r){var e,n;return(n=(e=r?.matches)==null?void 0:e.call(r,d6))!=null?n:!1}function p6(r,e=n=>n){return r.slice().sort((n,s)=>{let o=e(n),u=e(s);if(o===null||u===null)return 0;let h=o.compareDocumentPosition(u);return h&Node.DOCUMENT_POSITION_FOLLOWING?-1:h&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function fu(r,e,{sorted:n=!0,relativeTo:s=null,skipElements:o=[]}={}){let u=Array.isArray(r)?r.length>0?r[0].ownerDocument:document:r.ownerDocument,h=Array.isArray(r)?n?p6(r):r:e&64?c6(r):u6(r);o.length>0&&h.length>1&&(h=h.filter(O=>!o.some(V=>V!=null&&"current"in V?V?.current===O:V===O))),s=s??u.activeElement;let m=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,h.indexOf(s))-1;if(e&4)return Math.max(0,h.indexOf(s))+1;if(e&8)return h.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),g=e&32?{preventScroll:!0}:{},E=0,w=h.length,S;do{if(E>=w||E+w<=0)return 0;let O=p+E;if(e&16)O=(O+w)%w;else{if(O<0)return 3;if(O>=w)return 1}S=h[O],S?.focus(g),E+=m}while(S!==u.activeElement);return e&6&&m6(S)&&S.select(),2}function jb(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function g6(){return/Android/gi.test(window.navigator.userAgent)}function YE(){return jb()||g6()}function Ef(r,e,n,s){let o=pa(n);A.useEffect(()=>{if(!r)return;function u(h){o.current(h)}return document.addEventListener(e,u,s),()=>document.removeEventListener(e,u,s)},[r,e,s])}function Bb(r,e,n,s){let o=pa(n);A.useEffect(()=>{if(!r)return;function u(h){o.current(h)}return window.addEventListener(e,u,s),()=>window.removeEventListener(e,u,s)},[r,e,s])}const KE=30;function y6(r,e,n){let s=pa(n),o=A.useCallback(function(m,p){if(m.defaultPrevented)return;let g=p(m);if(g===null||!g.getRootNode().contains(g)||!g.isConnected)return;let E=function w(S){return typeof S=="function"?w(S()):Array.isArray(S)||S instanceof Set?S:[S]}(e);for(let w of E)if(w!==null&&(w.contains(g)||m.composed&&m.composedPath().includes(w)))return;return!f6(g,zb.Loose)&&g.tabIndex!==-1&&m.preventDefault(),s.current(m,g)},[s,e]),u=A.useRef(null);Ef(r,"pointerdown",m=>{var p,g;YE()||(u.current=((g=(p=m.composedPath)==null?void 0:p.call(m))==null?void 0:g[0])||m.target)},!0),Ef(r,"pointerup",m=>{if(YE()||!u.current)return;let p=u.current;return u.current=null,o(m,()=>p)},!0);let h=A.useRef({x:0,y:0});Ef(r,"touchstart",m=>{h.current.x=m.touches[0].clientX,h.current.y=m.touches[0].clientY},!0),Ef(r,"touchend",m=>{let p={x:m.changedTouches[0].clientX,y:m.changedTouches[0].clientY};if(!(Math.abs(p.x-h.current.x)>=KE||Math.abs(p.y-h.current.y)>=KE))return o(m,()=>Xi(m.target)?m.target:null)},!0),Bb(r,"blur",m=>o(m,()=>VD(window.document.activeElement)?window.document.activeElement:null),!0)}function wh(...r){return A.useMemo(()=>Th(...r),[...r])}function Hb(r,e,n,s){let o=pa(n);A.useEffect(()=>{r=r??window;function u(h){o.current(h)}return r.addEventListener(e,u,s),()=>r.removeEventListener(e,u,s)},[r,e,s])}function v6(r){return A.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getSnapshot)}function _6(r,e){let n=r(),s=new Set;return{getSnapshot(){return n},subscribe(o){return s.add(o),()=>s.delete(o)},dispatch(o,...u){let h=e[o].call(n,...u);h&&(n=h,s.forEach(m=>m()))}}}function E6(){let r;return{before({doc:e}){var n;let s=e.documentElement,o=(n=e.defaultView)!=null?n:window;r=Math.max(0,o.innerWidth-s.clientWidth)},after({doc:e,d:n}){let s=e.documentElement,o=Math.max(0,s.clientWidth-s.offsetWidth),u=Math.max(0,r-o);n.style(s,"paddingRight",`${u}px`)}}}function T6(){return jb()?{before({doc:r,d:e,meta:n}){function s(o){return n.containers.flatMap(u=>u()).some(u=>u.contains(o))}e.microTask(()=>{var o;if(window.getComputedStyle(r.documentElement).scrollBehavior!=="auto"){let m=hi();m.style(r.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>m.dispose()))}let u=(o=window.scrollY)!=null?o:window.pageYOffset,h=null;e.addEventListener(r,"click",m=>{if(Xi(m.target))try{let p=m.target.closest("a");if(!p)return;let{hash:g}=new URL(p.href),E=r.querySelector(g);Xi(E)&&!s(E)&&(h=E)}catch{}},!0),e.addEventListener(r,"touchstart",m=>{if(Xi(m.target)&&PD(m.target))if(s(m.target)){let p=m.target;for(;p.parentElement&&s(p.parentElement);)p=p.parentElement;e.style(p,"overscrollBehavior","contain")}else e.style(m.target,"touchAction","none")}),e.addEventListener(r,"touchmove",m=>{if(Xi(m.target)){if(LD(m.target))return;if(s(m.target)){let p=m.target;for(;p.parentElement&&p.dataset.headlessuiPortal!==""&&!(p.scrollHeight>p.clientHeight||p.scrollWidth>p.clientWidth);)p=p.parentElement;p.dataset.headlessuiPortal===""&&m.preventDefault()}else m.preventDefault()}},{passive:!1}),e.add(()=>{var m;let p=(m=window.scrollY)!=null?m:window.pageYOffset;u!==p&&window.scrollTo(0,u),h&&h.isConnected&&(h.scrollIntoView({block:"nearest"}),h=null)})})}}:{}}function b6(){return{before({doc:r,d:e}){e.style(r.documentElement,"overflow","hidden")}}}function w6(r){let e={};for(let n of r)Object.assign(e,n(e));return e}let ra=_6(()=>new Map,{PUSH(r,e){var n;let s=(n=this.get(r))!=null?n:{doc:r,count:0,d:hi(),meta:new Set};return s.count++,s.meta.add(e),this.set(r,s),this},POP(r,e){let n=this.get(r);return n&&(n.count--,n.meta.delete(e)),this},SCROLL_PREVENT({doc:r,d:e,meta:n}){let s={doc:r,d:e,meta:w6(n)},o=[T6(),E6(),b6()];o.forEach(({before:u})=>u?.(s)),o.forEach(({after:u})=>u?.(s))},SCROLL_ALLOW({d:r}){r.dispose()},TEARDOWN({doc:r}){this.delete(r)}});ra.subscribe(()=>{let r=ra.getSnapshot(),e=new Map;for(let[n]of r)e.set(n,n.documentElement.style.overflow);for(let n of r.values()){let s=e.get(n.doc)==="hidden",o=n.count!==0;(o&&!s||!o&&s)&&ra.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ra.dispatch("TEARDOWN",n)}});function S6(r,e,n=()=>({containers:[]})){let s=v6(ra),o=e?s.get(e):void 0,u=o?o.count>0:!1;return Jt(()=>{if(!(!e||!r))return ra.dispatch("PUSH",e,n),()=>ra.dispatch("POP",e,n)},[r,e]),u}function A6(r,e,n=()=>[document.body]){let s=Uu(r,"scroll-lock");S6(s,e,o=>{var u;return{containers:[...(u=o.containers)!=null?u:[],n]}})}function R6(r=0){let[e,n]=A.useState(r),s=A.useCallback(p=>n(p),[e]),o=A.useCallback(p=>n(g=>g|p),[e]),u=A.useCallback(p=>(e&p)===p,[e]),h=A.useCallback(p=>n(g=>g&~p),[n]),m=A.useCallback(p=>n(g=>g^p),[n]);return{flags:e,setFlag:s,addFlag:o,hasFlag:u,removeFlag:h,toggleFlag:m}}var C6={},QE,XE;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((QE=process==null?void 0:C6)==null?void 0:QE.NODE_ENV)==="test"&&typeof((XE=Element?.prototype)==null?void 0:XE.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var I6=(r=>(r[r.None=0]="None",r[r.Closed=1]="Closed",r[r.Enter=2]="Enter",r[r.Leave=4]="Leave",r))(I6||{});function x6(r){let e={};for(let n in r)r[n]===!0&&(e[`data-${n}`]="");return e}function N6(r,e,n,s){let[o,u]=A.useState(n),{hasFlag:h,addFlag:m,removeFlag:p}=R6(r&&o?3:0),g=A.useRef(!1),E=A.useRef(!1),w=Og();return Jt(()=>{var S;if(r){if(n&&u(!0),!e){n&&m(3);return}return(S=s?.start)==null||S.call(s,n),O6(e,{inFlight:g,prepare(){E.current?E.current=!1:E.current=g.current,g.current=!0,!E.current&&(n?(m(3),p(4)):(m(4),p(2)))},run(){E.current?n?(p(3),m(4)):(p(4),m(3)):n?p(1):m(1)},done(){var O;E.current&&typeof e.getAnimations=="function"&&e.getAnimations().length>0||(g.current=!1,p(7),n||u(!1),(O=s?.end)==null||O.call(s,n))}})}},[r,n,e,w]),r?[o,{closed:h(1),enter:h(2),leave:h(4),transition:h(2)||h(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function O6(r,{prepare:e,run:n,done:s,inFlight:o}){let u=hi();return M6(r,{prepare:e,inFlight:o}),u.nextFrame(()=>{n(),u.requestAnimationFrame(()=>{u.add(D6(r,s))})}),u.dispose}function D6(r,e){var n,s;let o=hi();if(!r)return o.dispose;let u=!1;o.add(()=>{u=!0});let h=(s=(n=r.getAnimations)==null?void 0:n.call(r).filter(m=>m instanceof CSSTransition))!=null?s:[];return h.length===0?(e(),o.dispose):(Promise.allSettled(h.map(m=>m.finished)).then(()=>{u||e()}),o.dispose)}function M6(r,{inFlight:e,prepare:n}){if(e!=null&&e.current){n();return}let s=r.style.transition;r.style.transition="none",n(),r.offsetHeight,r.style.transition=s}function Mg(r,e){let n=A.useRef([]),s=nt(r);A.useEffect(()=>{let o=[...n.current];for(let[u,h]of e.entries())if(n.current[u]!==h){let m=s(e,o);return n.current=e,m}},[s,...e])}let Sh=A.createContext(null);Sh.displayName="OpenClosedContext";var Yn=(r=>(r[r.Open=1]="Open",r[r.Closed=2]="Closed",r[r.Closing=4]="Closing",r[r.Opening=8]="Opening",r))(Yn||{});function Ah(){return A.useContext(Sh)}function k6({value:r,children:e}){return ce.createElement(Sh.Provider,{value:r},e)}function P6({children:r}){return ce.createElement(Sh.Provider,{value:null},r)}function V6(r){function e(){document.readyState!=="loading"&&(r(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Gi=[];V6(()=>{function r(e){if(!Xi(e.target)||e.target===document.body||Gi[0]===e.target)return;let n=e.target;n=n.closest(Zf),Gi.unshift(n??e.target),Gi=Gi.filter(s=>s!=null&&s.isConnected),Gi.splice(10)}window.addEventListener("click",r,{capture:!0}),window.addEventListener("mousedown",r,{capture:!0}),window.addEventListener("focus",r,{capture:!0}),document.body.addEventListener("click",r,{capture:!0}),document.body.addEventListener("mousedown",r,{capture:!0}),document.body.addEventListener("focus",r,{capture:!0})});function qb(r){let e=nt(r),n=A.useRef(!1);A.useEffect(()=>(n.current=!1,()=>{n.current=!0,bh(()=>{n.current&&e()})}),[e])}function L6(){let r=typeof document>"u";return"useSyncExternalStore"in W_?(e=>e.useSyncExternalStore)(W_)(()=>()=>{},()=>!1,()=>!r):!1}function zu(){let r=L6(),[e,n]=A.useState(_r.isHandoffComplete);return e&&_r.isHandoffComplete===!1&&n(!1),A.useEffect(()=>{e!==!0&&n(!0)},[e]),A.useEffect(()=>_r.handoff(),[]),r?!1:e}let Fb=A.createContext(!1);function U6(){return A.useContext(Fb)}function WE(r){return ce.createElement(Fb.Provider,{value:r.force},r.children)}function z6(r){let e=U6(),n=A.useContext(Gb),[s,o]=A.useState(()=>{var u;if(!e&&n!==null)return(u=n.current)!=null?u:null;if(_r.isServer)return null;let h=r?.getElementById("headlessui-portal-root");if(h)return h;if(r===null)return null;let m=r.createElement("div");return m.setAttribute("id","headlessui-portal-root"),r.body.appendChild(m)});return A.useEffect(()=>{s!==null&&(r!=null&&r.body.contains(s)||r==null||r.body.appendChild(s))},[s,r]),A.useEffect(()=>{e||n!==null&&o(n.current)},[n,o,e]),s}let $b=A.Fragment,j6=hn(function(r,e){let{ownerDocument:n=null,...s}=r,o=A.useRef(null),u=Sr(UD(O=>{o.current=O}),e),h=wh(o),m=n??h,p=z6(m),[g]=A.useState(()=>{var O;return _r.isServer?null:(O=m?.createElement("div"))!=null?O:null}),E=A.useContext(Hp),w=zu();Jt(()=>{!p||!g||p.contains(g)||(g.setAttribute("data-headlessui-portal",""),p.appendChild(g))},[p,g]),Jt(()=>{if(g&&E)return E.register(g)},[E,g]),qb(()=>{var O;!p||!g||(xb(g)&&p.contains(g)&&p.removeChild(g),p.childNodes.length<=0&&((O=p.parentElement)==null||O.removeChild(p)))});let S=zn();return w?!p||!g?null:u2.createPortal(S({ourProps:{ref:u},theirProps:s,slot:{},defaultTag:$b,name:"Portal"}),g):null});function B6(r,e){let n=Sr(e),{enabled:s=!0,ownerDocument:o,...u}=r,h=zn();return s?ce.createElement(j6,{...u,ownerDocument:o,ref:n}):h({ourProps:{ref:n},theirProps:u,slot:{},defaultTag:$b,name:"Portal"})}let H6=A.Fragment,Gb=A.createContext(null);function q6(r,e){let{target:n,...s}=r,o={ref:Sr(e)},u=zn();return ce.createElement(Gb.Provider,{value:n},u({ourProps:o,theirProps:s,defaultTag:H6,name:"Popover.Group"}))}let Hp=A.createContext(null);function F6(){let r=A.useContext(Hp),e=A.useRef([]),n=nt(u=>(e.current.push(u),r&&r.register(u),()=>s(u))),s=nt(u=>{let h=e.current.indexOf(u);h!==-1&&e.current.splice(h,1),r&&r.unregister(u)}),o=A.useMemo(()=>({register:n,unregister:s,portals:e}),[n,s,e]);return[e,A.useMemo(()=>function({children:u}){return ce.createElement(Hp.Provider,{value:o},u)},[o])]}let $6=hn(B6),Yb=hn(q6),G6=Object.assign($6,{Group:Yb});function Y6(r,e=typeof document<"u"?document.defaultView:null,n){let s=Uu(r,"escape");Hb(e,"keydown",o=>{s&&(o.defaultPrevented||o.key===Db.Escape&&n(o))})}function K6(){var r;let[e]=A.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,s]=A.useState((r=e?.matches)!=null?r:!1);return Jt(()=>{if(!e)return;function o(u){s(u.matches)}return e.addEventListener("change",o),()=>e.removeEventListener("change",o)},[e]),n}function Q6({defaultContainers:r=[],portals:e,mainTreeNode:n}={}){let s=wh(n),o=nt(()=>{var u,h;let m=[];for(let p of r)p!==null&&(rs(p)?m.push(p):"current"in p&&rs(p.current)&&m.push(p.current));if(e!=null&&e.current)for(let p of e.current)m.push(p);for(let p of(u=s?.querySelectorAll("html > *, body > *"))!=null?u:[])p!==document.body&&p!==document.head&&rs(p)&&p.id!=="headlessui-portal-root"&&(n&&(p.contains(n)||p.contains((h=n?.getRootNode())==null?void 0:h.host))||m.some(g=>p.contains(g))||m.push(p));return m});return{resolveContainers:o,contains:nt(u=>o().some(h=>h.contains(u)))}}let Kb=A.createContext(null);function ZE({children:r,node:e}){let[n,s]=A.useState(null),o=Qb(e??n);return ce.createElement(Kb.Provider,{value:o},r,o===null&&ce.createElement(zp,{features:Wf.Hidden,ref:u=>{var h,m;if(u){for(let p of(m=(h=Th(u))==null?void 0:h.querySelectorAll("html > *, body > *"))!=null?m:[])if(p!==document.body&&p!==document.head&&rs(p)&&p!=null&&p.contains(u)){s(p);break}}}}))}function Qb(r=null){var e;return(e=A.useContext(Kb))!=null?e:r}function kg(){let r=A.useRef(!1);return Jt(()=>(r.current=!0,()=>{r.current=!1}),[]),r}var ru=(r=>(r[r.Forwards=0]="Forwards",r[r.Backwards=1]="Backwards",r))(ru||{});function X6(){let r=A.useRef(0);return Bb(!0,"keydown",e=>{e.key==="Tab"&&(r.current=e.shiftKey?1:0)},!0),r}function Xb(r){if(!r)return new Set;if(typeof r=="function")return new Set(r());let e=new Set;for(let n of r.current)rs(n.current)&&e.add(n.current);return e}let W6="div";var ea=(r=>(r[r.None=0]="None",r[r.InitialFocus=1]="InitialFocus",r[r.TabLock=2]="TabLock",r[r.FocusLock=4]="FocusLock",r[r.RestoreFocus=8]="RestoreFocus",r[r.AutoFocus=16]="AutoFocus",r))(ea||{});function Z6(r,e){let n=A.useRef(null),s=Sr(n,e),{initialFocus:o,initialFocusFallback:u,containers:h,features:m=15,...p}=r;zu()||(m=0);let g=wh(n);n3(m,{ownerDocument:g});let E=r3(m,{ownerDocument:g,container:n,initialFocus:o,initialFocusFallback:u});i3(m,{ownerDocument:g,container:n,containers:h,previousActiveElement:E});let w=X6(),S=nt(Q=>{if(!da(n.current))return;let Y=n.current;(ie=>ie())(()=>{ci(w.current,{[ru.Forwards]:()=>{fu(Y,Jr.First,{skipElements:[Q.relatedTarget,u]})},[ru.Backwards]:()=>{fu(Y,Jr.Last,{skipElements:[Q.relatedTarget,u]})}})})}),O=Uu(!!(m&2),"focus-trap#tab-lock"),V=Og(),H=A.useRef(!1),U={ref:s,onKeyDown(Q){Q.key=="Tab"&&(H.current=!0,V.requestAnimationFrame(()=>{H.current=!1}))},onBlur(Q){if(!(m&4))return;let Y=Xb(h);da(n.current)&&Y.add(n.current);let ie=Q.relatedTarget;Xi(ie)&&ie.dataset.headlessuiFocusGuard!=="true"&&(Wb(Y,ie)||(H.current?fu(n.current,ci(w.current,{[ru.Forwards]:()=>Jr.Next,[ru.Backwards]:()=>Jr.Previous})|Jr.WrapAround,{relativeTo:Q.target}):Xi(Q.target)&&ii(Q.target)))}},F=zn();return ce.createElement(ce.Fragment,null,O&&ce.createElement(zp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:Wf.Focusable}),F({ourProps:U,theirProps:p,defaultTag:W6,name:"FocusTrap"}),O&&ce.createElement(zp,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:S,features:Wf.Focusable}))}let J6=hn(Z6),e3=Object.assign(J6,{features:ea});function t3(r=!0){let e=A.useRef(Gi.slice());return Mg(([n],[s])=>{s===!0&&n===!1&&bh(()=>{e.current.splice(0)}),s===!1&&n===!0&&(e.current=Gi.slice())},[r,Gi,e]),nt(()=>{var n;return(n=e.current.find(s=>s!=null&&s.isConnected))!=null?n:null})}function n3(r,{ownerDocument:e}){let n=!!(r&8),s=t3(n);Mg(()=>{n||e?.activeElement===e?.body&&ii(s())},[n]),qb(()=>{n&&ii(s())})}function r3(r,{ownerDocument:e,container:n,initialFocus:s,initialFocusFallback:o}){let u=A.useRef(null),h=Uu(!!(r&1),"focus-trap#initial-focus"),m=kg();return Mg(()=>{if(r===0)return;if(!h){o!=null&&o.current&&ii(o.current);return}let p=n.current;p&&bh(()=>{if(!m.current)return;let g=e?.activeElement;if(s!=null&&s.current){if(s?.current===g){u.current=g;return}}else if(p.contains(g)){u.current=g;return}if(s!=null&&s.current)ii(s.current);else{if(r&16){if(fu(p,Jr.First|Jr.AutoFocus)!==Bp.Error)return}else if(fu(p,Jr.First)!==Bp.Error)return;if(o!=null&&o.current&&(ii(o.current),e?.activeElement===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=e?.activeElement})},[o,h,r]),u}function i3(r,{ownerDocument:e,container:n,containers:s,previousActiveElement:o}){let u=kg(),h=!!(r&4);Hb(e?.defaultView,"focus",m=>{if(!h||!u.current)return;let p=Xb(s);da(n.current)&&p.add(n.current);let g=o.current;if(!g)return;let E=m.target;da(E)?Wb(p,E)?(o.current=E,ii(E)):(m.preventDefault(),m.stopPropagation(),ii(g)):ii(o.current)},!0)}function Wb(r,e){for(let n of r)if(n.contains(e))return!0;return!1}function Zb(r){var e;return!!(r.enter||r.enterFrom||r.enterTo||r.leave||r.leaveFrom||r.leaveTo)||((e=r.as)!=null?e:ew)!==A.Fragment||ce.Children.count(r.children)===1}let Rh=A.createContext(null);Rh.displayName="TransitionContext";var s3=(r=>(r.Visible="visible",r.Hidden="hidden",r))(s3||{});function a3(){let r=A.useContext(Rh);if(r===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return r}function o3(){let r=A.useContext(Ch);if(r===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return r}let Ch=A.createContext(null);Ch.displayName="NestingContext";function Ih(r){return"children"in r?Ih(r.children):r.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function Jb(r,e){let n=pa(r),s=A.useRef([]),o=kg(),u=Og(),h=nt((O,V=Qi.Hidden)=>{let H=s.current.findIndex(({el:U})=>U===O);H!==-1&&(ci(V,{[Qi.Unmount](){s.current.splice(H,1)},[Qi.Hidden](){s.current[H].state="hidden"}}),u.microTask(()=>{var U;!Ih(s)&&o.current&&((U=n.current)==null||U.call(n))}))}),m=nt(O=>{let V=s.current.find(({el:H})=>H===O);return V?V.state!=="visible"&&(V.state="visible"):s.current.push({el:O,state:"visible"}),()=>h(O,Qi.Unmount)}),p=A.useRef([]),g=A.useRef(Promise.resolve()),E=A.useRef({enter:[],leave:[]}),w=nt((O,V,H)=>{p.current.splice(0),e&&(e.chains.current[V]=e.chains.current[V].filter(([U])=>U!==O)),e?.chains.current[V].push([O,new Promise(U=>{p.current.push(U)})]),e?.chains.current[V].push([O,new Promise(U=>{Promise.all(E.current[V].map(([F,Q])=>Q)).then(()=>U())})]),V==="enter"?g.current=g.current.then(()=>e?.wait.current).then(()=>H(V)):H(V)}),S=nt((O,V,H)=>{Promise.all(E.current[V].splice(0).map(([U,F])=>F)).then(()=>{var U;(U=p.current.shift())==null||U()}).then(()=>H(V))});return A.useMemo(()=>({children:s,register:m,unregister:h,onStart:w,onStop:S,wait:g,chains:E}),[m,h,s,w,S,E,g])}let ew=A.Fragment,tw=Xf.RenderStrategy;function l3(r,e){var n,s;let{transition:o=!0,beforeEnter:u,afterEnter:h,beforeLeave:m,afterLeave:p,enter:g,enterFrom:E,enterTo:w,entered:S,leave:O,leaveFrom:V,leaveTo:H,...U}=r,[F,Q]=A.useState(null),Y=A.useRef(null),ie=Zb(r),se=Sr(...ie?[Y,e,Q]:e===null?[]:[e]),fe=(n=U.unmount)==null||n?Qi.Unmount:Qi.Hidden,{show:x,appear:R,initial:C}=a3(),[D,k]=A.useState(x?"visible":"hidden"),L=o3(),{register:I,unregister:et}=L;Jt(()=>I(Y),[I,Y]),Jt(()=>{if(fe===Qi.Hidden&&Y.current){if(x&&D!=="visible"){k("visible");return}return ci(D,{hidden:()=>et(Y),visible:()=>I(Y)})}},[D,Y,I,et,x,fe]);let He=zu();Jt(()=>{if(ie&&He&&D==="visible"&&Y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Y,D,He,ie]);let W=C&&!R,ae=R&&x&&C,he=A.useRef(!1),xe=Jb(()=>{he.current||(k("hidden"),et(Y))},L),M=nt(ct=>{he.current=!0;let qe=ct?"enter":"leave";xe.onStart(Y,qe,Gt=>{Gt==="enter"?u?.():Gt==="leave"&&m?.()})}),te=nt(ct=>{let qe=ct?"enter":"leave";he.current=!1,xe.onStop(Y,qe,Gt=>{Gt==="enter"?h?.():Gt==="leave"&&p?.()}),qe==="leave"&&!Ih(xe)&&(k("hidden"),et(Y))});A.useEffect(()=>{ie&&o||(M(x),te(x))},[x,ie,o]);let ue=!(!o||!ie||!He||W),[,J]=N6(ue,F,x,{start:M,end:te}),pe=Js({ref:se,className:((s=Up(U.className,ae&&g,ae&&E,J.enter&&g,J.enter&&J.closed&&E,J.enter&&!J.closed&&w,J.leave&&O,J.leave&&!J.closed&&V,J.leave&&J.closed&&H,!J.transition&&x&&S))==null?void 0:s.trim())||void 0,...x6(J)}),Se=0;D==="visible"&&(Se|=Yn.Open),D==="hidden"&&(Se|=Yn.Closed),x&&D==="hidden"&&(Se|=Yn.Opening),!x&&D==="visible"&&(Se|=Yn.Closing);let be=zn();return ce.createElement(Ch.Provider,{value:xe},ce.createElement(k6,{value:Se},be({ourProps:pe,theirProps:U,defaultTag:ew,features:tw,visible:D==="visible",name:"Transition.Child"})))}function u3(r,e){let{show:n,appear:s=!1,unmount:o=!0,...u}=r,h=A.useRef(null),m=Zb(r),p=Sr(...m?[h,e]:e===null?[]:[e]);zu();let g=Ah();if(n===void 0&&g!==null&&(n=(g&Yn.Open)===Yn.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[E,w]=A.useState(n?"visible":"hidden"),S=Jb(()=>{n||w("hidden")}),[O,V]=A.useState(!0),H=A.useRef([n]);Jt(()=>{O!==!1&&H.current[H.current.length-1]!==n&&(H.current.push(n),V(!1))},[H,n]);let U=A.useMemo(()=>({show:n,appear:s,initial:O}),[n,s,O]);Jt(()=>{n?w("visible"):!Ih(S)&&h.current!==null&&w("hidden")},[n,S]);let F={unmount:o},Q=nt(()=>{var se;O&&V(!1),(se=r.beforeEnter)==null||se.call(r)}),Y=nt(()=>{var se;O&&V(!1),(se=r.beforeLeave)==null||se.call(r)}),ie=zn();return ce.createElement(Ch.Provider,{value:S},ce.createElement(Rh.Provider,{value:U},ie({ourProps:{...F,as:A.Fragment,children:ce.createElement(nw,{ref:p,...F,...u,beforeEnter:Q,beforeLeave:Y})},theirProps:{},defaultTag:A.Fragment,features:tw,visible:E==="visible",name:"Transition"})))}function c3(r,e){let n=A.useContext(Rh)!==null,s=Ah()!==null;return ce.createElement(ce.Fragment,null,!n&&s?ce.createElement(qp,{ref:e,...r}):ce.createElement(nw,{ref:e,...r}))}let qp=hn(u3),nw=hn(l3),Pg=hn(c3),f3=Object.assign(qp,{Child:Pg,Root:qp});var h3=(r=>(r[r.Open=0]="Open",r[r.Closed=1]="Closed",r))(h3||{}),d3=(r=>(r[r.SetTitleId=0]="SetTitleId",r))(d3||{});let m3={0(r,e){return r.titleId===e.id?r:{...r,titleId:e.id}}},Vg=A.createContext(null);Vg.displayName="DialogContext";function xh(r){let e=A.useContext(Vg);if(e===null){let n=new Error(`<${r} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xh),n}return e}function p3(r,e){return ci(e.type,m3,r,e)}let JE=hn(function(r,e){let n=A.useId(),{id:s=`headlessui-dialog-${n}`,open:o,onClose:u,initialFocus:h,role:m="dialog",autoFocus:p=!0,__demoMode:g=!1,unmount:E=!1,...w}=r,S=A.useRef(!1);m=function(){return m==="dialog"||m==="alertdialog"?m:(S.current||(S.current=!0,console.warn(`Invalid role [${m}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let O=Ah();o===void 0&&O!==null&&(o=(O&Yn.Open)===Yn.Open);let V=A.useRef(null),H=Sr(V,e),U=wh(V),F=o?0:1,[Q,Y]=A.useReducer(p3,{titleId:null,descriptionId:null,panelRef:A.createRef()}),ie=nt(()=>u(!1)),se=nt(J=>Y({type:0,id:J})),fe=zu()?F===0:!1,[x,R]=F6(),C={get current(){var J;return(J=Q.panelRef.current)!=null?J:V.current}},D=Qb(),{resolveContainers:k}=Q6({mainTreeNode:D,portals:x,defaultContainers:[C]}),L=O!==null?(O&Yn.Closing)===Yn.Closing:!1;s6(g||L?!1:fe,{allowed:nt(()=>{var J,pe;return[(pe=(J=V.current)==null?void 0:J.closest("[data-headlessui-portal]"))!=null?pe:null]}),disallowed:nt(()=>{var J;return[(J=D?.closest("body > *:not(#headlessui-portal-root)"))!=null?J:null]})});let I=Lb.get(null);Jt(()=>{if(fe)return I.actions.push(s),()=>I.actions.pop(s)},[I,s,fe]);let et=Ub(I,A.useCallback(J=>I.selectors.isTop(J,s),[I,s]));y6(et,k,J=>{J.preventDefault(),ie()}),Y6(et,U?.defaultView,J=>{J.preventDefault(),J.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),ie()}),A6(g||L?!1:fe,U,k),a6(fe,V,ie);let[He,W]=zD(),ae=A.useMemo(()=>[{dialogState:F,close:ie,setTitleId:se,unmount:E},Q],[F,Q,ie,se,E]),he=A.useMemo(()=>({open:F===0}),[F]),xe={ref:H,id:s,role:m,tabIndex:-1,"aria-modal":g?void 0:F===0?!0:void 0,"aria-labelledby":Q.titleId,"aria-describedby":He,unmount:E},M=!K6(),te=ea.None;fe&&!g&&(te|=ea.RestoreFocus,te|=ea.TabLock,p&&(te|=ea.AutoFocus),M&&(te|=ea.InitialFocus));let ue=zn();return ce.createElement(P6,null,ce.createElement(WE,{force:!0},ce.createElement(G6,null,ce.createElement(Vg.Provider,{value:ae},ce.createElement(Yb,{target:V},ce.createElement(WE,{force:!1},ce.createElement(W,{slot:he},ce.createElement(R,null,ce.createElement(e3,{initialFocus:h,initialFocusFallback:V,containers:k,features:te},ce.createElement($D,{value:ie},ue({ourProps:xe,theirProps:w,slot:he,defaultTag:g3,features:y3,visible:F===0,name:"Dialog"})))))))))))}),g3="div",y3=Xf.RenderStrategy|Xf.Static;function v3(r,e){let{transition:n=!1,open:s,...o}=r,u=Ah(),h=r.hasOwnProperty("open")||u!==null,m=r.hasOwnProperty("onClose");if(!h&&!m)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!h)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!m)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof r.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r.open}`);if(typeof r.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${r.onClose}`);return(s!==void 0||n)&&!o.static?ce.createElement(ZE,null,ce.createElement(f3,{show:s,transition:n,unmount:o.unmount},ce.createElement(JE,{ref:e,...o}))):ce.createElement(ZE,null,ce.createElement(JE,{ref:e,open:s,...o}))}let _3="div";function E3(r,e){let n=A.useId(),{id:s=`headlessui-dialog-panel-${n}`,transition:o=!1,...u}=r,[{dialogState:h,unmount:m},p]=xh("Dialog.Panel"),g=Sr(e,p.panelRef),E=A.useMemo(()=>({open:h===0}),[h]),w=nt(U=>{U.stopPropagation()}),S={ref:g,id:s,onClick:w},O=o?Pg:A.Fragment,V=o?{unmount:m}:{},H=zn();return ce.createElement(O,{...V},H({ourProps:S,theirProps:u,slot:E,defaultTag:_3,name:"Dialog.Panel"}))}let T3="div";function b3(r,e){let{transition:n=!1,...s}=r,[{dialogState:o,unmount:u}]=xh("Dialog.Backdrop"),h=A.useMemo(()=>({open:o===0}),[o]),m={ref:e,"aria-hidden":!0},p=n?Pg:A.Fragment,g=n?{unmount:u}:{},E=zn();return ce.createElement(p,{...g},E({ourProps:m,theirProps:s,slot:h,defaultTag:T3,name:"Dialog.Backdrop"}))}let w3="h2";function S3(r,e){let n=A.useId(),{id:s=`headlessui-dialog-title-${n}`,...o}=r,[{dialogState:u,setTitleId:h}]=xh("Dialog.Title"),m=Sr(e);A.useEffect(()=>(h(s),()=>h(null)),[s,h]);let p=A.useMemo(()=>({open:u===0}),[u]),g={ref:m,id:s};return zn()({ourProps:g,theirProps:o,slot:p,defaultTag:w3,name:"Dialog.Title"})}let A3=hn(v3),rw=hn(E3);hn(b3);let R3=hn(S3),C3=Object.assign(A3,{Panel:rw,Title:R3,Description:qD});function I3({title:r,titleId:e,...n},s){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?A.createElement("title",{id:e},r):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const x3=A.forwardRef(I3);function N3({title:r,titleId:e,...n},s){return A.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},n),r?A.createElement("title",{id:e},r):null,A.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const O3=A.forwardRef(N3),iw=A.createContext(),D3=({children:r})=>{const[e,n]=A.useState(null);return A.useEffect(()=>{const s=uI(Eu,o=>{n(o)});return()=>s()},[]),G.jsx(iw.Provider,{value:{currentUser:e},children:r})},M3=()=>A.useContext(iw);function k3(){const r=[{name:"Home",href:"home"},{name:"Profile",href:"userpage"}],[e,n]=A.useState(!1),{currentUser:s}=M3(),o=wu(),u=async()=>{await cI(Eu),localStorage.clear(),o("/home")};return G.jsxs("header",{className:"bg-white fixed top-0 inset-x-0 z-50 shadow-sm",children:[G.jsxs("nav",{"aria-label":"Global",className:"flex items-center justify-between px-6 py-4 lg:px-8",children:[G.jsx("div",{className:"flex lg:flex-1 items-center gap-2",children:G.jsx(Wr,{to:"/home",className:"text-lg font-bold text-gray-800",children:G.jsx(f0,{className:"text-blue-500 text-2xl"})})}),G.jsx("div",{className:"flex lg:hidden",children:G.jsxs("button",{type:"button",onClick:()=>n(!0),className:"p-2 text-gray-700 rounded-md hover:bg-gray-100",children:[G.jsx("span",{className:"sr-only",children:"Open main menu"}),G.jsx(x3,{"aria-hidden":"true",className:"h-6 w-6"})]})}),G.jsx("div",{className:"hidden lg:flex lg:gap-x-8",children:r.map(h=>G.jsx("a",{href:h.href,className:"text-sm font-medium text-gray-700 hover:text-blue-500",children:h.name},h.name))}),G.jsx("div",{className:"hidden lg:flex lg:flex-1 lg:justify-end gap-4",children:s?G.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-semibold text-red-600 hover:underline",children:"Log out"}):G.jsxs(G.Fragment,{children:[G.jsx(Wr,{to:"/login",className:"px-4 py-2 text-sm font-semibold text-gray-700 hover:text-blue-500",children:"Log in"}),G.jsx(Wr,{to:"/survey",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500 text-sm font-semibold",children:"Get Started"})]})})]}),G.jsxs(C3,{open:e,onClose:n,className:"lg:hidden",children:[G.jsx("div",{className:"fixed inset-0 z-50 bg-black/20 backdrop-blur-sm"}),G.jsxs(rw,{className:"fixed inset-y-0 right-0 z-50 w-full max-w-sm bg-white p-6 shadow-lg",children:[G.jsxs("div",{className:"flex items-center justify-between",children:[G.jsxs("div",{className:"flex items-center gap-2",children:[G.jsx(f0,{className:"text-blue-500 text-2xl"}),G.jsx("span",{className:"text-lg font-bold text-gray-800",children:"CalmSpace"})]}),G.jsxs("button",{type:"button",onClick:()=>n(!1),className:"p-2 text-gray-700 rounded-md hover:bg-gray-100",children:[G.jsx("span",{className:"sr-only",children:"Close menu"}),G.jsx(O3,{"aria-hidden":"true",className:"h-6 w-6"})]})]}),G.jsxs("div",{className:"mt-6 space-y-4",children:[r.map(h=>G.jsx("a",{href:h.href,className:"block rounded-lg px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50",children:h.name},h.name)),s?G.jsx("button",{onClick:()=>{u(),n(!1)},className:"w-full text-left px-3 py-2 text-base font-medium text-red-600 hover:bg-gray-50",children:"Log out"}):G.jsxs(G.Fragment,{children:[G.jsx(Wr,{to:"/login",className:"block rounded-lg px-3 py-2 text-base font-medium text-gray-700 hover:bg-gray-50",children:"Log in"}),G.jsx(Wr,{to:"/survey",className:"block rounded-lg px-3 py-2 bg-blue-600 text-white font-medium hover:bg-blue-500",onClick:()=>n(!1),children:"Get Started"})]})]})]})]})]})}function P3(){return G.jsxs("div",{children:[G.jsx(k3,{}),G.jsx(wD,{}),G.jsx(fD,{position:"top-right",autoClose:2e3})]})}zS.createRoot(document.getElementById("root")).render(G.jsx(JA,{children:G.jsx(D3,{children:G.jsx(P3,{})})}));
